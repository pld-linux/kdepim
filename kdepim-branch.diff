Index: akregator/ChangeLog
===================================================================
--- akregator/ChangeLog	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/ChangeLog	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,10 +1,31 @@
 Akregator ChangeLog
 ===================
-(c) 2004, 2005 the Akregator authors.
+(c) 2004-2006 the Akregator authors.
 
+Changes after 1.2:
+-----------------------------
+
+Bug fixes:
+
+ 2006/01/16 Fix article order in Combined View: sort by date (reversed) (#118055) -fo
+ 2006/01/15 Fix parsing of Atom 1.0 feeds with escaped HTML in it: Don't show tags
+            as text (#112491, #117938) -fo
+ 2006/01/10 Select next item in article list when deleting the selected article
+            (single selection mode only) (#119724) -fo
+ 2006/01/10 Fix item handling in the feed list, avoid crashes as happening 
+            after moving a folder and deleting a subitem afterwards 
+            (#118659) -fo
+ 2006/01/08 Fix problems with keyboard navigation getting stuck on duplicated
+            articles and prevent creation of new items when selecting an unread
+            dupe (#114997) -fo
+ 2005/12/05 Wait 30 minutes before retrying fetching when fetching failed (host
+            down, parsing error) (#113358) -fo
+
 Changes after 1.0:
 -----------------------------
 
+Note: This section (i.e. changes between 1.0 and 1.2) is completely incomplete
+
 New features:
        - add "Save link as" to context menus -fo
        
Index: akregator/src/articleviewer.cpp
===================================================================
--- akregator/src/articleviewer.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/articleviewer.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -637,6 +637,7 @@
         return slotClear();
 
     QValueList<Article> articles = m_node->articles();
+    qHeapSort(articles);
     QValueList<Article>::ConstIterator end = articles.end();
     QValueList<Article>::ConstIterator it = articles.begin();
 
Index: akregator/src/notificationmanager.cpp
===================================================================
--- akregator/src/notificationmanager.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/notificationmanager.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -33,7 +33,7 @@
 #include "feed.h"
 #include "notificationmanager.h"
 
-using namespace Akregator;
+namespace Akregator {
 
 NotificationManager::NotificationManager() : QObject()
 {
@@ -138,4 +138,6 @@
     return m_self;
 }
 
+} // namespace Akregator
+
 #include "notificationmanager.moc"
Index: akregator/src/treenodeitem.cpp
===================================================================
--- akregator/src/treenodeitem.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/treenodeitem.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -34,7 +34,7 @@
 
 #include <kdebug.h>
 
-using namespace Akregator;
+namespace Akregator {
 
 TreeNodeItem::TreeNodeItem(FolderItem* parent, TreeNode* node)
     : KListViewItem(parent), m_node(node)
@@ -160,7 +160,6 @@
     p->setPen( cg.highlightedText() );
     else
     p->setPen( cg.text() );*/
-
-
 }
 
+} // namespace Akregator
Index: akregator/src/tagnodeitem.cpp
===================================================================
--- akregator/src/tagnodeitem.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/tagnodeitem.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -33,7 +33,7 @@
 #include <qpoint.h>
 #include <qpopupmenu.h>
 
-using namespace Akregator;
+namespace Akregator {
 
 TagNodeItem::TagNodeItem(FolderItem* parent, TagNode* node) : TreeNodeItem(parent, node)
 {
@@ -87,3 +87,5 @@
 TagNodeItem::~TagNodeItem()
 {}
 
+} // namespace Akregator
+
Index: akregator/src/feed.cpp
===================================================================
--- akregator/src/feed.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/feed.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -62,9 +62,14 @@
         bool markImmediatelyAsRead;
         bool useNotification;
         bool loadLinkedWebsite;
-        int lastFetched;
 
         bool fetchError;
+        
+        int lastErrorFetch; // save time of last fetch that went wrong.
+                            // != lastFetch property from the archive 
+                            // (that saves the last _successfull fetch!)
+                            // workaround for 3.5.x
+
         int fetchTries;
         bool followDiscovery;
         RSS::Loader* loader;
@@ -267,6 +272,7 @@
     d->markImmediatelyAsRead = false;
     d->useNotification = false;
     d->fetchError = false;
+    d->lastErrorFetch = 0;
     d->fetchTries = 0;
     d->loader = 0;
     d->articlesLoaded = false;
@@ -395,6 +401,14 @@
         queue->addFeed(this);
     else
     {
+        uint now = QDateTime::currentDateTime().toTime_t();
+
+        // workaround for 3.5.x: if the last fetch went wrong, try again after 30 minutes
+        // this fixes annoying behaviour of akregator, especially when the host is reachable
+        // but Akregator can't parse the feed (the host is hammered every minute then)
+        if ( fetchErrorOccurred() && now - d->lastErrorFetch <= 30*60 )
+             return;
+
         int interval = -1;
 
         if (useCustomFetchInterval() )
@@ -405,8 +419,6 @@
 
         uint lastFetch = d->archive->lastFetch();
 
-        uint now = QDateTime::currentDateTime().toTime_t();
-
         if ( interval > 0 && now - lastFetch >= (uint)interval )
             queue->addFeed(this);
     }
@@ -587,6 +599,7 @@
         else
         {
             d->fetchError = true;
+            d->lastErrorFetch = QDateTime::currentDateTime().toTime_t();
             emit fetchError(this);
         }
         return;
Index: akregator/src/articlelistview.cpp
===================================================================
--- akregator/src/articlelistview.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/articlelistview.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -59,9 +59,21 @@
 class ArticleListView::ArticleListViewPrivate
 {
     public:
+
+    ArticleListViewPrivate(ArticleListView* parent) : m_parent(parent) { }
+
+    void ensureCurrentItemVisible()
+    {
+        if (m_parent->currentItem())
+        {
+            m_parent->center( m_parent->contentsX(), m_parent->itemPos(m_parent->currentItem()), 0, 9.0 );
+        }
+    }
+
+    ArticleListView* m_parent;
+
     /** maps article to article item */
     QMap<Article, ArticleItem*> articleMap;
-    
     TreeNode* node;
     Akregator::Filters::ArticleMatcher textFilter;
     Akregator::Filters::ArticleMatcher statusFilter;
@@ -201,8 +213,9 @@
 /* ==================================================================================== */
 
 ArticleListView::ArticleListView(QWidget *parent, const char *name)
-    : KListView(parent, name), d (new ArticleListViewPrivate)
+    : KListView(parent, name)
 {
+    d = new ArticleListViewPrivate(this);
     d->noneSelected = true;
     d->node = 0;
     d->columnMode = ArticleListViewPrivate::feedMode;
@@ -355,6 +368,12 @@
 {
     setUpdatesEnabled(false);
 
+    // if only one item is selected and this selected item
+    // is deleted, we will select the next item in the list
+    bool singleSelected = selectedArticles().count() == 1;
+    
+    QListViewItem* next = 0; // the item to select if a selected item is deleted
+    
     for (QValueList<Article>::ConstIterator it = list.begin(); it != list.end(); ++it)
     {
         
@@ -362,8 +381,16 @@
         {
             ArticleItem* ali = d->articleMap[*it];
 
-            if ((*it).isDeleted()) // if article was set to deleted, delete item
+            if (ali && (*it).isDeleted()) // if article was set to deleted, delete item
             {
+                if (singleSelected && ali->isSelected())
+                {
+                    if (ali->itemBelow())
+                        next = ali->itemBelow();
+                    else if (ali->itemAbove())
+                        next = ali->itemAbove();
+                }
+                
                 d->articleMap.remove(*it);
                 delete ali;
             }
@@ -377,22 +404,55 @@
         }
     }
 
+    // if the only selected item was deleted, select
+    // an item next to it
+    if (singleSelected && next != 0)
+    {
+        setSelected(next, true);
+        setCurrentItem(next);
+    }
+
     setUpdatesEnabled(true);
     triggerUpdate();
 }
 
 void ArticleListView::slotArticlesRemoved(TreeNode* /*node*/, const QValueList<Article>& list)
 {
+    // if only one item is selected and this selected item
+    // is deleted, we will select the next item in the list
+    bool singleSelected = selectedArticles().count() == 1;
+
+    QListViewItem* next = 0; // the item to select if a selected item is deleted
+    
     setUpdatesEnabled(false);
+    
     for (QValueList<Article>::ConstIterator it = list.begin(); it != list.end(); ++it)
     {
         if (d->articleMap.contains(*it))
         {
             ArticleItem* ali = d->articleMap[*it];
             d->articleMap.remove(*it);
+            
+            if (singleSelected && ali->isSelected())
+            {
+                if (ali->itemBelow())
+                    next = ali->itemBelow();
+                else if (ali->itemAbove())
+                    next = ali->itemAbove();
+            }
+            
             delete ali;
         }
     }
+    
+    // if the only selected item was deleted, select
+    // an item next to it
+    if (singleSelected && next != 0)
+    {
+        setSelected(next, true);
+        setCurrentItem(next);
+    }
+
     setUpdatesEnabled(true);
     triggerUpdate();
 }
@@ -524,7 +584,7 @@
         clearSelection();
         setSelected(d->articleMap[a], true);
         setCurrentItem(d->articleMap[a]);
-        ensureItemVisible(d->articleMap[a]);
+        d->ensureCurrentItemVisible();
     }
 }
 
@@ -542,7 +602,7 @@
         clearSelection();
         setSelected(d->articleMap[a], true);
         setCurrentItem(d->articleMap[a]);
-        ensureItemVisible(d->articleMap[a]);
+        d->ensureCurrentItemVisible();
     }
 }
 
@@ -572,7 +632,7 @@
         setCurrentItem(d->articleMap[a]);
         clearSelection();
         setSelected(d->articleMap[a], true);
-        ensureItemVisible(d->articleMap[a]);
+        d->ensureCurrentItemVisible();
     }
 }
 
@@ -602,7 +662,7 @@
         setCurrentItem(d->articleMap[a]);
         clearSelection();
         setSelected(d->articleMap[a], true);
-        ensureItemVisible(d->articleMap[a]);
+        d->ensureCurrentItemVisible();
     }
 }
 
Index: akregator/src/mainwindow.cpp
===================================================================
--- akregator/src/mainwindow.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/mainwindow.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -59,7 +59,7 @@
 #include <qtimer.h>
 
 
-using namespace Akregator;
+namespace Akregator {
 
 BrowserInterface::BrowserInterface( MainWindow *shell, const char *name )
     : KParts::BrowserInterface( shell, name )
@@ -282,6 +282,8 @@
     m_statusLabel->setText(text);
 }
 
+} // namespace Akregator
+
 #include "mainwindow.moc"
 
 
Index: akregator/src/librss/tools_p.cpp
===================================================================
--- akregator/src/librss/tools_p.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/librss/tools_p.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -45,24 +45,42 @@
 		return QString::null;
 
 	QDomElement e = node.toElement();
-	QString result;
+        QString result = e.text().stripWhiteSpace(); // let's assume plain text
 
-	if (elemName == "content" && ((e.hasAttribute("mode") && e.attribute("mode") == "xml") || !e.hasAttribute("mode")))
-		result = childNodesAsXML(node);
-	else
-		result = e.text();
-
-	bool hasPre = result.contains("<pre>",false);
-	bool hasHtml = hasPre || result.contains("<");	// FIXME: test if we have html, should be more clever -> regexp
-	if(!isInlined && !hasHtml)						// perform nl2br if not a inline elt and it has no html elts
-		result = result = result.replace(QChar('\n'), "<br />");
-	if(!hasPre)										// strip white spaces if no <pre>
-		result = result.simplifyWhiteSpace();
-
-	if (result.isEmpty())
-		return QString::null;
-
-	return result;
+        bool doHTMLCheck = true;
+ 
+        if (elemName == "content") // we have Atom here
+        {
+            doHTMLCheck = false;
+            // the first line is always the Atom 0.3, the second Atom 1.0
+            if (( e.hasAttribute("mode") && e.attribute("mode") == "escaped" && e.attribute("type") == "text/html" )
+            || (!e.hasAttribute("mode") && e.attribute("type") == "html"))
+            {
+                result = KCharsets::resolveEntities(e.text().simplifyWhiteSpace()); // escaped html
+            }
+            else if (( e.hasAttribute("mode") && e.attribute("mode") == "escaped" && e.attribute("type") == "text/plain" )
+                       || (!e.hasAttribute("mode") && e.attribute("type") == "text"))
+            {
+                result = e.text().stripWhiteSpace(); // plain text
+            }
+            else if (( e.hasAttribute("mode") && e.attribute("mode") == "xml" )
+                       || (!e.hasAttribute("mode") && e.attribute("type") == "xhtml"))
+            {
+                result = childNodesAsXML(e); // embedded XHMTL
+            }
+        }        
+        
+        if (doHTMLCheck) // check for HTML; not necessary for Atom:content
+        {
+            bool hasPre = result.contains("<pre>",false);
+            bool hasHtml = hasPre || result.contains("<");	// FIXME: test if we have html, should be more clever -> regexp
+            if(!isInlined && !hasHtml)						// perform nl2br if not a inline elt and it has no html elts
+                    result = result = result.replace(QChar('\n'), "<br />");
+            if(!hasPre)										// strip white spaces if no <pre>
+                    result = result.simplifyWhiteSpace();
+        }
+        
+        return result.isEmpty() ? QString::null : result;
 }
 
 QString RSS::extractTitle(const QDomNode & parent)
Index: akregator/src/actionmanagerimpl.cpp
===================================================================
--- akregator/src/actionmanagerimpl.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/actionmanagerimpl.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -69,14 +69,14 @@
     public:
     NodeSelectVisitor(ActionManagerImpl* manager) : m_manager(manager) {}
 
-    virtual bool visitFeed(Feed* /*node*/)
+    virtual bool visitFeed(Feed* node)
     {
         KAction* remove = m_manager->action("feed_remove");
         if (remove)
             remove->setEnabled(true);
         KAction* hp = m_manager->action("feed_homepage");
         if (hp)
-            remove->setEnabled(true);
+            hp->setEnabled(!node->htmlUrl().isEmpty());
         m_manager->action("feed_fetch")->setText(i18n("&Fetch Feed"));
         m_manager->action("feed_remove")->setText(i18n("&Delete Feed"));
         m_manager->action("feed_modify")->setText(i18n("&Edit Feed..."));
Index: akregator/src/mk4storage/metakit/src/column.cpp
===================================================================
--- akregator/src/mk4storage/metakit/src/column.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/mk4storage/metakit/src/column.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1441,8 +1441,9 @@
       Set(index_++, c4_Bytes (ptr, length));
     }
   }
-  else
+  else {
     d4_assert(count_ == 0);
+  }
 
   FixSize(false);
 }
Index: akregator/src/mk4storage/akregator_mk4storage_plugin.desktop
===================================================================
--- akregator/src/mk4storage/akregator_mk4storage_plugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/mk4storage/akregator_mk4storage_plugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -5,12 +5,15 @@
 Name[cs]=Metakit úložiště
 Name[da]=Metakit lagringsgrænseflade
 Name[de]=Metakit Archiv-Modul
+Name[el]=Σύστημα υποστήριξης αποθήκευσης Metakit
 Name[es]=Dorsal de almacenamiento Metakit
 Name[et]=Metakiti salvestamisrakendus
+Name[eu]=Metakit-en biltegiratze euskarria
 Name[fr]=Stockage avec Metakit
 Name[is]=Metakit geymslu bakendi
 Name[it]=Backend archiviazione metakit
 Name[nb]=Metakit lagringsbakstykke
+Name[nds]=Metakit-Archivmoduul
 Name[nl]=Metakit-opslagbackend
 Name[nn]=Metakit-lagringsbakstykke
 Name[pl]=System przechowywania Metakit
@@ -21,35 +24,39 @@
 Name[sr@Latn]=Sistem za smeštanje Meta kompleta
 Name[sv]=Metakit lagringsgränssnitt
 Name[uk]=Програма зберігання Metakit
-Name[xx]=xxMetakit storage backendxx
 Name[zh_CN]=Metakit 存储后端
 X-KDE-Library=libakregator_mk4storage_plugin
 Comment=Plugin for Akregator
 Comment[bg]=Приставка за Akregator
+Comment[br]=Lugent evit Akregator
 Comment[cs]=Modul pro Akregator
 Comment[de]=Modul für Akregator
+Comment[el]=Πρόσθετο για το Akregator
 Comment[es]=Extensión para Akregator
 Comment[et]=Akregatori plugin
+Comment[eu]=Akregator-en plugina
 Comment[fr]=Module pour Akregator
 Comment[ga]=Breiseán Akregator
 Comment[he]=תוסף עבור Akregator
 Comment[is]=Íforrit fyrir Akregator
 Comment[it]=Plugin per Akregator
+Comment[ja]=Akregator 用プラグイン
 Comment[lt]=Akregator skirtas priedas
 Comment[nb]=Programtillegg for Akregator
+Comment[nds]=Moduul för Akregator
 Comment[nl]=Plugin voor Akregator
 Comment[nn]=Programtillegg til Akregator
 Comment[pl]=Wtyczka dla Akregatora
 Comment[pt]='Plugin' para o Akregator
 Comment[pt_BR]=Plugin para o Akregator
 Comment[ru]=Модуль для Akregator
+Comment[sl]=Vstavek za Akregator
 Comment[sr]=Прикључак за Akregator
 Comment[sr@Latn]=Priključak za Akregator
 Comment[sv]=Insticksprogram för Akregator
 Comment[tr]=Akregator Eklentisi
 Comment[uk]=Втулок для Akregator
 Comment[uz]=Akregator учун плагин
-Comment[xx]=xxPlugin for Akregatorxx
 Comment[zh_CN]=Akregator 插件
 ServiceTypes=Akregator/Plugin
 
Index: akregator/src/propertiesdialog.cpp
===================================================================
--- akregator/src/propertiesdialog.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/propertiesdialog.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -36,7 +36,7 @@
 #include <qbuttongroup.h>
 #include <qradiobutton.h>
 
-using namespace Akregator;
+namespace Akregator {
 
 FeedPropertiesWidget::FeedPropertiesWidget(QWidget *parent, const char *name)
         : FeedPropertiesWidgetBase(parent, name)
@@ -318,5 +318,7 @@
    widget->feedNameEdit->selectAll();
 }
 
+} // namespace Akregator
+
 #include "propertiesdialog.moc"
 // vim: ts=4 sw=4 et
Index: akregator/src/akregator_view.h
===================================================================
--- akregator/src/akregator_view.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/akregator_view.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -32,6 +32,7 @@
 
 #include <kurl.h>
 
+#include "akregator_run.h"
 #include "feed.h"
 
 class QSplitter;
@@ -47,6 +48,7 @@
 class KListView;
 class KListViewItem;
 class KTabWidget;
+class Viewer;
 
 namespace KIO {
 
@@ -60,6 +62,7 @@
     class ArticleMatcher;
     class ArticleListView;
     class ArticleViewer;
+    class BrowserRun;
     class Folder;
     class FeedList;
     class Frame;
@@ -175,7 +178,7 @@
             /** opens a page viewer in a new tab and loads an URL
              @param url the url to load
              @param background whether the tab should be opened in the background or in the foreground (activated after creation) */
-            void slotOpenTab(const KURL& url, bool background = false);
+            void slotOpenNewTab(const KURL& url, bool background = false);
 
             /** called when another part/frame is activated. Updates progress bar, caption etc. accordingly
             @param f the activated frame */
@@ -273,7 +276,7 @@
             void disconnectFromFeedList(FeedList* feedList);
 
             void updateTagActions();
-
+            
         protected slots:
 
             /** this is called by the ctor, does init steps which need a properly created view and part */
@@ -284,12 +287,17 @@
 
             void setTabIcon(const QPixmap&);
 
-            /** Display article in external browser. */
-            void displayInExternalBrowser(const KURL &url);
-
             void slotDoIntervalFetches();
             void slotDeleteExpiredArticles();
 
+            /** HACK: receives signal from browserrun when the browserrun detects an HTML mimetype and actually loads the page TODO: Remove for KDE 4.0 */
+            void slotOpenURLReply(const KURL& url, Akregator::Viewer* currentViewer, Akregator::BrowserRun::OpeningMode mode);
+
+            /** HACK: part of the url opening hack for 3.5. called when a viewer emits urlClicked(). TODO: Remove for KDE4 */
+            void slotUrlClickedInViewer(const KURL& url, bool background);
+
+            void slotOpenURL(const KURL& url, Akregator::Viewer* currentViewer, Akregator::BrowserRun::OpeningMode mode);
+
         public:         // compat with KDE-3.x assertions, remove for KDE 4
 //         private:
 
Index: akregator/src/feeditem.cpp
===================================================================
--- akregator/src/feeditem.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/feeditem.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -32,7 +32,7 @@
 #include <kiconloader.h>
 #include <qstring.h>
 
-using namespace Akregator;
+namespace Akregator {
 
 FeedItem::FeedItem(FolderItem* parent, Feed* node) : TreeNodeItem(parent, node)
 {
@@ -115,3 +115,5 @@
         static_cast<QPopupMenu *>(w)->exec(p);
 }
 
+} // namespace Akregator
+
Index: akregator/src/feedlistview.cpp
===================================================================
--- akregator/src/feedlistview.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/feedlistview.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -71,6 +71,7 @@
     ConnectNodeVisitor* connectNodeVisitor;
     DisconnectNodeVisitor* disconnectNodeVisitor;
     CreateItemVisitor* createItemVisitor;
+    DeleteItemVisitor* deleteItemVisitor;
     DragAndDropVisitor* dragAndDropVisitor;
 };
 
@@ -186,6 +187,57 @@
         NodeListView* m_view;
 };
 
+class NodeListView::DeleteItemVisitor : public TreeNodeVisitor
+{
+    public:
+        
+        DeleteItemVisitor(NodeListView* view) : m_view(view) {}
+        
+        virtual bool visitTreeNode(TreeNode* node)
+        {
+            TreeNodeItem* item = m_view->d->itemDict.take(node);
+    
+            if (!item)
+                return true;
+    
+            if ( m_selectNeighbour && item->isSelected() )
+            {
+                if (item->itemBelow())
+                    m_view->setSelected(item->itemBelow(), true);
+                else if (item->itemAbove())
+                    m_view->setSelected(item->itemAbove(), true);
+                else
+                    m_view->setSelected(item, false);
+            }
+            
+            delete item;
+            return true;
+        
+        }
+        
+        virtual bool visitFolder(Folder* node)
+        {
+            // delete child items recursively before deleting parent
+            QValueList<TreeNode*> children = node->children();
+            for (QValueList<TreeNode*>::ConstIterator it =  children.begin(); it != children.end(); ++it )
+                visit(*it);
+            
+            visitTreeNode(node);
+            
+            return true;
+        }
+        
+        void deleteItem(TreeNode* node, bool selectNeighbour)
+        {
+            m_selectNeighbour = selectNeighbour;
+            visit(node);
+        }
+        
+    private:
+        NodeListView* m_view;
+        bool m_selectNeighbour;
+};
+
 class NodeListView::CreateItemVisitor : public TreeNodeVisitor
 {
     public:
@@ -193,7 +245,6 @@
 
         virtual bool visitTagNode(TagNode* node)
         {
-            kdDebug() << "create item for " << node->title() << endl;
             TagNodeItem* item = 0;
             TreeNode* prev = node->prevSibling();
             FolderItem* parentItem = static_cast<FolderItem*>(m_view->findNodeItem(node->parent()));
@@ -281,9 +332,9 @@
                     item = new FolderItem(m_view, node);
             }
             m_view->d->itemDict.insert(node, item);
+            
+            // add children recursively
             QValueList<TreeNode*> children = node->children();
-
-            // add children recursively
             for (QValueList<TreeNode*>::ConstIterator it =  children.begin(); it != children.end(); ++it )
                 visit(*it);
 
@@ -333,6 +384,7 @@
     d->connectNodeVisitor = new ConnectNodeVisitor(this),
     d->disconnectNodeVisitor = new DisconnectNodeVisitor(this);
     d->createItemVisitor = new CreateItemVisitor(this);
+    d->deleteItemVisitor = new DeleteItemVisitor(this);
     d->dragAndDropVisitor = new DragAndDropVisitor(this);
 
     setMinimumSize(150, 150);
@@ -372,6 +424,7 @@
     delete d->connectNodeVisitor;
     delete d->disconnectNodeVisitor;
     delete d->createItemVisitor;
+    delete d->deleteItemVisitor;
     delete d->dragAndDropVisitor;
     delete d;
     d = 0;
@@ -841,9 +894,12 @@
 
 void NodeListView::slotSelectionChanged(QListViewItem* item)
 {
- TreeNodeItem* ni = dynamic_cast<TreeNodeItem*> (item);
+    TreeNodeItem* ni = dynamic_cast<TreeNodeItem*> (item);
+    
     if (ni)
+    {
         emit signalNodeSelected(ni->node());
+    }
 }
 
 void NodeListView::slotItemRenamed(QListViewItem* item, int col, const QString& text)
@@ -855,7 +911,6 @@
     {
         if (text != ni->node()->title())
         {
-            kdDebug() << "renamed item to \"" << text << "\"" << endl;
             ni->node()->setTitle(text);
         }
     }
@@ -874,9 +929,12 @@
     if (!feed->favicon().isNull())
     {
         TreeNodeItem* item = findNodeItem(feed);
-        KIconEffect iconEffect;
-        QPixmap tempIcon = iconEffect.apply(feed->favicon(), KIcon::Small, KIcon::DisabledState);
-        item->setPixmap(0, tempIcon);
+        if (item)
+        {
+            KIconEffect iconEffect;
+            QPixmap tempIcon = iconEffect.apply(feed->favicon(), KIcon::Small, KIcon::DisabledState);
+            item->setPixmap(0, tempIcon);
+        }
     }
 
 }
@@ -904,17 +962,14 @@
       
 void NodeListView::slotNodeAdded(TreeNode* node)
 {
-    d->createItemVisitor->visit(node);
-    kdDebug() << "NodeListView::slotNodeAdded: " << node->title() << endl;
+    if (node)
+        d->createItemVisitor->visit(node);
 }
 
 void NodeListView::slotNodeRemoved(Folder* /*parent*/, TreeNode* node)
 {
-    if (!node)
-        return;
-    kdDebug() << "NodeListView::slotNodeRemoved: " << node->title() << endl; 
-    disconnectFromNode(node);
-    delete d->itemDict.take(node);
+    if (node)
+        d->deleteItemVisitor->deleteItem(node, false);
 }
 
 void NodeListView::connectToNode(TreeNode* node)
@@ -957,23 +1012,8 @@
 
 void NodeListView::slotNodeDestroyed(TreeNode* node)
 {
-    TreeNodeItem* item = findNodeItem(node);
-    
-    d->itemDict.remove(node);
-
-    if (!item)
-        return;
-    
-    if ( item->isSelected() )
-    {
-        if (item->itemBelow())
-            setSelected(item->itemBelow(), true);
-        else if (item->itemAbove())
-            setSelected(item->itemAbove(), true);
-        else
-            setSelected(item, false);
-    }
-    delete item;
+    if (node)
+        d->deleteItemVisitor->deleteItem(node, true);
 }
 
 void NodeListView::slotRootNodeChanged(TreeNode* rootNode)
Index: akregator/src/folderitem.cpp
===================================================================
--- akregator/src/folderitem.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/folderitem.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -31,7 +31,7 @@
 #include <kaction.h>
 #include <kiconloader.h>
 
-using namespace Akregator;
+namespace Akregator {
 
 FolderItem::FolderItem(FolderItem* parent, Folder* node) : TreeNodeItem(parent, node)
 {
@@ -82,3 +82,5 @@
     if (w)
         static_cast<QPopupMenu *>(w)->exec(p);
 }
+
+} // namespace Akregator
Index: akregator/src/addfeeddialog.cpp
===================================================================
--- akregator/src/addfeeddialog.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/addfeeddialog.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -37,7 +37,7 @@
 #include <ksqueezedtextlabel.h>
 #include <kmessagebox.h>
 
-using namespace Akregator;
+namespace Akregator {
 
 AddFeedWidget::AddFeedWidget(QWidget *parent, const char *name)
    : AddFeedWidgetBase(parent, name)
@@ -117,5 +117,7 @@
     enableButtonOK(!text.isEmpty());
 }
 
+} // namespace Akregator
+
 #include "addfeeddialog.moc"
 // vim: ts=4 sw=4 et
Index: akregator/src/pageviewer.cpp
===================================================================
--- akregator/src/pageviewer.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/pageviewer.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -237,12 +237,15 @@
     closeURL();
 }
 
-void PageViewer::openPage(const KURL& url)
+bool PageViewer::openURL(const KURL& url)
 {
-    Viewer::openPage(url);
+    updateHistoryEntry(); // update old history entry before switching to the new one
+    emit started(0);
 
-    addHistoryEntry(url);
+    bool val = KHTMLPart::openURL(url);
     
+    addHistoryEntry(url); // add new URL to history
+    
     d->backAction->setEnabled( d->current != d->history.begin() );
     d->forwardAction->setEnabled( d->current != d->history.fromLast() );
   
@@ -251,30 +254,11 @@
         emit setTabIcon(QPixmap(KGlobal::dirs()->findResource("cache", favicon+".png")));
     else
         emit setTabIcon(SmallIcon("html"));
-}
 
-// Taken from KDevelop (lib/widgets/kdevhtmlpart.cpp)
-bool PageViewer::openURL(const KURL &url)
-{
-    updateHistoryEntry();
-    new Akregator::BrowserRun(this, (QWidget*)parent(), this, url, browserExtension()->urlArgs());
-    emit started(0);
-    
-//     if (!d->restoring)
-//         addHistoryEntry(url);
-//     
-//     d->backAction->setEnabled( d->current != d->history.begin() );
-//     d->forwardAction->setEnabled( d->current != d->history.fromLast() );
-//   
-//     QString favicon = FeedIconManager::self()->iconLocation(url);
-//     if (!favicon.isEmpty()) 
-//         emit setTabIcon(QPixmap(KGlobal::dirs()->findResource("cache", favicon+".png")));
-//     else
-//         emit setTabIcon(SmallIcon("html"));
-//     
-    return true;
+    return val;
 }
 
+
 void PageViewer::slotOpenURLRequest(const KURL& url, const KParts::URLArgs& args)
 {
     updateHistoryEntry();
@@ -492,9 +476,10 @@
         else
             kurl = KURL(url);
 //    kurl.addPath(url);
-        if (kurl.isValid())
-            ;//             slotOpenInNewWindow(kurl);
-//      openURL( kurl );
+        if (kurl.isValid()) {
+            //slotOpenInNewWindow(kurl);
+        }
+//      ( kurl );
     }
 }
 
Index: akregator/src/feedlistview.h
===================================================================
--- akregator/src/feedlistview.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/feedlistview.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -178,6 +178,9 @@
     friend class CreateItemVisitor;
     class CreateItemVisitor;
 
+    friend class DeleteItemVisitor;
+    class DeleteItemVisitor;
+    
     friend class DragAndDropVisitor;
     class DragAndDropVisitor;
 
Index: akregator/src/viewer.cpp
===================================================================
--- akregator/src/viewer.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/viewer.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -45,7 +45,7 @@
 #include "akregator_run.h"
 #include "akregatorconfig.h"
 
-using namespace Akregator;
+namespace Akregator {
 
 Viewer::Viewer(QWidget *parent, const char *name)
     : KHTMLPart(parent, name), m_url(0)
@@ -327,6 +327,8 @@
     setStatusMessagesEnabled(false);
 }
 
+} // namespace Akregator
+
 #include "viewer.moc"
 
 // vim: set et ts=4 sts=4 sw=4:
Index: akregator/src/akregator_run.h
===================================================================
--- akregator/src/akregator_run.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/akregator_run.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -30,23 +30,37 @@
 namespace Akregator
 {
 
-    class Viewer;
-    
-    class BrowserRun : public KParts::BrowserRun
+class Viewer;
+
+class BrowserRun : public KParts::BrowserRun
 {
-	Q_OBJECT
+    Q_OBJECT
     public:
-        BrowserRun(Viewer *, QWidget *, KParts::ReadOnlyPart *, const KURL & , const KParts::URLArgs &);
+        /** indicates how HTML pages should be opened. It is passed in the constructor and sent back via the openInViewer signal. This is a workaround to fix opening of non-HTML mimetypes in 3.5, which will be refactored for KDE4 anyway. For 3.5.x it's the easiest way to fix the problem without changing too much code TODO KDE4: refactor, remove this enum  */
+        enum OpeningMode 
+        {
+            CURRENT_TAB,
+            NEW_TAB_FOREGROUND,
+            NEW_TAB_BACKGROUND,
+            EXTERNAL
+        };
+
+        BrowserRun(QWidget* mainWindow, Viewer* currentViewer, const KURL& url, const KParts::URLArgs& args, OpeningMode mode);
         virtual ~BrowserRun();
-    
+
+    signals:
+
+        void signalOpenInViewer(const KURL&, Akregator::Viewer*, Akregator::BrowserRun::OpeningMode);
+
     protected:
-	    virtual void foundMimeType( const QString & _type );
+	    virtual void foundMimeType(const QString& type);
 
     private slots:
-        void killMyself();
+        void slotViewerDeleted();
 
     private:
-        Viewer *m_viewer;
+        OpeningMode m_openingMode;
+        Viewer* m_currentViewer;
 };
 
 }
Index: akregator/src/pageviewer.h
===================================================================
--- akregator/src/pageviewer.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/pageviewer.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -45,9 +45,6 @@
             virtual ~PageViewer();
             virtual bool openURL(const KURL &url);
 
-            /** used by the BrowserRun object */
-            virtual void openPage(const KURL& url);
-
         protected:
 
             class HistoryEntry;
Index: akregator/src/akregator_run.cpp
===================================================================
--- akregator/src/akregator_run.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/akregator_run.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -27,14 +27,19 @@
 #include "viewer.h"
 #include "akregator_run.h"
 
-using namespace Akregator;
+namespace Akregator {
 
 
-BrowserRun::BrowserRun(Viewer *viewer, QWidget *parent, KParts::ReadOnlyPart *part, const KURL & url, const KParts::URLArgs &args)
-    : KParts::BrowserRun(url, args, part, parent, false, true)
+BrowserRun::BrowserRun(QWidget* mainWindow, Viewer* currentViewer, const KURL& url, const KParts::URLArgs& args, OpeningMode mode)
+    : KParts::BrowserRun(url, args, 0L, mainWindow, false, true)
 {
-    m_viewer=viewer;
-    connect(m_viewer, SIGNAL(destroyed()), this, SLOT(killMyself()));
+    m_currentViewer = currentViewer;
+    m_openingMode = mode;
+
+    if (mode == CURRENT_TAB)
+    {
+        connect(m_currentViewer, SIGNAL(destroyed()), this, SLOT(slotViewerDeleted()));
+    }
     setEnableExternalBrowser(false);
 }
 
@@ -46,18 +51,22 @@
 void BrowserRun::foundMimeType( const QString & type )
 {
     if (type=="text/html" ||type=="text/xml" || type=="application/xhtml+xml")
-        m_viewer->openPage(url());
+        emit signalOpenInViewer(url(), m_currentViewer, m_openingMode);
     else
         if ( handleNonEmbeddable(type) == KParts::BrowserRun::NotHandled )
             KRun::foundMimeType( type );
 }
 
-void BrowserRun::killMyself()
+void BrowserRun::slotViewerDeleted()
 {
-    kdDebug() << "BrowserRun::killMyself()" << endl;
-    delete this;
+
+    // HACK: if the mode is to open the page in the current viewer, we set it to new tab (foreground) if the part gets deleted meanwhile
+    m_currentViewer = 0;
+    m_openingMode = NEW_TAB_FOREGROUND;
 }
 
+} // namespace Akregator
+
 #include "akregator_run.moc"
 
 // vim: set et ts=4 sts=4 sw=4:
Index: akregator/src/aboutdata.h
===================================================================
--- akregator/src/aboutdata.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/aboutdata.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -28,7 +28,7 @@
 #include <kaboutdata.h>
 #include <kdepimmacros.h>
 
-#define AKREGATOR_VERSION "1.2"
+#define AKREGATOR_VERSION "1.2.1"
 
 namespace Akregator {
 /**
Index: akregator/src/akregator_plugin.desktop
===================================================================
--- akregator/src/akregator_plugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/akregator_plugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -3,30 +3,35 @@
 X-KDE-ServiceType=Akregator/Plugin
 Comment=Plugin for Akregator
 Comment[bg]=Приставка за Akregator
+Comment[br]=Lugent evit Akregator
 Comment[cs]=Modul pro Akregator
 Comment[de]=Modul für Akregator
+Comment[el]=Πρόσθετο για το Akregator
 Comment[es]=Extensión para Akregator
 Comment[et]=Akregatori plugin
+Comment[eu]=Akregator-en plugina
 Comment[fr]=Module pour Akregator
 Comment[ga]=Breiseán Akregator
 Comment[he]=תוסף עבור Akregator
 Comment[is]=Íforrit fyrir Akregator
 Comment[it]=Plugin per Akregator
+Comment[ja]=Akregator 用プラグイン
 Comment[lt]=Akregator skirtas priedas
 Comment[nb]=Programtillegg for Akregator
+Comment[nds]=Moduul för Akregator
 Comment[nl]=Plugin voor Akregator
 Comment[nn]=Programtillegg til Akregator
 Comment[pl]=Wtyczka dla Akregatora
 Comment[pt]='Plugin' para o Akregator
 Comment[pt_BR]=Plugin para o Akregator
 Comment[ru]=Модуль для Akregator
+Comment[sl]=Vstavek za Akregator
 Comment[sr]=Прикључак за Akregator
 Comment[sr@Latn]=Priključak za Akregator
 Comment[sv]=Insticksprogram för Akregator
 Comment[tr]=Akregator Eklentisi
 Comment[uk]=Втулок для Akregator
 Comment[uz]=Akregator учун плагин
-Comment[xx]=xxPlugin for Akregatorxx
 Comment[zh_CN]=Akregator 插件
 
 
Index: akregator/src/akregator.desktop
===================================================================
--- akregator/src/akregator.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/akregator.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,7 +1,6 @@
 [Desktop Entry]
 Encoding=UTF-8
 Name=Akregator
-Name[xx]=xxAkregatorxx
 Exec=akregator %i %m -caption "%c"
 Icon=akregator
 Type=Application
@@ -12,7 +11,7 @@
 GenericName[cs]=Čtení RSS kanálů
 GenericName[da]=RSS-Kildelæser
 GenericName[de]=Anzeige von RSS Nachrichtenquellen
-GenericName[el]=Αναγνώστης ροών RSS
+GenericName[el]=Αναγνώστης εισροών RSS
 GenericName[es]=Lector de orígenes RSS
 GenericName[et]=RSS-kanalite lugemisvahend
 GenericName[eu]=RSS iturri Irakurlea
@@ -22,8 +21,10 @@
 GenericName[hu]=RSS hírolvasó
 GenericName[is]=RSS fréttaforrit
 GenericName[it]=Lettore Fonti RSS
+GenericName[ja]=RSS ニュースリーダ
 GenericName[lt]=RSS kanalų skaityklė
 GenericName[nb]=Leser for RSS-kanal
+GenericName[nds]=Kieker för RSS-Mellenströöm
 GenericName[nl]=RSS-feedlezer
 GenericName[nn]=RSS-lesar
 GenericName[pl]=Program do przeglądania kanałów RSS
@@ -37,7 +38,6 @@
 GenericName[ta]=RSS பீஃட் வாசிப்பான்
 GenericName[tr]=RSS Haber Kaynağı Okuyucu
 GenericName[uk]=Програма для читання подач RSS
-GenericName[xx]=xxRSS Feed Readerxx
 GenericName[zh_CN]=RSS 种子阅读器
 Comment=An RSS Aggregator for KDE
 Comment[bg]=Четец на новости във формат RSS
@@ -45,6 +45,7 @@
 Comment[cs]=RSS agregátor pro KDE
 Comment[da]=En RSS Aggregator for KDE
 Comment[de]=Ein RSS Nachrichtensammler für KDE
+Comment[el]=Ένας συσσωρευτής RSS για το KDE
 Comment[es]=Un agregador de RSS para KDE
 Comment[et]=KDE RSS-kanalite lugemisvahend
 Comment[eu]=KDE-ren RSS gehitzailea
@@ -53,7 +54,9 @@
 Comment[hu]=KDE-s hírolvasó RSS hírcsatornákhoz
 Comment[is]=RSS fréttaforrit fyrir KDE
 Comment[it]=Un concentratore KDE per RSS
+Comment[ja]=KDE 用 RSS アグレゲータ
 Comment[nb]=En RSS-oppsamler for KDE
+Comment[nds]=Tosamensteller för RSS-Mellenströöm vun KDE
 Comment[nl]=Een RSS-agregator voor KDE
 Comment[nn]=Ein RSS-lesar for KDE
 Comment[pl]=Program podsumowujący kanały RSS dla KDE
@@ -67,7 +70,6 @@
 Comment[ta]=கேடியிக்கான ஒரு RSS சேர்ப்பான்
 Comment[tr]=Bir KDE RSS Okuyucusu
 Comment[uk]=Агрегатор RSS для KDE
-Comment[xx]=xxAn RSS Aggregator for KDExx
 Comment[zh_CN]=KDE RSS 新闻收集器
 Terminal=false
 Categories=Qt;KDE;Network;
Index: akregator/src/akregator_part.rc
===================================================================
--- akregator/src/akregator_part.rc	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/akregator_part.rc	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,5 +1,5 @@
 <!DOCTYPE kpartgui SYSTEM "kpartgui.dtd">
-<kpartgui name="akregator_part" version="77">
+<kpartgui name="akregator_part" version="78">
 <MenuBar>
   <Menu name="file">
     <Action name="file_import"/>
@@ -7,8 +7,6 @@
     <Action name="file_getfromweb"/>
     <Separator/> 
     <Action name="file_print"/>
-    <Action name="file_sendlink"/>
-    <Action name="file_sendfile"/>
     <Separator/> 
   </Menu>
 
@@ -65,6 +63,9 @@
   <Separator/>
   <Action name="article_assign_tag_menu"/>
   <Action name="article_remove_tag_menu"/>
+  <Separator/>
+  <Action name="file_sendlink"/>
+  <Action name="file_sendfile"/>
   </Menu>
   
   <Menu name="settings">
Index: akregator/src/akregator_part.desktop
===================================================================
--- akregator/src/akregator_part.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/akregator_part.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -5,10 +5,10 @@
 Name[da]=AkregatorPart
 Name[de]=aKregator-Komponente
 Name[fi]=AkregatorPart
+Name[nds]=aKregator-Komponent
 Name[pt_BR]=Componente do aKregator
 Name[sv]=aKregator-delprogram
 Name[ta]=aKregatorபகுதி
-Name[xx]=xxaKregatorPartxx
 ServiceTypes=KParts/ReadOnlyPart
 X-KDE-Library=libakregatorpart
 Type=Service
Index: akregator/src/viewer.h
===================================================================
--- akregator/src/viewer.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/viewer.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -40,14 +40,18 @@
     {
         Q_OBJECT
         public:
+
+           /**
+            * Display article in external browser.
+            */
+            static void displayInExternalBrowser(const KURL &url, const QString& mimetype=QString::null);    
+
             Viewer(QWidget* parent, const char* name);
             virtual ~Viewer();
 
             virtual bool closeURL();
+        
             
-            /** used by the BrowserRun object to call KHTMLPart::openURL() */
-            virtual void openPage(const KURL& url) { KHTMLPart::openURL(url);}
-
         public slots:
             
             void slotScrollUp(); 
@@ -59,7 +63,7 @@
             void setSafeMode();
 
             virtual void slotPaletteOrFontChanged() = 0;
-
+        
         signals:
             /** This gets emitted when url gets clicked */
             void urlClicked(const KURL& url, bool background=false);
@@ -110,11 +114,6 @@
         protected: // attributes
             KURL m_url;
             
-        private:
-            /**
-             * Display article in external browser.
-             */
-            void displayInExternalBrowser(const KURL &url, const QString &mime);
     };
 }
 
Index: akregator/src/eventsrc
===================================================================
--- akregator/src/eventsrc	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/eventsrc	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -3,7 +3,6 @@
 Comment=Akregator
 Comment[da]=Akregator Plugin
 Comment[sv]=aKregator
-Comment[xx]=xxAkregatorxx
 
 [feed_added]
 Name=Feed added
@@ -12,7 +11,7 @@
 Name[cs]=Přidán kanál
 Name[da]=Kilde tilføjet
 Name[de]=Nachrichtenquelle hinzugefügt
-Name[el]=Προστέθηκε ροή
+Name[el]=Προστέθηκε εισροή
 Name[es]=Origen añadido
 Name[et]=Kanal lisatud
 Name[eu]=Iturria gehituta
@@ -23,8 +22,10 @@
 Name[hu]=Hírforrás felvéve
 Name[is]=Straum bætt við
 Name[it]=Aggiunta fonte
+Name[ja]=フィード追加
 Name[lt]=Kanalas pridėtas
 Name[nb]=Kanal lagt til
+Name[nds]=Narichtenstroom toföögt
 Name[nl]=Feed toegevoegd
 Name[nn]=Kanal lagd til
 Name[pl]=Kanał dodany
@@ -38,7 +39,6 @@
 Name[ta]=பீஃட் சேர்க்கப்பட்டது
 Name[tr]=Haber kaynağı eklendi
 Name[uk]=Подачу додано
-Name[xx]=xxFeed addedxx
 Name[zh_CN]=添加了新闻源
 Comment=A new feed was remotely added to Akregator
 Comment[bg]=Отдалечено е добавена нова новина към Akregator
@@ -46,7 +46,7 @@
 Comment[cs]=Byl přidán nový kanál do Akregatoru
 Comment[da]=En ny kilde blev tilføjet eksternet til Akregator
 Comment[de]=Eine neue Nachrichtenquelle wurde von extern zu Akregator hinzugefügt
-Comment[el]=Μια νέα ροή προστέθηκε εξωτερικά στο Akregator
+Comment[el]=Μια νέα εισροή προστέθηκε απομακρυσμένα στο Akregator
 Comment[es]=Se ha añadido remotamente un origen a Akregator
 Comment[et]=Akregatorile lisati väljastpoolt uus kanal
 Comment[eu]=Iturri berri bat gehitu da urrunetik Akregator-era
@@ -55,8 +55,10 @@
 Comment[hu]=Egy hírforrást távolról felvettek az Akregatorba
 Comment[is]=Nýjum straum var bætt við Akregator
 Comment[it]=Una nuova fonte è stata aggiunta ad Akregator da remoto
+Comment[ja]=新規フィードがリモートで Akregator に追加されました
 Comment[lt]=Naujas nutolęs naujienų kanalas buvo įdėtas į Akregator
 Comment[nb]=En ny kanal ble lagt til Akgregator utenfra 
+Comment[nds]=En nieg Stroom wöör Akregator vun buten toföögt
 Comment[nl]=Er was extern een nieuwe feed toegevoegd aan Akregator
 Comment[nn]=Ein ny kanal vart lagd til Akregator
 Comment[pl]=Nowy kanał został zdalnie dodany do Akregatora
@@ -70,7 +72,6 @@
 Comment[ta]=Akregatorக்கு ஒரு புதிய உள்ளீடு சேர்க்கப்பட்டது
 Comment[tr]=Akregator'a yeni bir haber kaynağı eklendi
 Comment[uk]=Нову подачу було віддалено додано до Akregator
-Comment[xx]=xxA new feed was remotely added to Akregatorxx
 Comment[zh_CN]=新闻源远程添加进了 Akregator
 default_presentation=4
 
@@ -93,8 +94,10 @@
 Name[hu]=Hírekk
 Name[is]=Nýjar greinar
 Name[it]=Nuovi articoli
+Name[ja]=新規記事
 Name[lt]=Nauji straipsniai
 Name[nb]=Nye artikler
+Name[nds]=Niege Artikeln
 Name[nl]=Nieuwe artikelen
 Name[nn]=Nye artiklar
 Name[pl]=Nowe artykuły
@@ -109,7 +112,7 @@
 Name[ta]= புதிய செய்திகள்
 Name[tr]=Yeni Haberler
 Name[uk]=Нові статті
-Name[xx]=xxNew Articlesxx
+Name[uz]=Янги мақолалар
 Name[zh_CN]=新闻文章
 Comment=New articles were fetched
 Comment[bg]=Пристигнали са нови статии
@@ -127,8 +130,10 @@
 Comment[hu]=Új hírek lettek letöltve
 Comment[is]=Nýjar greinar voru sóttar
 Comment[it]=I nuovi articoli sono stati recuperati
+Comment[ja]=新規記事が取得されました
 Comment[lt]=Nauji straipsniai parsiųsti
 Comment[nb]=Nye artikler ble hentet
+Comment[nds]=Niege Artikeln wöörn haalt
 Comment[nl]=Nieuw artikelen zijn opgehaald
 Comment[nn]=Nye artiklar vart henta
 Comment[pl]=Pobrano nowe artykuły
@@ -143,7 +148,6 @@
 Comment[ta]=புதிய கட்டுரைகள் கொண்டுவரப்பட்டது
 Comment[tr]=Yeni haberler alındı
 Comment[uk]=Отримано нові статті
-Comment[xx]=xxNew articles were fetchedxx
 Comment[zh_CN]=获取了新文章
 default_presentation=4
 
Index: akregator/src/akregator_view.cpp
===================================================================
--- akregator/src/akregator_view.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/akregator_view.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -26,6 +26,7 @@
 
 #include "actionmanagerimpl.h"
 #include "akregator_part.h"
+#include "akregator_run.h"
 #include "akregator_view.h"
 #include "listtabwidget.h"
 #include "addfeeddialog.h"
@@ -306,7 +307,7 @@
     connect(m_searchBar, SIGNAL(signalSearch(const Akregator::Filters::ArticleMatcher&, const Akregator::Filters::ArticleMatcher&)), m_articleViewer, SLOT(slotSetFilter(const Akregator::Filters::ArticleMatcher&, const Akregator::Filters::ArticleMatcher&)));
 
     connect( m_articleViewer, SIGNAL(urlClicked(const KURL&, bool)),
-                        this, SLOT(slotOpenTab(const KURL&, bool)) );
+             this, SLOT(slotUrlClickedInViewer(const KURL&, bool)) );
 
     connect( m_articleViewer->browserExtension(), SIGNAL(mouseOverInfo(const KFileItem *)),
                                             this, SLOT(slotMouseOverInfo(const KFileItem *)) );
@@ -421,7 +422,7 @@
     Settings::writeConfig();
 }
 
-void View::slotOpenTab(const KURL& url, bool background)
+void View::slotOpenNewTab(const KURL& url, bool background)
 {
     PageViewer* page = new PageViewer(this, "page");
     
@@ -430,7 +431,7 @@
     connect( page, SIGNAL(setTabIcon(const QPixmap&)),
             this, SLOT(setTabIcon(const QPixmap&)));
     connect( page, SIGNAL(urlClicked(const KURL &,bool)),
-            this, SLOT(slotOpenTab(const KURL &,bool)) );
+            this, SLOT(slotUrlClickedInViewer(const KURL &, bool)) );
 
     Frame* frame = new Frame(this, page, page->widget(), i18n("Untitled"));
     frame->setAutoDeletePart(true); // delete page viewer when removing the tab
@@ -823,7 +824,44 @@
     updateTagActions();
 }
 
+void View::slotOpenURL(const KURL& url, Viewer* currentViewer, BrowserRun::OpeningMode mode)
+{
+    if (mode == BrowserRun::EXTERNAL)
+        Viewer::displayInExternalBrowser(url);
+    else
+    {
+         KParts::URLArgs args = currentViewer ? currentViewer->browserExtension()->urlArgs() : KParts::URLArgs();
+            
+        BrowserRun* r = new BrowserRun(this, currentViewer, url, args, mode);
+        connect(r, SIGNAL(signalOpenInViewer(const KURL&, Akregator::Viewer*, Akregator::BrowserRun::OpeningMode)),
+            this, SLOT(slotOpenURLReply(const KURL&, Akregator::Viewer*, Akregator::BrowserRun::OpeningMode)));
+    }
+}
 
+//TODO: KDE4 remove this ugly ugly hack
+void View::slotUrlClickedInViewer(const KURL& url, bool background)
+{
+    slotOpenURL(url, 0L, background ? BrowserRun::NEW_TAB_BACKGROUND : BrowserRun::NEW_TAB_FOREGROUND);
+}
+
+//TODO: KDE4 remove this ugly ugly hack
+void View::slotOpenURLReply(const KURL& url, Viewer* currentViewer, BrowserRun::OpeningMode mode)
+{
+    switch (mode)
+    {
+        case BrowserRun::CURRENT_TAB:
+            currentViewer->openURL(url);
+            break;
+        case BrowserRun::NEW_TAB_FOREGROUND:
+        case BrowserRun::NEW_TAB_BACKGROUND:
+            slotOpenNewTab(url, mode == BrowserRun::NEW_TAB_BACKGROUND);
+            break;
+        case BrowserRun::EXTERNAL:
+            Viewer::displayInExternalBrowser(url);
+            break;
+    }
+}
+
 void View::slotFeedAdd()
 {
     Folder* group = 0;
@@ -978,16 +1016,18 @@
     if (!feed)
         return;
 
+    KURL url = KURL(feed->htmlUrl())
+;
     switch (Settings::lMBBehaviour())
     {
         case Settings::EnumLMBBehaviour::OpenInExternalBrowser:
-            displayInExternalBrowser(feed->htmlUrl());
+            slotOpenURL(url, 0, BrowserRun::EXTERNAL);
             break;
         case Settings::EnumLMBBehaviour::OpenInBackground:
-            slotOpenTab(feed->htmlUrl(), true);
+            slotOpenURL(url, 0, BrowserRun::NEW_TAB_BACKGROUND);
             break;
         default:
-            slotOpenTab(feed->htmlUrl(), false);
+            slotOpenURL(url, 0, BrowserRun::NEW_TAB_FOREGROUND);
     }
 }
 
@@ -996,27 +1036,6 @@
     emit signalUnreadCountChanged( m_feedList->rootNode()->unread() );
 }
 
-/**
-* Display article in external browser.
-*/
-void View::displayInExternalBrowser(const KURL &url)
-{
-    if (!url.isValid()) return;
-    if (Settings::externalBrowserUseKdeDefault())
-        kapp->invokeBrowser(url.url(), "0");
-    else
-    {
-        QString cmd = Settings::externalBrowserCustomCommand();
-        QString urlStr = url.url();
-        cmd.replace(QRegExp("%u"), urlStr);
-        KProcess *proc = new KProcess;
-        QStringList cmdAndArgs = KShell::splitArgs(cmd);
-        *proc << cmdAndArgs;
-        proc->start(KProcess::DontCare);
-        delete proc;
-    }
-}
-
 void View::slotDoIntervalFetches()
 {
     m_feedList->rootNode()->slotAddToFetchQueue(Kernel::self()->fetchQueue(), true);
@@ -1068,21 +1087,19 @@
 
 void View::slotMouseButtonPressed(int button, const Article& article, const QPoint &, int)
 {
-    if (article.isNull())
-        return;
-
     if (button == Qt::MidButton)
     {
+        KURL link = article.link();
         switch (Settings::mMBBehaviour())
         {
             case Settings::EnumMMBBehaviour::OpenInExternalBrowser:
-                displayInExternalBrowser(article.link());
+                slotOpenURL(link, 0L, BrowserRun::EXTERNAL);
                 break;
             case Settings::EnumMMBBehaviour::OpenInBackground:
-                slotOpenTab(article.link(),true);
+                slotOpenURL(link, 0L, BrowserRun::NEW_TAB_BACKGROUND);
                 break;
             default:
-                slotOpenTab(article.link());
+                slotOpenURL(link, 0L, BrowserRun::NEW_TAB_FOREGROUND);
         }
     }
 }
@@ -1173,7 +1190,7 @@
 void View::slotOpenArticleExternal(const Article& article, const QPoint&, int)
 {
     if (!article.isNull())
-        displayInExternalBrowser(article.link());
+        Viewer::displayInExternalBrowser(article.link());
 }
 
 
@@ -1184,15 +1201,15 @@
     if (article.isNull())
         return;
 
-    QString link;
-    if (article.link().isValid() || (article.guidIsPermaLink() && KURL(article.guid()).isValid()))
+    KURL link;
+    if (article.link().isValid())
+        link = article.link();
+    else if (article.guidIsPermaLink())
+        link = KURL(article.guid());
+    
+    if (link.isValid()) 
     {
-        // in case link isn't valid, fall back to the guid permaLink.
-        if (article.link().isValid())
-            link = article.link().url();
-        else
-            link = article.guid();
-        slotOpenTab(link, false);
+        slotOpenURL(link, 0L, BrowserRun::NEW_TAB_FOREGROUND);
     }
 }
 
@@ -1208,15 +1225,16 @@
     if (article.isNull())
         return;
 
-    QString link;
-    if (article.link().isValid() || (article.guidIsPermaLink() && KURL(article.guid()).isValid()))
+    KURL link;
+
+    if (article.link().isValid())
+        link = article.link();
+    else if (article.guidIsPermaLink())
+        link = KURL(article.guid());
+    
+    if (link.isValid()) 
     {
-        // in case link isn't valid, fall back to the guid permaLink.
-        if (article.link().isValid())
-            link = article.link().url();
-        else
-            link = article.guid();
-        slotOpenTab(link, true);
+        slotOpenURL(link, 0L, BrowserRun::NEW_TAB_BACKGROUND);
     }
 }
 
@@ -1438,7 +1456,11 @@
     config->writeEntry("searchCombo", m_searchBar->status());
     
     TreeNode* sel = m_listTabWidget->activeView()->selectedNode();
-    config->writeEntry("selectedNodeID", sel ? sel->id() : -1);
+
+    if (sel)
+    {
+        config->writeEntry("selectedNodeID", sel->id() );
+    }
 }
 
 void View::connectToFeedList(FeedList* feedList)
Index: akregator/src/article.cpp
===================================================================
--- akregator/src/article.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ akregator/src/article.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -241,22 +241,24 @@
 
 bool Article::operator<(const Article &other) const
 {
-    return pubDate() > other.pubDate();
+    return pubDate() > other.pubDate() || 
+            (pubDate() == other.pubDate() && guid() < other.guid() );
 }
 
 bool Article::operator<=(const Article &other) const
 {
-    return pubDate() >= other.pubDate();
+    return (pubDate() > other.pubDate() || *this == other);
 }
 
 bool Article::operator>(const Article &other) const
 {
-    return pubDate() < other.pubDate();
+    return pubDate() < other.pubDate() || 
+            (pubDate() == other.pubDate() && guid() > other.guid() );
 }
 
 bool Article::operator>=(const Article &other) const
 {
-    return pubDate() <= other.pubDate();
+    return (pubDate() > other.pubDate() || *this == other);
 }
 
 bool Article::operator==(const Article &other) const
Index: kmobile/libkmobile.desktop
===================================================================
--- kmobile/libkmobile.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmobile/libkmobile.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,6 +23,7 @@
 Name[ja]=KDE 携帯機器低レベルハードウェアドライバ
 Name[lt]=KDE mobiliųjų įrenginių žemo lygmens aparatinės įrangos tvarkyklė
 Name[nb]=KDE lavnivå maskinvaredriver for mobile enheter
+Name[nds]=Sietstoop-Driever för Mobilreedschappen
 Name[nl]=Hardware-stuurprogramma voor mobiele apparaten
 Name[nn]=Lågnivå maskinvaredrivar for mobileiningar i KDE
 Name[pl]=Niskopoziomowy sterownik sprzętu urządzenia przenośnego dla KDE
@@ -38,5 +39,4 @@
 Name[tg]=Драйвери пастдараҷавии кор бо дастгоҳи мобилӣ дар KDE
 Name[tr]=KDE Taşınabilir Aygıt Düşük Seviye Donanım Sürücüsü
 Name[uk]=Мобільний пристрій KDE драйвер працюючий з пристроєм напряму
-Name[xx]=xxKDE Mobile Device Lowlevel Hardware Driverxx
 Name[zh_CN]=KDE 移动设备低级硬件驱动程序
Index: kmobile/devices/gnokii/libkmobile_gnokii.desktop
===================================================================
--- kmobile/devices/gnokii/libkmobile_gnokii.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmobile/devices/gnokii/libkmobile_gnokii.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -25,6 +25,7 @@
 Name[ja]=携帯電話又はオーガナイザ (gnokii)
 Name[lt]=Mobilus telefonas ar asmeninės info tvarkyklė (gnokii)
 Name[nb]=Mobiltelefon eller PDA (gnokii)
+Name[nds]=Mobiltelefoon oder Elektroonsch Bregen (gnokii)
 Name[nl]=Mobiele telefoon of Organizer (gnokii)
 Name[nn]=Mobiltelefon eller organisator (gnokii)
 Name[pl]=Telefon komórkowy lub organizer (gnokii)
@@ -41,7 +42,6 @@
 Name[tr]=Cep Telefonu ya da Organizer (gnokii)
 Name[uk]=Мобільний телефон та тижневик (gnokii)
 Name[uz]=Уяли телефон ёки органайзер (gnokii)
-Name[xx]=xxMobile Phone or Organizer (gnokii)xx
 Name[zh_CN]=移动电话或 PDA(gnokii)
 Comment=This driver supports many NOKIA and other mobile phones via the gnokii library
 Comment[bg]=Драйвер за поддръжка на мобилни телефони, предимно Нокия, чрез библиотеката gnokii
@@ -65,6 +65,7 @@
 Comment[ja]=本ドライバは gnokii ライブラリ経由で多種の NOKIA 並びに他社製の携帯電話 をサポートします。
 Comment[lt]=Ši tvarkyklė palaiko daugelį NOKIA ir kitų telefonų pasinaudodama gnokii biblioteka
 Comment[nb]=Denne driveren støtter mange NOKIA og andre mobiltelefoner via gnokii-biblioteket
+Comment[nds]=Disse Driever ünnerstütt vele Nokia- un anner Mobiltelefonen över de gnokii-Bibliotheek
 Comment[nl]=Dit stuurprogramma biedt ondersteuning voor veel Nokia- en andere mobiele telefoons via de gnokii-bibliotheek
 Comment[nn]=Denne drivaren støttar mange NOKIA og andre mobiltelefonar via gnokii-biblioteket
 Comment[pl]=Ten sterownik obsługuje wiele telefonów komórkowychNokia i innych za pomocą biblioteki gnokii
@@ -80,7 +81,6 @@
 Comment[tg]=Ин драйвер бисёри тамсилаҳои телефонҳои мобилии Nokia-ро ва дигар истеҳсолкунандаҳоро аз китобхонаи gnokii дастгирӣ мекунад
 Comment[tr]=Bu sürücü birçok NOKIA ve gnokii kütüphanesiyle diğer cep telefonlarını destekler
 Comment[uk]=Цей драйвер підтримує багато мобільних телефонів фірми NOKIA та інших мобільних телефонів через бібліотеку gnokii
-Comment[xx]=xxThis driver supports many NOKIA and other mobile phones via the gnokii libraryxx
 Comment[zh_CN]=此驱动程序通过 gnokii 库支持许多诺基亚和其它移动电话
 Type=Service
 ServiceTypes=kdedevice/mobiledevice
Index: kmobile/devices/skeleton/libkmobile_skeleton.desktop
===================================================================
--- kmobile/devices/skeleton/libkmobile_skeleton.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmobile/devices/skeleton/libkmobile_skeleton.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,6 +24,7 @@
 Name[ja]=スケルトンデバイス
 Name[lt]=Įrenginio skeletas
 Name[nb]=Ramme-enhet
+Name[nds]=Reedschap-Geripp
 Name[nl]=Voorbeeldapparaat
 Name[nn]=Skjeletteining
 Name[pl]=Urządzenie szkieletowe
@@ -40,7 +41,6 @@
 Name[tg]=Прототипи дастгоҳ
 Name[tr]=Çatı Aygıt
 Name[uk]=Прототип пристрою
-Name[xx]=xxSkeleton Devicexx
 Name[zh_CN]=万能设备
 Comment=Mobile Skeleton Device
 Comment[bg]=Мобилни организатори (устройства)
@@ -50,6 +50,7 @@
 Comment[cy]=Dyfais Sgerbwd Symudol
 Comment[da]=Mobil skeleton-enhed
 Comment[de]=Mobiles Skeleton-Gerät
+Comment[el]=Φορητή συσκευή Skeleton
 Comment[es]=Dispositivo móvil Skeleton
 Comment[et]=Mobiili mallseade
 Comment[eu]=Skeleton dispositibo mugikorra
@@ -63,6 +64,7 @@
 Comment[ja]=モバイルスケルトンデバイス
 Comment[lt]=Mobilaus įrenginio skeletas
 Comment[nb]=Mobil ramme-enhet
+Comment[nds]=Geripp vun en mobile Reedschap
 Comment[nl]=Mobiel voorbeeldapparaat
 Comment[nn]=Mobil skjeletteining
 Comment[pl]=Szkieletowe urządzenie przenośne
@@ -78,7 +80,6 @@
 Comment[tg]=Прототипи дастгоҳи мобилӣ
 Comment[tr]=Taşınabilir Çatı Aygıtı
 Comment[uk]=Прототип мобільного пристрою
-Comment[xx]=xxMobile Skeleton Devicexx
 Comment[zh_CN]=移动万能设备
 Type=Service
 ServiceTypes=kdedevice/mobiledevice
Index: kmobile/devices/gammu/libkmobile_gammu.desktop
===================================================================
--- kmobile/devices/gammu/libkmobile_gammu.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmobile/devices/gammu/libkmobile_gammu.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -25,6 +25,7 @@
 Name[ja]=携帯電話又はオーガナイザ (gammu)
 Name[lt]=Mobilus telefonas ar asmeninės info tvarkyklė (gammu)
 Name[nb]=Mobiltelefon eller PDA (gammu)
+Name[nds]=Mobiltelefoon oder Elektroonsch Bregen (gammu)
 Name[nl]=Mobiele telefoon of Organizer (gammu)
 Name[nn]=Mobiltelefon eller organisator (gammu)
 Name[pl]=Telefon komórkowy lub organizer (gammu)
@@ -41,7 +42,6 @@
 Name[tr]=Cep Telefonu ya da Organizer (gammu)
 Name[uk]=Мобільний телефон та тижневик (gammu)
 Name[uz]=Уяли телефон ёки органайзер (gammu)
-Name[xx]=xxMobile Phone or Organizer (gammu)xx
 Name[zh_CN]=移动电话或 PDA(gammu)
 Comment=This driver supports many NOKIA and other mobile phones via the gammu library
 Comment[bg]=Драйвер за поддръжка на мобилни телефони, предимно Нокия, чрез библиотеката gammu
@@ -65,6 +65,7 @@
 Comment[ja]=本ドライバは gammu ライブラリ経由で多種の NOKIA 並びに他社製の携帯電話 をサポートします。
 Comment[lt]=Ši tvarkyklė palaiko daugelį NOKIA ir kitų telefonų pasinaudodama gammu biblioteka
 Comment[nb]=Denne driveren støtter mange NOKIA og andre mobiltelefoner via gammu-biblioteket
+Comment[nds]=Disse Driever ünnerstütt vele Nokia- un anner Mobiltelefonen över de gammu-Bibliotheek
 Comment[nl]=Dit stuurprogramma biedt ondersteuning voor veel Nokia- en andere mobiele telefoons via de gammu-bibliotheek
 Comment[nn]=Denne drivaren støttar mange NOKIA og andre mobiltelefonar via gammu-biblioteket
 Comment[pl]=Ten sterownik obsługuje wiele telefonów komórkowychNokia i innych za pomocą biblioteki gammu
@@ -80,7 +81,6 @@
 Comment[tg]=Ин драйвер бисёри тамсилаҳои телефонҳои мобилии Nokia-ро ва дигар истеҳсолкунандаҳоро аз китобхонаи gammu дастгирӣ мекунад
 Comment[tr]=Bu sürücü birçok NOKIA ve gammu kütüphanesiyle diğer cep telefonlarını destekler
 Comment[uk]=Цей драйвер підтримує багато мобільних телефонів фірми NOKIA та інших мобільних телефонів через бібліотеку gammu
-Comment[xx]=xxThis driver supports many NOKIA and other mobile phones via the gammu libraryxx
 Comment[zh_CN]=此驱动程序通过 gammu 库支持许多诺基亚和其它移动电话
 Type=Service
 ServiceTypes=kdedevice/mobiledevice
Index: kmobile/devices/digicam/libkmobile_digicam.desktop
===================================================================
--- kmobile/devices/digicam/libkmobile_digicam.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmobile/devices/digicam/libkmobile_digicam.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -26,6 +26,7 @@
 Name[ja]=デジタルカメラ
 Name[lt]=Skaitmeninė kamera
 Name[nb]=Digitalkamera
+Name[nds]=Digitaalkamera
 Name[nl]=Digitale camera
 Name[nn]=Digitalt kamera
 Name[pa]=ਡਿਜ਼ੀਟਲ ਕੈਮਰਾ
@@ -45,7 +46,6 @@
 Name[tr]=Dijital Kamera
 Name[uk]=Цифровий фотоапарат
 Name[uz]=Фотоапарат
-Name[xx]=xxDigital Cameraxx
 Name[zh_CN]=数码相机
 Comment=This driver supports many digital cameras
 Comment[bg]=Драйвер за поддръжка на цифрови фотоапарати и камери
@@ -69,6 +69,7 @@
 Comment[ja]=本ドライバは多種のデジタルカメラのサポートを提供します。
 Comment[lt]=Ši tvarkyklė palaiko daugelį skaitmeninių kamerų
 Comment[nb]=Denne driveren støtter mange digitalkameraer
+Comment[nds]=Ein Driever, de vele Digitaalkameras ünnerstütt
 Comment[nl]=Dit stuurprogramma biedt ondersteuning voor veel camera's
 Comment[nn]=Denne drivaren støttar mange digitale kamera
 Comment[pl]=Ten sterownik obsługuje wiele aparatów cyfrowych
@@ -85,7 +86,6 @@
 Comment[tg]=Ин драйвер бисёри тамсилаҳои камераҳои digital-ро дастгирӣ мекунад
 Comment[tr]=Bu sürücü birçok dijital kamerayı destekler 
 Comment[uk]=Цей драйвер підтримує багато цифрових камер
-Comment[xx]=xxThis driver supports many digital camerasxx
 Comment[zh_CN]=此驱动程序支持许多数码相机
 Type=Service
 ServiceTypes=kdedevice/mobiledevice
Index: kmobile/kmobile.desktop
===================================================================
--- kmobile/kmobile.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmobile/kmobile.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -12,7 +12,6 @@
 Name[nn]=KMobil
 Name[sv]=Kmobile
 Name[ta]=கேநடமாடும் தொலைபேசி
-Name[xx]=xxKMobilexx
 
 GenericName=Manage Mobile Devices
 GenericName[be]=Кіраваньне мабільнымі прыладамі
@@ -38,6 +37,7 @@
 GenericName[ja]=携帯機器の管理
 GenericName[lt]=Mobiliųjų įrenginių tvarkymas
 GenericName[nb]=Håndtere mobile enheter
+GenericName[nds]=Mobilreedschappen plegen
 GenericName[nl]=Mobiele apparaten beheren
 GenericName[nn]=Handtera mobileiningar
 GenericName[pl]=Zarządzanie urządzeniami przenośnymi
@@ -55,7 +55,6 @@
 GenericName[tg]=Идоракунӣ бо дастгоҳи мобилӣ
 GenericName[tr]=Taşınabilir Aygıtlar Yöneticisi
 GenericName[uk]=Робота з мобільними пристроями
-GenericName[xx]=xxManage Mobile Devicesxx
 GenericName[zh_CN]=管理移动设备
 
 Comment=A KDE Mobile Devices Manager
@@ -82,6 +81,7 @@
 Comment[ja]=KDE 携帯機器マネージャ
 Comment[lt]=KDE mobiliųjų įrenginių tvarkyklė
 Comment[nb]=En KDE-håndterer for mobile enheter
+Comment[nds]=En Pleger för Mobilreedschappen
 Comment[nl]=Beheer van mobiele apparaten in KDE
 Comment[nn]=Ein einingshandterar for mobiltelefon i KDE
 Comment[pl]=Program obsługujący urządzenia przenośne dla KDE
@@ -98,7 +98,6 @@
 Comment[tg]=Мудири дастгоҳи мобилии KDE
 Comment[tr]=KDE Taşınabilir Aygıtlar Yöneticisi
 Comment[uk]=Менеджер мобільних пристроїв KDE
-Comment[xx]=xxA KDE Mobile Devices Managerxx
 Comment[zh_CN]=KDE 移动设备管理器
 
 X-KDE-StartupNotify=false
Index: kmobile/kioslave/mimetypes/mobile_addressbook.desktop
===================================================================
--- kmobile/kioslave/mimetypes/mobile_addressbook.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmobile/kioslave/mimetypes/mobile_addressbook.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,6 +24,7 @@
 Comment[ja]=携帯機器内のコンタクト
 Comment[lt]=Kontaktai mobiliajame įrenginyje
 Comment[nb]=Kontaktliste i mobil enhet
+Comment[nds]=Kontakten op de Mobilreedschap
 Comment[nl]=Contactpersonen in mobiel apparaat
 Comment[nn]=Kontaktar i mobileiningar
 Comment[pl]=Wizytówki w urządzeniu przenośnym
@@ -40,7 +41,6 @@
 Comment[tg]=Алоқот дар дастгоҳи мобилӣ
 Comment[tr]=Taşınabilir Aygıt Bağlantıları
 Comment[uk]=Контакти у мобільному пристрої
-Comment[xx]=xxContacts in Mobile Devicexx
 Comment[zh_CN]=移动设备中的联系人
 Icon=kaddressbook
 Type=MimeType
Index: kmobile/kioslave/mimetypes/mobile_notes.desktop
===================================================================
--- kmobile/kioslave/mimetypes/mobile_notes.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmobile/kioslave/mimetypes/mobile_notes.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,6 +24,7 @@
 Comment[ja]=携帯機器内のノート
 Comment[lt]=Užrašai mobiliajame įrenginyje
 Comment[nb]=Notater i mobil enhet
+Comment[nds]=Notizen op Mobilreedschap
 Comment[nl]=Notities in mobiel apparaat
 Comment[nn]=Notat i mobileiningar
 Comment[pl]=Notatki w urządzeniu przenośnym
@@ -39,7 +40,6 @@
 Comment[tg]=Хабарҳо дар дастгоҳи мобилӣ
 Comment[tr]=Cep Telefonu Notları
 Comment[uk]=Нотатки у мобільному пристрої
-Comment[xx]=xxNotes in Mobile Devicexx
 Comment[zh_CN]=移动电话中的便笺
 Icon=knotes
 Type=MimeType
Index: kmobile/kioslave/mimetypes/mobile_calendar.desktop
===================================================================
--- kmobile/kioslave/mimetypes/mobile_calendar.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmobile/kioslave/mimetypes/mobile_calendar.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,6 +24,7 @@
 Comment[ja]=携帯機器内のカレンダー
 Comment[lt]=Kalendorius mobiliajame įrenginyje
 Comment[nb]=Kalender i mobil enhet
+Comment[nds]=Kalenner op Mobilreedschap
 Comment[nl]=Agenda in mobiel apparaat
 Comment[nn]=Kalender i mobileiningar
 Comment[pl]=Kalendarz w urządzeniu przenośnym
@@ -40,7 +41,6 @@
 Comment[tg]=Тақвим дар дастгоҳи мобилӣ
 Comment[tr]=Cep Telefonu Takvimi
 Comment[uk]=Календар у мобільному пристрої
-Comment[xx]=xxCalendar in Mobile Devicexx
 Comment[zh_CN]=移动电话中的日历
 Icon=korganizer
 Type=MimeType
Index: kmobile/kioslave/mimetypes/mobile_device.desktop
===================================================================
--- kmobile/kioslave/mimetypes/mobile_device.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmobile/kioslave/mimetypes/mobile_device.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -25,6 +25,7 @@
 Comment[ja]=モバイルデバイス
 Comment[lt]=Mobilusis įrenginys
 Comment[nb]=Mobil enhet
+Comment[nds]=Mobilreedschap
 Comment[nl]=Mobiel apparaat
 Comment[nn]=Mobileining
 Comment[pa]=ਮੋਬਾਇਲ ਜੰਤਰ
@@ -43,7 +44,6 @@
 Comment[tg]=Дастгоҳи мобилӣ
 Comment[tr]=Taşınabilir Aygıt
 Comment[uk]=Мобільний пристрій
-Comment[xx]=xxMobile Devicexx
 Comment[zh_CN]=移动设备
 Icon=kmobile
 Type=MimeType
Index: wizards/groupwarewizard.desktop
===================================================================
--- wizards/groupwarewizard.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ wizards/groupwarewizard.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -6,24 +6,29 @@
 Name[cs]=Průvodce KDE groupwarem
 Name[da]=KDE Groupware-guide
 Name[de]=KDE Groupware Assistent
+Name[el]=Μάγος Groupware του KDE
 Name[es]=Asistente de groupware de KDE
+Name[et]=KDE Groupware nõustaja
+Name[eu]=KDE groupware morroia
 Name[fr]=Assistant KDE de travail collaboratif
 Name[ga]=Draoi Groupware KDE
-Name[is]=KDE hópvinnukerfis álfur
+Name[is]=KDE hópvinnukerfisálfur
 Name[it]=Assistente configurazione di KDE Groupware
+Name[ja]=KDE グループウェアウィザード
 Name[lt]=KDE Groupware vedlys
 Name[nb]=KDE gruppevareveiviser
+Name[nds]=Groupware-Hölper vun KDE
 Name[nl]=KDE Groupware-wizard
 Name[nn]=KDE-vegvisar for gruppevare
 Name[pl]=Asystent KDE Groupware
 Name[pt]=Assistente Groupware do KDE
 Name[pt_BR]=Assistente de Groupware do KDE
 Name[ru]=Мастер подключения к серверам совместной работы
+Name[sl]=KDEjev čarovnik za skupinsko delo
 Name[sr]=KDE Groupware чаробњак
 Name[sr@Latn]=KDE Groupware čarobnjak
 Name[sv]=KDE-grupprogramguide
 Name[uk]=Майстер групової роботи для KDE
-Name[xx]=xxKDE Groupware Wizardxx
 Name[zh_CN]=KDE 群件向导
 Exec=groupwarewizard
 Type=Application
Index: kresources/egroupware/kabc_xmlrpc.desktop
===================================================================
--- kresources/egroupware/kabc_xmlrpc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/egroupware/kabc_xmlrpc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -15,8 +15,10 @@
 Name[hu]=eGroupware-kiszolgáló (XML-RPC-n keresztül)
 Name[is]=eGroupware þjónn (gegnum XML-RPC)
 Name[it]=Server eGroupware (via XML-RPC)
+Name[ja]=Name=eGroupware サーバ (XML-RPC 経由)
 Name[lt]=eGroupware serveris (per XML-RPC)
 Name[nb]=eGroupware-tjener (via XML-RPPC)
+Name[nds]=eGroupware-Server (över XML-RPC)
 Name[nl]=eGroupware-server (via XML-RPC)
 Name[nn]=eGroupware-tenar (via XML-RPC)
 Name[pl]=Serwer eGroupware (poprzez XML-RPC)
@@ -30,7 +32,6 @@
 Name[ta]=eGroupware சேவகன் (via XML-RPC)
 Name[tr]=eGroupware Sunucusu (XML-RPC ile)
 Name[uk]=Сервер eGroupware (через XML-RPC)
-Name[xx]=xxeGroupware Server (via XML-RPC)xx
 Name[zh_CN]=eGroupware 服务器(通过 XML-RPC)
 X-KDE-Library=kabc_xmlrpc
 Type=Service
Index: kresources/egroupware/knotes_xmlrpc.desktop
===================================================================
--- kresources/egroupware/knotes_xmlrpc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/egroupware/knotes_xmlrpc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -15,8 +15,10 @@
 Name[hu]=eGroupware-kiszolgáló (XML-RPC-n keresztül)
 Name[is]=eGroupware þjónn (gegnum XML-RPC)
 Name[it]=Server eGroupware (via XML-RPC)
+Name[ja]=Name=eGroupware サーバ (XML-RPC 経由)
 Name[lt]=eGroupware serveris (per XML-RPC)
 Name[nb]=eGroupware-tjener (via XML-RPPC)
+Name[nds]=eGroupware-Server (över XML-RPC)
 Name[nl]=eGroupware-server (via XML-RPC)
 Name[nn]=eGroupware-tenar (via XML-RPC)
 Name[pl]=Serwer eGroupware (poprzez XML-RPC)
@@ -30,7 +32,6 @@
 Name[ta]=eGroupware சேவகன் (via XML-RPC)
 Name[tr]=eGroupware Sunucusu (XML-RPC ile)
 Name[uk]=Сервер eGroupware (через XML-RPC)
-Name[xx]=xxeGroupware Server (via XML-RPC)xx
 Name[zh_CN]=eGroupware 服务器(通过 XML-RPC)
 X-KDE-Library=knotes_xmlrpc
 Type=Service
Index: kresources/egroupware/kcal_xmlrpc.desktop
===================================================================
--- kresources/egroupware/kcal_xmlrpc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/egroupware/kcal_xmlrpc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -15,8 +15,10 @@
 Name[hu]=eGroupware-kiszolgáló (XML-RPC-n keresztül)
 Name[is]=eGroupware þjónn (gegnum XML-RPC)
 Name[it]=Server eGroupware (via XML-RPC)
+Name[ja]=Name=eGroupware サーバ (XML-RPC 経由)
 Name[lt]=eGroupware serveris (per XML-RPC)
 Name[nb]=eGroupware-tjener (via XML-RPPC)
+Name[nds]=eGroupware-Server (över XML-RPC)
 Name[nl]=eGroupware-server (via XML-RPC)
 Name[nn]=eGroupware-tenar (via XML-RPC)
 Name[pl]=Serwer eGroupware (poprzez XML-RPC)
@@ -30,7 +32,6 @@
 Name[ta]=eGroupware சேவகன் (via XML-RPC)
 Name[tr]=eGroupware Sunucusu (XML-RPC ile)
 Name[uk]=Сервер eGroupware (через XML-RPC)
-Name[xx]=xxeGroupware Server (via XML-RPC)xx
 Name[zh_CN]=eGroupware 服务器(通过 XML-RPC)
 X-KDE-Library=kcal_xmlrpc
 Type=Service
Index: kresources/tvanytime/kcal_tvanytime.desktop
===================================================================
--- kresources/tvanytime/kcal_tvanytime.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/tvanytime/kcal_tvanytime.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -5,25 +5,29 @@
 Name[cs]=TV programy
 Name[da]=Tv-oversigt
 Name[de]=Fernsehprogramm
+Name[el]=Προγράμματα τηλεόρασης
 Name[es]=Programación de TV
 Name[et]=Telekavad
+Name[eu]=TB planifikazioak
 Name[fr]=Programmes TV
 Name[ga]=Sceidil Teilifíse
 Name[is]=Sjónvarpsdagskrár
 Name[it]=Programmi TV
+Name[ja]=TV スケジュール
 Name[lt]=TV tvarkaraščiai
 Name[nb]=TV-program
+Name[nds]=Feernsehprogramm
 Name[nl]=Televisieprogrammering
 Name[nn]=TV-program
 Name[pl]=Program telewizyjny
 Name[pt]=Programação de TV
 Name[pt_BR]=Horários de TV
 Name[ru]=Программы телепередач
+Name[sl]=TV spored
 Name[sr]=ТВ програм
 Name[sr@Latn]=TV program
 Name[sv]=Tv-tablåer
 Name[uk]=Програма телебачення
-Name[xx]=xxTV Schedulesxx
 Name[zh_CN]=电视日程安排
 X-KDE-Library=kcal_tvanytime
 Type=Service
Index: kresources/tvanytime/kcal_resourcetvanytime.cpp
===================================================================
--- kresources/tvanytime/kcal_resourcetvanytime.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/tvanytime/kcal_resourcetvanytime.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -183,7 +183,7 @@
            SLOT( slotJobResult( KIO::Job * ) ) );
 
   mProgress = KPIM::ProgressManager::instance()->createProgressItem(
-    KPIM::ProgressManager::getUniqueID(), i18n("Downloading programme schedule") );
+    KPIM::ProgressManager::getUniqueID(), i18n("Downloading program schedule") );
 
   connect( mProgress,
            SIGNAL( progressItemCanceled( KPIM::ProgressItem * ) ),
Index: kresources/exchange/exchange.desktop
===================================================================
--- kresources/exchange/exchange.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/exchange/exchange.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -21,8 +21,10 @@
 Name[hu]=Exchange 2000-kiszolgáló
 Name[is]=Exchange 2000 þjónn
 Name[it]=Server Exchange 2000
+Name[ja]=Exchange 2000 サーバ
 Name[lt]=Exchange 2000 serveris
 Name[nb]=Exchange 2000-tjener
+Name[nds]=Exchange2000-Server
 Name[nl]=Exchange2000-server
 Name[nn]=Exchange 2000-tenar
 Name[pl]=Serwer Exchange 2000
@@ -36,6 +38,5 @@
 Name[ta]=பரிமாற்ற 2000 சேவகன்
 Name[tr]=Exchange 2000 Sunucusu
 Name[uk]=Сервер Exchange 2000
-Name[xx]=xxExchange 2000 Serverxx
 Name[zh_CN]=Exchange 2000 服务器
 
Index: kresources/exchange/exchange_deprecated.desktop
===================================================================
--- kresources/exchange/exchange_deprecated.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/exchange/exchange_deprecated.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -15,8 +15,10 @@
 Name[hu]=Exchange 2000-kiszolgáló (elavult)
 Name[is]=Exchange 2000 þjónn (úrelt)
 Name[it]=Server Exchange 2000 (deprecato)
+Name[ja]=Exchange 2000 サーバ (不賛成)
 Name[lt]=Exchange 2000 serveris (deprecated)
 Name[nb]=Exchange 2000-tjener (frarådet)
+Name[nds]=Exchange2000-Server (utlopen Ünnerstütten)
 Name[nl]=Exchange 2000-server (afgeraden)
 Name[nn]=Exchange 2000-tenar (frårådd)
 Name[pl]=Serwer Exchange 2000 (przestarzałe)
@@ -29,6 +31,5 @@
 Name[sv]=Exchange 2000-server (avråds från)
 Name[ta]=பரிமாற்ற 2000 சேவகன் (மாறுபாடானது)
 Name[uk]=Сервер Exchange 2000 (застаріле)
-Name[xx]=xxExchange 2000 Server (deprecated)xx
 Name[zh_CN]=Exchange 2000 服务器(不推荐使用)
 
Index: kresources/groupwise/kcal_groupwise.desktop
===================================================================
--- kresources/groupwise/kcal_groupwise.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/groupwise/kcal_groupwise.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -6,7 +6,7 @@
 Name[ca]=Servidor Novell GroupWise
 Name[cs]=Novell GroupWise server
 Name[da]=Novell GroupWise server
-Name[el]=Εξυπηρετητη Novell GroupWise
+Name[el]=Εξυπηρετητής Novell GroupWise
 Name[es]=Servidor de Novell GroupWise
 Name[et]=Novelli GroupWise server
 Name[eu]=Novell GroupWise zerbitzaria
@@ -15,8 +15,10 @@
 Name[hu]=Novell GroupWise kiszolgáló
 Name[is]=Novell GroupWise þjónn
 Name[it]=Server Novell GroupWise
+Name[ja]=Novell GroupWise サーバ
 Name[lt]=Novell GroupWise serveris
 Name[nb]=Novell GroupWise-tjener
+Name[nds]=Novell-GroupWise-Server
 Name[nl]=Novell GroupWise-server
 Name[nn]=Novell GroupWise-tenar
 Name[pl]=Serwer Novell GroupWise
@@ -30,7 +32,6 @@
 Name[ta]=Novell குழுவாரிச் சேவகன்
 Name[tr]=Novell GroupWise Sunucusu
 Name[uk]=Сервер Novell GroupWise
-Name[xx]=xxNovell GroupWise Serverxx
 Name[zh_CN]=Novell GroupWise 服务器
 X-KDE-Library=kcal_groupwise
 Type=Service
Index: kresources/groupwise/soap/incidenceconverter.cpp
===================================================================
--- kresources/groupwise/soap/incidenceconverter.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/groupwise/soap/incidenceconverter.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -563,6 +563,8 @@
     data.__ptr =
       (unsigned char*)qStringToChar( incidence->description().utf8() );
     data.__size = incidence->description().utf8().length();
+    data.id = data.type = data.option = 0;
+    data.soap = 0;
 
     part->id = 0;
     part->__item = data;
Index: kresources/groupwise/kabc_groupwise.desktop
===================================================================
--- kresources/groupwise/kabc_groupwise.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/groupwise/kabc_groupwise.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -6,7 +6,7 @@
 Name[ca]=Servidor Novell GroupWise
 Name[cs]=Novell GroupWise server
 Name[da]=Novell GroupWise server
-Name[el]=Εξυπηρετητη Novell GroupWise
+Name[el]=Εξυπηρετητής Novell GroupWise
 Name[es]=Servidor de Novell GroupWise
 Name[et]=Novelli GroupWise server
 Name[eu]=Novell GroupWise zerbitzaria
@@ -15,8 +15,10 @@
 Name[hu]=Novell GroupWise kiszolgáló
 Name[is]=Novell GroupWise þjónn
 Name[it]=Server Novell GroupWise
+Name[ja]=Novell GroupWise サーバ
 Name[lt]=Novell GroupWise serveris
 Name[nb]=Novell GroupWise-tjener
+Name[nds]=Novell-GroupWise-Server
 Name[nl]=Novell GroupWise-server
 Name[nn]=Novell GroupWise-tenar
 Name[pl]=Serwer Novell GroupWise
@@ -30,7 +32,6 @@
 Name[ta]=Novell குழுவாரிச் சேவகன்
 Name[tr]=Novell GroupWise Sunucusu
 Name[uk]=Сервер Novell GroupWise
-Name[xx]=xxNovell GroupWise Serverxx
 Name[zh_CN]=Novell GroupWise 服务器
 X-KDE-Library=kabc_groupwise
 Type=Service
Index: kresources/slox/sloxbase.h
===================================================================
--- kresources/slox/sloxbase.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/slox/sloxbase.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -37,6 +37,7 @@
       ObjectType,
       ObjectStatus,
       CreatedBy,
+      Categories,
       IncidenceTitle, // incidence fields
       Description,
       Participants,
Index: kresources/slox/kcalresourceslox.cpp
===================================================================
--- kresources/slox/kcalresourceslox.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/slox/kcalresourceslox.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -26,6 +26,7 @@
 #include <qstring.h>
 #include <qptrlist.h>
 #include <qfile.h>
+#include <qregexp.h>
 
 #include <kdebug.h>
 #include <kurl.h>
@@ -437,6 +438,8 @@
   else
     WebdavHandler::addSloxElement( this, doc, parent, fieldName( Reminder ), "0" );
 
+  // categories
+  WebdavHandler::addSloxElement( this, doc, parent, fieldName( Categories ), incidence->categories().join( ", " ) );
 }
 
 void KCalResourceSlox::createEventAttributes( QDomDocument &doc,
@@ -687,6 +690,8 @@
     parseMembersAttribute( e, incidence );
   } else if ( tag == "readrights" ) {
     parseReadRightsAttribute( e, incidence );
+  } else if ( tag == fieldName( Categories ) ) {
+    incidence->setCategories( QStringList::split( QRegExp(",\\s*"), text ) );
   }
 }
 
Index: kresources/slox/kcal_slox.desktop
===================================================================
--- kresources/slox/kcal_slox.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/slox/kcal_slox.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -15,8 +15,10 @@
 Name[hu]=SUSE LINUX Openexchange-kiszolgáló
 Name[is]=SUSE LINUX Openexchange þjónn
 Name[it]=Server SUSE LINUX Openexchange
+Name[ja]=SUSE LINUX Openexchange サーバ
 Name[lt]=SUSE LINUX Openexchange serveris
 Name[nb]=SUSE LINUX Openexchange-tjener
+Name[nds]=SUSE-Openexchangeserver
 Name[nl]=SUSE LINUX Openexchange-server
 Name[nn]=SUSE LINUX Openexchange-tenar
 Name[pl]=Server SUSE LINUX Openexchange
@@ -30,7 +32,6 @@
 Name[ta]=SUSE LINUX திறந்த பரிமாற்ற சேவகன்
 Name[tr]=SUSE LINUX Openexchange Sunucusu
 Name[uk]=Сервер SUSE LINUX Openexchange
-Name[xx]=xxSUSE LINUX Openexchange Serverxx
 Name[zh_CN]=SUSE LINUX Openexchange 服务器
 X-KDE-Library=kcal_slox
 Type=Service
Index: kresources/slox/kcal_ox.desktop
===================================================================
--- kresources/slox/kcal_ox.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/slox/kcal_ox.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -3,23 +3,28 @@
 Name=OpenXchange Server
 Name[bg]=Сървър OpenXchange
 Name[da]=Openxchange-server
+Name[el]=Εξυπηρετητής OpenXchange
 Name[es]=Servidor OpenXchange
+Name[et]=OpenXchange server
+Name[eu]=OpenXchange zerbitzaria
 Name[fr]=Serveur OpenXchange
 Name[ga]=Freastalaí Openexchange
 Name[is]=OpenXchange þjónn
+Name[ja]=OpenXchange サーバ
 Name[lt]=OpenXchange serveris
 Name[nb]=OpenExchange-tjener
+Name[nds]=OpenXchange-Server
 Name[nl]=OpenXchange-server
 Name[nn]=OpenXchange-tenar
 Name[pl]=Server OpenXchange
 Name[pt]=Servidor OpenXchange
 Name[pt_BR]=Servidor OpenXchange
 Name[ru]=Сервер OpenXchange
+Name[sl]=Strežnik OpenXchange
 Name[sr]=Openexchange сервер
 Name[sr@Latn]=Openexchange server
 Name[sv]=Openxchange-server
 Name[uk]=Сервер OpenXchange
-Name[xx]=xxOpenXchange Serverxx
 Name[zh_CN]=OpenXchange 服务器
 X-KDE-Library=kcal_slox
 Type=Service
Index: kresources/slox/kabcresourceslox.cpp
===================================================================
--- kresources/slox/kabcresourceslox.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/slox/kabcresourceslox.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -396,6 +396,8 @@
   } else if ( tag == fieldName( Anniversary ) ) {
     QDateTime dt = WebdavHandler::sloxToQDateTime( text );
     a.insertCustom( "KADDRESSBOOK", "X-Anniversary", dt.toString( Qt::ISODate ) );
+  } else if ( tag == fieldName( Categories ) ) {
+    a.setCategories( QStringList::split( QRegExp(",\\s*"), text ) );
   } else if ( type() == "ox" ) { // FIXME: Address reading is missing for SLOX
     // read addresses
     Address addr;
@@ -570,6 +572,7 @@
 
   WebdavHandler::addSloxElement( this, doc, prop, fieldName( Url ), a.url().url() );
   WebdavHandler::addSloxElement( this, doc, prop, fieldName( Comment ), a.note() );
+  WebdavHandler::addSloxElement( this, doc, prop, fieldName( Categories ), a.categories().join( ", " ) );
 
   // emails
   QStringList email_list = a.emails();
Index: kresources/slox/sloxbase.cpp
===================================================================
--- kresources/slox/sloxbase.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/slox/sloxbase.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -32,6 +32,7 @@
   {"objecttype", "objectmode"},
   {"sloxstatus", "object_status"},
   {"createfrom", "created_by"},
+  {"categories", "categories"},
   // incidence fields
   {"title", "title"},
   {"description", "note"},
Index: kresources/slox/kabc_slox.desktop
===================================================================
--- kresources/slox/kabc_slox.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/slox/kabc_slox.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -15,8 +15,10 @@
 Name[hu]=SUSE LINUX Openexchange-kiszolgáló
 Name[is]=SUSE LINUX Openexchange þjónn
 Name[it]=Server SUSE LINUX Openexchange
+Name[ja]=SUSE LINUX Openexchange サーバ
 Name[lt]=SUSE LINUX Openexchange serveris
 Name[nb]=SUSE LINUX Openexchange-tjener
+Name[nds]=SUSE-Openexchangeserver
 Name[nl]=SUSE LINUX Openexchange-server
 Name[nn]=SUSE LINUX Openexchange-tenar
 Name[pl]=Server SUSE LINUX Openexchange
@@ -30,7 +32,6 @@
 Name[ta]=SUSE LINUX திறந்த பரிமாற்ற சேவகன்
 Name[tr]=SUSE LINUX Openexchange Sunucusu
 Name[uk]=Сервер SUSE LINUX Openexchange
-Name[xx]=xxSUSE LINUX Openexchange Serverxx
 Name[zh_CN]=SUSE LINUX Openexchange 服务器
 X-KDE-Library=kabc_slox
 Type=Service
Index: kresources/slox/kabc_ox.desktop
===================================================================
--- kresources/slox/kabc_ox.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/slox/kabc_ox.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -3,23 +3,28 @@
 Name=OpenXchange Server
 Name[bg]=Сървър OpenXchange
 Name[da]=Openxchange-server
+Name[el]=Εξυπηρετητής OpenXchange
 Name[es]=Servidor OpenXchange
+Name[et]=OpenXchange server
+Name[eu]=OpenXchange zerbitzaria
 Name[fr]=Serveur OpenXchange
 Name[ga]=Freastalaí Openexchange
 Name[is]=OpenXchange þjónn
+Name[ja]=OpenXchange サーバ
 Name[lt]=OpenXchange serveris
 Name[nb]=OpenExchange-tjener
+Name[nds]=OpenXchange-Server
 Name[nl]=OpenXchange-server
 Name[nn]=OpenXchange-tenar
 Name[pl]=Server OpenXchange
 Name[pt]=Servidor OpenXchange
 Name[pt_BR]=Servidor OpenXchange
 Name[ru]=Сервер OpenXchange
+Name[sl]=Strežnik OpenXchange
 Name[sr]=Openexchange сервер
 Name[sr@Latn]=Openexchange server
 Name[sv]=Openxchange-server
 Name[uk]=Сервер OpenXchange
-Name[xx]=xxOpenXchange Serverxx
 Name[zh_CN]=OpenXchange 服务器
 X-KDE-Library=kabc_slox
 Type=Service
Index: kresources/featureplan/kcal_resourcefeatureplan.desktop
===================================================================
--- kresources/featureplan/kcal_resourcefeatureplan.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/featureplan/kcal_resourcefeatureplan.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -12,6 +12,7 @@
 Name[is]=XML fídusa áætlun
 Name[it]=Piano caratteristiche XML
 Name[lt]=XML bruožų planas
+Name[nds]=XML-Funktschonenplaan
 Name[nl]=Functionaliteitsplanning in XML
 Name[pl]=Plan funkcjonalności XML
 Name[pt]=Plano de Funcionalidades em XML
@@ -21,7 +22,6 @@
 Name[sr@Latn]=XML plan mogućnosti
 Name[ta]=XML பண்பு திட்டம்
 Name[tr]=XML Özellik Planı
-Name[xx]=xxXML Feature Planxx
 Name[zh_CN]=XML 特性计划
 X-KDE-Library=kcal_resourcefeatureplan
 Type=Service
Index: kresources/groupdav/kabc_groupdav.desktop
===================================================================
--- kresources/groupdav/kabc_groupdav.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/groupdav/kabc_groupdav.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -16,8 +16,10 @@
 Name[hu]=GroupDAV-kiszolgáló (pl. OpenGroupware)
 Name[is]=GroupDAV þjónn (t.d. OpenGroupware)
 Name[it]=Server GroupDAV (per es. OpenGroupware)
+Name[ja]=GroupDAV サーバ (例えば OpenGroupware)
 Name[lt]=GroupDAV serveris (pvz.: OpenGroupware)
 Name[nb]=GroupDAV-tjener (f.eks. OpenGroupware)
+Name[nds]=GroupDAV-Server (t.B. OpenGroupware)
 Name[nl]=GroupDAV-server (OpenGroupware)
 Name[nn]=GroupDAV-tenar (t.d. OpenGroupware)
 Name[pl]=Serwer GroupDAV (np. OpenGroupware)
@@ -31,7 +33,6 @@
 Name[ta]=GroupDAV சேவகன் (e.g. OpenGroupware)
 Name[tr]=GroupDAV Sunucusu (ör. OpenGroupware)
 Name[uk]=Сервер GroupDAV (напр., OpenGroupware)
-Name[xx]=xxGroupDAV Server (e.g. OpenGroupware)xx
 Name[zh_CN]=GroupDAV 服务器(如 OpenGroupware)
 X-KDE-Library=kabc_groupdav
 Type=Service
Index: kresources/groupdav/kcal_groupdav.desktop
===================================================================
--- kresources/groupdav/kcal_groupdav.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/groupdav/kcal_groupdav.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -16,8 +16,10 @@
 Name[hu]=GroupDAV-kiszolgáló (pl. OpenGroupware)
 Name[is]=GroupDAV þjónn (t.d. OpenGroupware)
 Name[it]=Server GroupDAV (per es. OpenGroupware)
+Name[ja]=GroupDAV サーバ (例えば OpenGroupware)
 Name[lt]=GroupDAV serveris (pvz.: OpenGroupware)
 Name[nb]=GroupDAV-tjener (f.eks. OpenGroupware)
+Name[nds]=GroupDAV-Server (t.B. OpenGroupware)
 Name[nl]=GroupDAV-server (OpenGroupware)
 Name[nn]=GroupDAV-tenar (t.d. OpenGroupware)
 Name[pl]=Serwer GroupDAV (np. OpenGroupware)
@@ -31,7 +33,6 @@
 Name[ta]=GroupDAV சேவகன் (e.g. OpenGroupware)
 Name[tr]=GroupDAV Sunucusu (ör. OpenGroupware)
 Name[uk]=Сервер GroupDAV (напр., OpenGroupware)
-Name[xx]=xxGroupDAV Server (e.g. OpenGroupware)xx
 Name[zh_CN]=GroupDAV 服务器(如 OpenGroupware)
 X-KDE-Library=kcal_groupdav
 Type=Service
Index: kresources/blogging/blogging.desktop
===================================================================
--- kresources/blogging/blogging.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/blogging/blogging.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -4,6 +4,7 @@
 Name[cs]=Deníky jako blogy na serveru
 Name[da]=Journaler som www-blogger på en server
 Name[de]=Journaleinträge als Blogs auf einem Server
+Name[el]=Εφημερίδες ως Blogs σε έναν εξυπηρετητή
 Name[es]=Diarios, como bitácoras en un servidor
 Name[et]=Päevik veebipäevikuna serveris
 Name[eu]=Egunkariak blog moduan zerbitzarian
@@ -11,8 +12,10 @@
 Name[hu]=Naplók blogként tárolása a kiszolgálón
 Name[is]=Dagbækur sem blogg á þjóni
 Name[it]=Diari come blog su un server
+Name[ja]=サーバ上のブログとしての Journals
 Name[lt]=Dienynai kaip Blog'ai serveryje
 Name[nb]=Dagbok som blogg på en tjener
+Name[nds]=Daagbookindräag as Blog op en Server
 Name[nl]=Journalen als blogs op een server
 Name[nn]=Dagbøker som bloggar på ein tenar
 Name[pl]=Dzienniki jako blogi na serwerze
@@ -22,11 +25,10 @@
 Name[sl]=Dnevniki kot spletni dnevniki (blogi) na strežniku
 Name[sr]=Дневници као блогови на серверу
 Name[sr@Latn]=Dnevnici kao blogovi na serveru
-Name[sv]=Journaler som webbjournaler på en server
+Name[sv]=Journaler som webbloggar på en server
 Name[ta]=சேவகனில் பேச்சுரைகள் பத்திரிககளாக உள்ளன
 Name[tr]=Web Günlüğü gibi, bir Sunucuya yazar
 Name[uk]=Журнали як веб-щоденники на сервері
-Name[xx]=xxJournals as Blogs on a Serverxx
 Name[zh_CN]=日记作为服务器上的博客日志
 X-KDE-Library=kcal_blogging
 Type=Service
Index: kresources/kolab/kabc/kolab.desktop
===================================================================
--- kresources/kolab/kabc/kolab.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/kolab/kabc/kolab.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -16,8 +16,10 @@
 Name[hu]=IMAP-kiszolgálón tárolt címjegyzék a KMailen keresztül
 Name[is]=Vistfangaskrá á IMAP þjóni gegnum KMail
 Name[it]=Rubrica indirizzi su server IMAP via KMail
+Name[ja]=KMail 経由 IMAP サーバのアドレス帳
 Name[lt]=Adresų knygelė IMAP serveryje per KMail
 Name[nb]=Adressebok på IMAP-tjener via KMail
+Name[nds]=Adressbook op IMAP-Server över KMail
 Name[nl]=Adresboek op IMAP-server via KMail
 Name[nn]=Adressebok på IMAP-tenar via KMail
 Name[pl]=Książka adresowa na serwerze IMAP za pośrednictwem KMail
@@ -31,7 +33,6 @@
 Name[ta]=IMAP சேவகன் மூலம் கேஅஞ்சல் முகவரிப்புத்தகம்
 Name[tr]=KMail Aracılığı ile IMAP Sunucusunda Adres Defteri
 Name[uk]=Адресна книга на сервері IMAP через KMail
-Name[xx]=xxAddressbook on IMAP Server via KMailxx
 Name[zh_CN]=通过 KMail 访问 IMAP 服务器上的地址簿
 X-KDE-Library=kabc_kolab
 Type=Service
Index: kresources/kolab/knotes/kolabresource.desktop
===================================================================
--- kresources/kolab/knotes/kolabresource.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/kolab/knotes/kolabresource.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -16,8 +16,10 @@
 Name[hu]=IMAP-kiszolgáló a KMailen keresztül
 Name[is]=IMAP þjónn gegnum KMail
 Name[it]=Server IMAP via KMail
+Name[ja]=KMail 経由 IMAP サーバ
 Name[lt]=IMAP serveris per KMail
 Name[nb]=IMAP-tjener via KMail
+Name[nds]=IMAP-Server över KMail
 Name[nl]=IMAP-server via KMail
 Name[nn]=IMAP-tenar via KMail
 Name[pl]=Serwer IMAP za pośrednictwem KMail
@@ -31,7 +33,6 @@
 Name[ta]=IMAP சேவகன் மூலாம் கேஅஞ்சல்
 Name[tr]=KMail aracılığı ile IMAP Sunucu
 Name[uk]=Сервер IMAP через KMail
-Name[xx]=xxIMAP Server via KMailxx
 Name[zh_CN]=通过 KMail 访问 IMAP 服务器
 X-KDE-Library=knotes_kolab
 Type=Service
Index: kresources/kolab/kcal/kolab.desktop
===================================================================
--- kresources/kolab/kcal/kolab.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/kolab/kcal/kolab.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -16,8 +16,10 @@
 Name[hu]=IMAP-kiszolgálón tárolt naptár a KMailen keresztül
 Name[is]=Dagatal á IMAP þjóni gegnum KMail
 Name[it]=Calendario su server IMAP via KMail
+Name[ja]==KMail 経由 IMAP サーバのカレンダー
 Name[lt]=Kalendorius IMAP serveryje per KMail
 Name[nb]=Kalender på IMAP-tjener via KMail
+Name[nds]=Kalenner op IMAP-Server över KMail
 Name[nl]=Agenda op IMAP-server via KMail
 Name[nn]=Kalender på IMAP-tenar via KMail
 Name[pl]=Kalendarz na serwerze IMAP za pośrednictwem KMail
@@ -31,7 +33,6 @@
 Name[ta]=IMAP சேவையக வழியாக கேஅஞ்சலில் நாட்காட்டி
 Name[tr]=KMail Aracılığı ile IMAP Sunucusunda Takvim
 Name[uk]=Календар на сервері IMAP через KMail
-Name[xx]=xxCalendar on IMAP Server via KMailxx
 Name[zh_CN]=通过 KMail 访问 IMAP 服务器上的日历
 X-KDE-Library=kcal_kolab
 Type=Service
Index: kresources/kolab/kcal/resourcekolab.cpp
===================================================================
--- kresources/kolab/kcal/resourcekolab.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/kolab/kcal/resourcekolab.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -162,7 +162,8 @@
                            : mimetype == "application/x-vnd.kolab.journal" ? i18n( "Loading journals..." )
                            : i18n( "Loading events..." );
   const bool useProgress = qApp && qApp->type() != QApplication::Tty && count > 200;
-  (void)::Observer::self(); // ensure kio_uiserver is running
+  if ( useProgress )
+    (void)::Observer::self(); // ensure kio_uiserver is running
   UIServer_stub uiserver( "kio_uiserver", "UIServer" );
   int progressId = 0;
   if ( useProgress ) {
@@ -941,8 +942,8 @@
 void ResourceKolab::slotEmitResourceChanged()
 {
    kdDebug(5650) << "KCal Kolab resource: emitting resource changed " << endl;
+   mResourceChangedTimer.stop();
    emit resourceChanged( this );
-   mResourceChangedTimer.stop();
 }
 
 KABC::Lock* ResourceKolab::lock()
Index: kresources/kolab/kcal/journal.cpp
===================================================================
--- kresources/kolab/kcal/journal.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/kolab/kcal/journal.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -139,9 +139,10 @@
       continue;
     if ( n.isElement() ) {
       QDomElement e = n.toElement();
-      if ( !loadAttribute( e ) )
+      if ( !loadAttribute( e ) ) {
         // Unhandled tag - save for later storage
-        ;//qDebug( "Unhandled tag: %s", e.toCString().data() );
+        //qDebug( "Unhandled tag: %s", e.toCString().data() );
+      }
     } else
       qDebug( "Node is not a comment or an element???" );
   }
Index: kresources/birthdays/resourcekabcconfig.cpp
===================================================================
--- kresources/birthdays/resourcekabcconfig.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/birthdays/resourcekabcconfig.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -41,7 +41,6 @@
   mAlarm = new QCheckBox(i18n("Set reminder"), this);
   topLayout->addWidget(mAlarm, 0, 0);
   QBoxLayout *alarmLayout = new QHBoxLayout(topLayout);
-  topLayout->addLayout(alarmLayout, 1, 0);
 
   mALabel = new QLabel(i18n("Reminder before (in days):"), this);
   alarmLayout->addWidget(mALabel);
Index: kresources/birthdays/kabc.desktop
===================================================================
--- kresources/birthdays/kabc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/birthdays/kabc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -26,6 +26,7 @@
 Name[ja]=KAddressBookから得た誕生日
 Name[lt]=Gimtadieniai iš KAddressBook
 Name[nb]=Bursdagsimport fra KAddressbook
+Name[nds]=Geboortsdaag ut KAdressbook
 Name[nl]=Verjaardagen uit KAddressBook
 Name[nn]=Fødselsdagar frå KDE-adresseboka
 Name[pl]=Urodziny z Książki adresowej
@@ -42,7 +43,6 @@
 Name[tg]=Рӯзҳои таваллуд аз китоби адресии KDE
 Name[tr]=KDE Adres Defterinden Doğum Günleri
 Name[uk]=Дні народження з KAddressBook
-Name[xx]=xxBirthdays From KAddressBookxx
 Name[zh_CN]=KAddressBook 中的生日
 X-KDE-Library=kcal_kabc
 Type=Service
Index: kresources/groupware/kabc_groupware.desktop
===================================================================
--- kresources/groupware/kabc_groupware.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/groupware/kabc_groupware.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -14,8 +14,10 @@
 Name[hu]=Groupware kiszolgáló
 Name[is]=Groupware þjónn
 Name[it]=Server Groupware
+Name[ja]=グループウェアサーバ
 Name[lt]=Grupinio darbo serveris
 Name[nb]=Groupware-tjener
+Name[nds]=Groupware-Server
 Name[nl]=Groupware-server
 Name[nn]=Groupware-tenar
 Name[pl]=Serwer Groupware
@@ -29,7 +31,6 @@
 Name[ta]=குழுவாரி சேவகன்
 Name[tr]=Grupyazılımı(Groupware) Sunucusu
 Name[uk]=Сервер Groupware
-Name[xx]=xxGroupware Serverxx
 Name[zh_CN]=群件服务器
 X-KDE-Library=kabc_groupware
 Type=Service
Index: kresources/groupware/kcal_groupware.desktop
===================================================================
--- kresources/groupware/kcal_groupware.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/groupware/kcal_groupware.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -14,8 +14,10 @@
 Name[hu]=Groupware kiszolgáló
 Name[is]=Groupware þjónn
 Name[it]=Server Groupware
+Name[ja]=グループウェアサーバ
 Name[lt]=Grupinio darbo serveris
 Name[nb]=Groupware-tjener
+Name[nds]=Groupware-Server
 Name[nl]=Groupware-server
 Name[nn]=Groupware-tenar
 Name[pl]=Serwer Groupware
@@ -29,7 +31,6 @@
 Name[ta]=குழுவாரி சேவகன்
 Name[tr]=Grupyazılımı(Groupware) Sunucusu
 Name[uk]=Сервер Groupware
-Name[xx]=xxGroupware Serverxx
 Name[zh_CN]=群件服务器
 X-KDE-Library=kcal_groupware
 Type=Service
Index: kresources/remote/remote.desktop
===================================================================
--- kresources/remote/remote.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/remote/remote.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,6 +23,7 @@
 Name[ja]=リモートファイルのカレンダー
 Name[lt]=Kalendorius nutolusioje byloje
 Name[nb]=Kalender i fil på nettverk
+Name[nds]=Kalenner as Datei op en anner Reekner
 Name[nl]=Agenda in extern bestand
 Name[nn]=Kalender i ekstern fil
 Name[pl]=Kalendarz w pliku zdalnym
@@ -39,7 +40,6 @@
 Name[tg]=Тақвимот дар файли хурӯҷӣ
 Name[tr]=Uzak Dosyadaki Takvim
 Name[uk]=Календар у віддаленому файлі
-Name[xx]=xxCalendar in Remote Filexx
 Name[zh_CN]=远程文件中的日历
 X-KDE-Library=kcal_remote
 Type=Service
Index: kresources/newexchange/kabc_newexchange.desktop
===================================================================
--- kresources/newexchange/kabc_newexchange.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/newexchange/kabc_newexchange.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -14,8 +14,10 @@
 Name[hu]=Exchange-kiszolgáló címjegyzéke (kísérleti)
 Name[is]=Vistfangaskrá Exchange þjóni (á tilraunarstigi)
 Name[it]=Rubrica indirizzi su un server Exchange (sperimentale)
+Name[ja]=Exchange サーバのアドレス帳 (実験版)
 Name[lt]=Adresų knygelė Exchange serveryje (eksperimentine tvarka)
 Name[nb]=Adressebok på en Exchange-tjener (forsøksvis)
+Name[nds]=Adressbook op en Exchange-Server (warrt utprobeert)
 Name[nl]=Adresboek op een Exchange-server (experimenteel)
 Name[nn]=Adressebok på ein Exchange-tenar (eksperimentelt)
 Name[pl]=Książka adresowa na serwerze Exchange (eksperymentalne)
@@ -29,7 +31,6 @@
 Name[ta]=IMAP சேவையக வழியாக கேஅஞ்சலில் நாள்காட்டி(சோதனைக்குரியது)
 Name[tr]=Bir Exchange Sunucusu üzerinde Adres Defteri (deneyimsel)
 Name[uk]=Адресна книга на сервері Exchange (експериментальне)
-Name[xx]=xxAddressbook on an Exchange Server (experimental)xx
 Name[zh_CN]=Exchange 服务器上的地址簿(试验性)
 X-KDE-Library=kabc_newexchange
 Type=Service
Index: kresources/newexchange/kabc_newexchange_final.desktop
===================================================================
--- kresources/newexchange/kabc_newexchange_final.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/newexchange/kabc_newexchange_final.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -16,8 +16,10 @@
 Name[hu]=Exchange-kiszolgáló címjegyzéke
 Name[is]=Vistfangaskrá á Exchange þjóni
 Name[it]=Rubrica indirizzi su un server Exchange
+Name[ja]==Exchange サーバのアドレス帳
 Name[lt]=Adresų knygelė Exchange serveryje
 Name[nb]=Adressebok på en Exchange-tjener
+Name[nds]=Adressbook op en Exchange-Server
 Name[nl]=Adresboek op een Exchange-server
 Name[nn]=Adressebok på ein Exchange-tenar
 Name[pl]=Książka adresowa na serwerze Exchange
@@ -31,5 +33,4 @@
 Name[ta]=ஒருமாற்று சேவகனில் முகவரிப்புத்தகம்
 Name[tr]=Bir Exchange Sunucusu üzerinde Adres Defteri
 Name[uk]=Адресна книга на сервері Exchange
-Name[xx]=xxAddressbook on an Exchange Serverxx
 Name[zh_CN]=Exchange 服务器上的地址簿
Index: kresources/newexchange/kcal_newexchange.desktop
===================================================================
--- kresources/newexchange/kcal_newexchange.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/newexchange/kcal_newexchange.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -14,8 +14,10 @@
 Name[hu]=Exchange 2000-kiszolgáló naptára (kísérleti)
 Name[is]=Dagatal á Exchange þjóni (á tilraunarstigi)
 Name[it]=Calendario su un server Exchange (sperimentale)
+Name[ja]=Exchange サーバのカレンダー (実験版)
 Name[lt]=Kalendorius Exchange serveryje (eksperimentine tvarka)
 Name[nb]=Kalender på en Exchange-tjener (forsøksvis)
+Name[nds]=Kalenner op en Exchange-Server (warrt utprobeert)
 Name[nl]=Agenda op een Exchange-server (experimenteel)
 Name[nn]=Kalender på ein Exchange-tenar (eksperimentelt)
 Name[pl]=Kalendarz na serwerze Exchange (eksperymentalne)
@@ -29,7 +31,6 @@
 Name[ta]=பரிமாற்ற சேவகனில் நாட்காட்டி (சோதனைக்குரியது)
 Name[tr]=Bir Exchange Sunucusu üzerinde Takvim (deneyimsel)
 Name[uk]=Календар на сервері Exchange (експериментальне)
-Name[xx]=xxCalendar on an Exchange Server (experimental)xx
 Name[zh_CN]=Exchange 服务器上的日历(试验性)
 X-KDE-Library=kcal_newexchange
 Type=Service
Index: kresources/newexchange/kcal_newexchange_final.desktop
===================================================================
--- kresources/newexchange/kcal_newexchange_final.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kresources/newexchange/kcal_newexchange_final.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -17,8 +17,10 @@
 Name[hu]=Exchange 2000-kiszolgáló naptára
 Name[is]=Dagatal á Exchange þjóni
 Name[it]=Calendario su un server Exchange
+Name[ja]=Exchange サーバのカレンダー
 Name[lt]=Kalendorius Exchange serveryje
 Name[nb]=Kalender på en Exchange-tjener
+Name[nds]=Kalenner op en Exchange-Server
 Name[nl]=Agenda op een Exchange-server
 Name[nn]=Kalender på ein Exchange-tenar
 Name[pl]=Kalendarz na serwerze Exchange
@@ -32,5 +34,4 @@
 Name[ta]=ஒரு பரிமாற்ற சேவகனில் நாட்காட்சி
 Name[tr]=Bir Exchange Sunucusu üzerinde Takvim
 Name[uk]=Календар на сервері Exchange
-Name[xx]=xxCalendar on an Exchange Serverxx
 Name[zh_CN]=Exchange 服务器上的日历
Index: ksync/src/ksync.desktop
===================================================================
--- ksync/src/ksync.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ ksync/src/ksync.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -17,4 +17,3 @@
 Name[nso]=Ktshomisommogo
 Name[pt_BR]=Ksync (sincronizador)
 Name[ta]=கேஒத்திசைவு
-Name[xx]=xxKsyncxx
Index: certmanager/kleopatra_import.desktop
===================================================================
--- certmanager/kleopatra_import.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ certmanager/kleopatra_import.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -4,7 +4,6 @@
 Name[be]=Клеапатра
 Name[is]=Kleópatra
 Name[ta]=க்ளியோபட்ரா
-Name[xx]=xxKleopatraxx
 Type=Application
 Exec=kleopatra --import-certificate %u
 #Icon=kleopatra
Index: certmanager/conf/kleopatra_config_appear.desktop
===================================================================
--- certmanager/conf/kleopatra_config_appear.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ certmanager/conf/kleopatra_config_appear.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -40,6 +40,7 @@
 Name[lt]=Išvaizda
 Name[mk]=Изглед
 Name[nb]=Utseende
+Name[nds]=Utsehn
 Name[nl]=Uiterlijk
 Name[nn]=Utsjånad
 Name[pl]=Wygląd
@@ -57,7 +58,7 @@
 Name[tg]=Намуди зоҳирӣ
 Name[tr]=Görünüm
 Name[uk]=Вигляд
-Name[xx]=xxAppearancexx
+Name[uz]=Кўриниши
 Name[zh_CN]=外观
 Comment=Colors & Fonts Configuration
 Comment[be]=Канфігурацыя колераў і шрыфтоў
@@ -83,6 +84,7 @@
 Comment[lt]=Spalvų ir šriftų konfigūravimas
 Comment[mk]=Конфигурација на бои и фонтови
 Comment[nb]=Oppsett av farger og skrifttyper
+Comment[nds]=Klören un Schriftoorden instellen
 Comment[nl]=Kleur- en lettertype-instellingen
 Comment[nn]=Oppsett av fargar og skrifter
 Comment[pl]=Konfiguracja czcionek i kolorów
@@ -99,7 +101,6 @@
 Comment[tg]=Танзимоти ранг ва ҳуруф
 Comment[tr]=Renkler ve Yazı Tipleri Yapılandırması
 Comment[uk]=Налаштування кольорів і шрифтів
-Comment[xx]=xxColors & Fonts Configurationxx
 Comment[zh_CN]=颜色和字体配置
 Keywords=color,font, configuration
 Keywords[be]=колер, шрыфт, канфігурацыя, color, font, configuration
@@ -127,6 +128,7 @@
 Keywords[lt]=color,font, configuration, spalvų, šriftų konfigūravimas
 Keywords[mk]=color,font,configuration
 Keywords[nb]=farge,skrifttype,oppsett
+Keywords[nds]=Klöör,Schriftoort,instellen
 Keywords[nl]=kleur,kleuren,font,lettertype,configuratie,instellingen,setup
 Keywords[nn]=farge,skrift,oppsett
 Keywords[pl]=kolor,czcionki,kolory,konfiguracja
@@ -143,5 +145,4 @@
 Keywords[tg]=рангҳо,ҳуруфҳо,танзимот
 Keywords[tr]=renk,yazı tipi, yapılandırma
 Keywords[uk]=колір, шрифт, налаштування
-Keywords[xx]=xxcolor,font, configurationxx
 Keywords[zh_CN]=color,font,configuration,颜色,字体,配置
Index: certmanager/conf/kleopatra_config_dnorder.desktop
===================================================================
--- certmanager/conf/kleopatra_config_dnorder.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ certmanager/conf/kleopatra_config_dnorder.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -34,6 +34,7 @@
 Name[ja]=DNー属性 オーダー
 Name[lt]=DN-Savybių tvarka
 Name[nb]=DN-Attributtrekkefølge
+Name[nds]=DN-Egenschappenreeg
 Name[nl]=DN-Attribuutvolgorde
 Name[nn]=DN-attributtrekkjefølgje
 Name[pl]=Porządek atrybutów DN
@@ -50,7 +51,6 @@
 Name[tg]=Тартиби мушаххасияти DN
 Name[tr]=DN-Öznitelik Sırası
 Name[uk]=Порядок атрибутів DN
-Name[xx]=xxDN-Attribute Orderxx
 Name[zh_CN]=DN 属性顺序
 Comment=Configure the order in which DN attributes are shown
 Comment[bg]=Настройки на подредбата на атрибутите на индекса (DN)
@@ -59,7 +59,7 @@
 Comment[cs]=Nastavení pořadí zobrazení DN atributů
 Comment[da]=Indstil rækkefølgen i hvilken DN-attributter vises
 Comment[de]=Einrichtung für die Anzeigeordnung der DN-Attribute
-Comment[el]=Ρίθμιση της σειράς εμφάνισης των ιδιοτήτων DN
+Comment[el]=Ρύθμιση της σειράς εμφάνισης των ιδιοτήτων DN
 Comment[es]=Configura el orden en el que se muestran los atributos DN
 Comment[et]=DN-atribuutide näitamise järjekorra seadistamine
 Comment[eu]=Konfiguratu DN atributuak zein ordenetan erakutsiko diren
@@ -73,6 +73,7 @@
 Comment[ja]=DN-属性が示されるオーダーを設定します。
 Comment[lt]=Konfigūruoti DN savybių rodymo tvarką
 Comment[nb]=Still inn rekkefølgen DN-attributtene er sortert i
+Comment[nds]=De Reeg bi't Wiesen vun DN-Egenschappen fastleggen
 Comment[nl]=Stel de volgorde in van de DN-attributen
 Comment[nn]=Vel kva rekkjefølgje DN-attributtane er sorterte i
 Comment[pl]=Konfiguracja kolejności wyświetlania atrybutów DN
@@ -89,7 +90,6 @@
 Comment[tg]=Танзимоти мушаххасиятҳои намоишшавандаи тартибии DN
 Comment[tr]=DN özniteliklerinin hangi sıralama ile gösterileceğini yapılandır
 Comment[uk]=Налаштування порядку показу атрибутів DN
-Comment[xx]=xxConfigure the order in which DN attributes are shownxx
 Comment[zh_CN]=配置 DN 属性显示的顺序
 Keywords=DN,order,RDN,attribute
 Keywords[be]=парадак,атрыбут,DN,order,RDN,attribute
@@ -114,6 +114,7 @@
 Keywords[ja]=DN,オーダー,RDN,属性
 Keywords[lt]=DN,order,RDN,attribute,savybė,tvarka
 Keywords[nb]=DN,orden,RDN,attributt
+Keywords[nds]=DN,Reeg,RDN,Egenschap
 Keywords[nl]=DN,volgorde,RDN,attribuut
 Keywords[nn]=DN,rekkjefølgje,RDN,attributt
 Keywords[pl]=DN,kolejność,RDN,atrybuty
@@ -130,5 +131,4 @@
 Keywords[tg]=DN,тартибот,RDN,мушаххасот
 Keywords[tr]=DN,sıralama,RDN,öznitelik
 Keywords[uk]=DN,порядок,RDN,атрибут
-Keywords[xx]=xxDN,order,RDN,attributexx
 Keywords[zh_CN]=DN,order,RDN,attribute,顺序,属性
Index: certmanager/conf/kleopatra_config_dirserv.desktop
===================================================================
--- certmanager/conf/kleopatra_config_dirserv.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ certmanager/conf/kleopatra_config_dirserv.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -34,6 +34,7 @@
 Name[ja]=ディレクトリ サービス
 Name[lt]=Aplankų tarnybos
 Name[nb]=Katalogtjenere
+Name[nds]=Vertekendeensten
 Name[nl]=Mapdiensten
 Name[nn]=Katalogtenester
 Name[pa]=ਡਾਇਰੈਕਟਰੀ ਸੇਵਾਵਾਂ
@@ -51,7 +52,6 @@
 Name[tg]=Кӯмакҳои каталог
 Name[tr]=Dizin Servisleri
 Name[uk]=Служби каталогів
-Name[xx]=xxDirectory Servicesxx
 Name[zh_CN]=目录服务
 Comment=Configuration of LDAP directory services
 Comment[bg]=Настройки на директорийните услуги LDAP
@@ -74,6 +74,7 @@
 Comment[ja]=LDAP ディレクトリー サービスの設定
 Comment[lt]=LDAP aplankų tarnybų konfigūravimas
 Comment[nb]=Oppsett av LDAP katalogtjenester
+Comment[nds]=LDAP-Vertekendeensten instellen
 Comment[nl]=Configuratie voor LDAP-diensten
 Comment[nn]=Oppsett av LDAP-katalogtenester
 Comment[pl]=Konfiguracja usług katalogowych LDAP
@@ -90,7 +91,6 @@
 Comment[tg]=Танзимоти кӯмакҳои каталоги LDAP
 Comment[tr]=LDAP dizin servislerinin yapılandırması
 Comment[uk]=Налаштування служб каталогів LDAP
-Comment[xx]=xxConfiguration of LDAP directory servicesxx
 Comment[zh_CN]=LDAP 目录服务配置
 Keywords=ldap,directory,services
 Keywords[be]=каталёг,сэрвісы,ldap,directory,services
@@ -116,6 +116,7 @@
 Keywords[ja]=ldap,ディレクトリー,サービス
 Keywords[lt]=ldap,directory,services,aplankai,tarnybos
 Keywords[nb]=ldap,mappe,tjenester
+Keywords[nds]=LDAP,Verteken,Deensten
 Keywords[nn]=ldap,katalog,tenester
 Keywords[pl]=ldap,katalog,usługi katalogowe,usługi,LDAP
 Keywords[pt]=ldap,directório,serviços
@@ -131,5 +132,4 @@
 Keywords[tg]=ldap,кӯмакҳои каталог
 Keywords[tr]=ldap,dizin,servisler
 Keywords[uk]=ldap,служби,каталогів
-Keywords[xx]=xxldap,directory,servicesxx
 Keywords[zh_CN]=ldap,directory,services,目录,服务
Index: certmanager/lib/tests/test_cryptoconfig.cpp
===================================================================
--- certmanager/lib/tests/test_cryptoconfig.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ certmanager/lib/tests/test_cryptoconfig.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -2,7 +2,7 @@
     test_cryptoconfig.cpp
 
     This file is part of libkleopatra's test suite.
-    Copyright (c) 2004 Klarlvdalens Datakonsult AB
+    Copyright (c) 2004 KlarÃ¤lvdalens Datakonsult AB
 
     Libkleopatra is free software; you can redistribute it and/or
     modify it under the terms of the GNU General Public License,
@@ -258,7 +258,7 @@
       cout << "Log-file initially: " << val.local8Bit() << endl;
 
       // Test setting the option, sync'ing, then querying again
-      entry->setStringValue( "/tmp/test:%e5" );
+      entry->setStringValue( QString::fromUtf8( "/tmp/test:%e5Ã¤" ) );
       assert( entry->isDirty() );
       config->sync( true );
 
@@ -273,7 +273,7 @@
       assert( entry );
       assert( entry->argType() == Kleo::CryptoConfigEntry::ArgType_Path );
       cout << "Log-file now: " << entry->stringValue().local8Bit() << endl;
-      assert( entry->stringValue() == "/tmp/test:%e5" ); // (or even with %e5 decoded)
+      assert( entry->stringValue() == QString::fromUtf8( "/tmp/test:%e5Ã¤" ) ); // (or even with %e5 decoded)
 
       // Reset old value
 #if 0
Index: certmanager/lib/libkleopatrarc.desktop
===================================================================
--- certmanager/lib/libkleopatrarc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ certmanager/lib/libkleopatrarc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -16,8 +16,10 @@
 Name[hu]=Nem ellenőrzött kulcs
 Name[is]=Ekki staðfestur lykill
 Name[it]=Chiave non validata
+Name[ja]=有効な鍵がありません
 Name[lt]=Nevaliduotas raktas
 Name[nb]=Nøkkel ikke sjekket for gyldighet
+Name[nds]=Nich pröövt Slötel
 Name[nl]=Geen gevalideerde sleutel
 Name[nn]=Ikkje-validert nøkkel
 Name[pl]=Niesprawdzony klucz
@@ -31,7 +33,6 @@
 Name[ta]=செல்லுபடியாகாத விசை
 Name[tr]=Geçerli Olmayan Anahtar
 Name[uk]=Неперевірений ключ
-Name[xx]=xxNot Validated Keyxx
 Name[zh_CN]=未校验的密钥
 
 [Key Filter #1]
@@ -56,8 +57,10 @@
 Name[hu]=Lejárt kulcs
 Name[is]=Útrunninn lykill
 Name[it]=Chiave scaduta
+Name[ja]=有効期限切れな鍵
 Name[lt]=Baigęs galioti raktas
 Name[nb]=Utgått nøkkel
+Name[nds]=Aflopen Slötel
 Name[nl]=Verlopen sleutel
 Name[nn]=Forelda nøkkel
 Name[pl]=Klucz, który stracił ważność
@@ -71,7 +74,6 @@
 Name[ta]=காலாவதியான விசை
 Name[tr]=Süresi Dolmuş Anahtar
 Name[uk]=Застарілий ключ
-Name[xx]=xxExpired Keyxx
 Name[zh_CN]=过期密钥
 
 [Key Filter #2]
@@ -93,8 +95,10 @@
 Name[hu]=Visszavont kulcs
 Name[is]=Afturkallaður lykill
 Name[it]=Chiave revocata
+Name[ja]=無効化された鍵
 Name[lt]=Atšauktas raktas
 Name[nb]=Tilbakekalt nøkkel
+Name[nds]=Torüchropen Slötel
 Name[nl]=Ingetrokken sleutel
 Name[nn]=Tilbakekalla nøkkel
 Name[pl]=Odwołany klucz
@@ -108,7 +112,6 @@
 Name[ta]=நீக்கிய விசை
 Name[tr]=Geri Alınmış Anahtar
 Name[uk]=Анульований ключ
-Name[xx]=xxRevoked Keyxx
 Name[zh_CN]=吊销的密钥
 
 [Key Filter #3]
@@ -130,8 +133,10 @@
 Name[hu]=Megbízható gyökértanúsítvány
 Name[is]=Treyst rótarskilríki
 Name[it]=Certificato radice affidabile
+Name[ja]=信頼された Root 証明書
 Name[lt]=Patikimas root sertifikatas
 Name[nb]=Tiltrodd rot-sertifikat
+Name[nds]=Vertroonswöördig Wörtelzertifikaat
 Name[nl]=Vertrouwd hoofdcertificaat
 Name[nn]=Tiltrudd rotsertifikat
 Name[pl]=Zaufany certyfikat bazowy
@@ -145,7 +150,6 @@
 Name[ta]=நம்பகமான மூல சான்றிதழ்
 Name[tr]=Güvenilir Kök Sertifikası
 Name[uk]=Кореневий сертифікат з довірою
-Name[xx]=xxTrusted Root Certificatexx
 Name[zh_CN]=可信任的根证书
 
 [Key Filter #4]
@@ -167,8 +171,10 @@
 Name[hu]=Nem megbízható gyökértanúsítvány
 Name[is]=Ekki traust rótarskilríki
 Name[it]=Certificato radice non affidabile
+Name[ja]=信頼されてない Root 証明書
 Name[lt]=Nepatikimas root sertifikatas
 Name[nb]=Ikke tiltrodd rot-sertifikat
+Name[nds]=Nich vertroonswöördig Wörtelzertifikaat
 Name[nl]=Niet vertrouwd hoofdcertificaat
 Name[nn]=Ikkje tiltrudd rotsertifikat
 Name[pl]=Nie zaufany certyfikat bazowy
@@ -182,7 +188,6 @@
 Name[ta]=நம்பமுடியாத மூல சான்றிதழ்
 Name[tr]=Güvenilmeyen Kök Sertifikası
 Name[uk]=Кореневий сертифікат без довіри
-Name[xx]=xxNot Trusted Root Certificatexx
 Name[zh_CN]=未信任的根证书
 
 [Key Filter #5]
@@ -205,8 +210,10 @@
 Name[hu]=Egyéb kulcsok
 Name[is]=Aðrir lyklar
 Name[it]=Altre chiavi
+Name[ja]=他の鍵
 Name[lt]=Kiti raktai
 Name[nb]=Andre nøkler
+Name[nds]=Anner Slötels
 Name[nl]=Andere sleutels
 Name[nn]=Andre nøklar
 Name[pa]=ਹੋਰ ਕੁੰਜੀਆਂ
@@ -221,6 +228,6 @@
 Name[ta]=மற்ற விசைகள்
 Name[tr]=Diğer Anahtarlar
 Name[uk]=Інші ключі
-Name[xx]=xxOther Keysxx
+Name[uz]=Бошқа калитлар
 Name[zh_CN]=其它密钥
 
Index: karm/karm_part.desktop
===================================================================
--- karm/karm_part.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ karm/karm_part.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -6,11 +6,11 @@
 Name[et]=KArmi komponent
 Name[fr]=Composant KArm
 Name[is]=karm hluti
+Name[nds]=karm-Komponent
 Name[pt]=Componente KArm
 Name[pt_BR]=Componente do KArm
 Name[sv]=Karm-delprogram
 Name[tr]=karmpart
-Name[xx]=xxkarmPartxx
 MimeType=text/english;text/plain;text/x-makefile;text/x-c++hdr;text/x-c++src;text/x-chdr;text/x-csrc;text/x-java;text/x-moc;text/x-pascal;text/x-tcl;text/x-tex;application/x-shellscript;text/x-c;text/x-c++;
 ServiceTypes=KParts/ReadOnlyPart,KParts/ReadWritePart
 X-KDE-Library=libkarmpart
Index: karm/karmstorage.cpp
===================================================================
--- karm/karmstorage.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ karm/karmstorage.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -871,9 +871,9 @@
       err = exportcsvHistory( taskview, rc.from, rc.to, rc );
   else if ( rc.reportType == ReportCriteria::CSVTotalsExport )
       err = exportcsvFile( taskview, rc );
-  else
+  else {
       // hmmmm ... assert(0)?
-      ;
+  }
   return err;
 }
 
Index: karm/support/karm.desktop
===================================================================
--- karm/support/karm.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ karm/support/karm.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -9,7 +9,6 @@
 Name[sv]=Karm
 Name[ta]=Kஅம்
 Name[xh]=KAlrm
-Name[xx]=xxKArmxx
 GenericName=Personal Time Tracker
 GenericName[af]=Persoonlike Tyd Volger
 GenericName[ar]=جدول المواعيد
@@ -43,6 +42,7 @@
 GenericName[ms]=Penjejak Waktu Peribadi
 GenericName[mt]=Żomm il-ħin personali
 GenericName[nb]=Personlig tidsoversikt
+GenericName[nds]=Persöönlich Tietlogbook
 GenericName[nl]=Tijdsregistratie
 GenericName[nn]=Personleg tidsmålar
 GenericName[nso]=Seswaranako sa Nako ya Botho
@@ -63,7 +63,6 @@
 GenericName[ven]=Tshisedzulusi tsha tshifhinga tsha vhune
 GenericName[vi]=Trình đo thời gian 
 GenericName[xh]=Umfumani Wexesha Lobuqu
-GenericName[xx]=xxPersonal Time Trackerxx
 GenericName[zh_CN]=个人时间记录
 GenericName[zh_TW]=個人時程記錄
 GenericName[zu]=Umgcini Wesikhathi Esemfihlo
Index: kdgantt/KDGanttMinimizeSplitter.cpp
===================================================================
--- kdgantt/KDGanttMinimizeSplitter.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kdgantt/KDGanttMinimizeSplitter.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -952,7 +952,7 @@
     for ( int i = 0; i< n; i++ ) {
 	QSplitterLayoutStruct *s = data->list.at(i);
 	if ( !s->isSplitter ) {
-	    QSplitterLayoutStruct *p = (i > 0) ? p = data->list.at( i-1 ) : 0;
+	    QSplitterLayoutStruct *p = (i > 0) ? data->list.at( i-1 ) : 0;
 	    if ( p && p->isSplitter )
 		if ( first || s->wid->isHidden() )
 		    p->wid->hide(); //may trigger new recalc
Index: kdgantt/KDGanttViewSubwidgets.cpp
===================================================================
--- kdgantt/KDGanttViewSubwidgets.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kdgantt/KDGanttViewSubwidgets.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -2623,8 +2623,9 @@
 
 QSize KDLegendWidget::legendSizeHint()
 {
-
-    qApp->processEvents();
+    // ###### this should probably be something like  QApplication::sendPostedEvents(0, QEvent::LayoutHint); or something,
+    // but certainly not processEvents.
+    //qApp->processEvents();
     return QSize( myLegend->sizeHint().width(), myLegend->sizeHint().height()+scroll->horizontalScrollBar()->height());
 }
 
@@ -3071,9 +3072,9 @@
 }
 void KDGanttCanvasView::setMyContentsHeight( int hei )
 {
-    mySignalSender->closingBlocked = true;
-    qApp->processEvents();
-    mySignalSender->closingBlocked = false;
+    //mySignalSender->closingBlocked = true;
+    //qApp->processEvents();
+    //mySignalSender->closingBlocked = false;
     //qDebug("setMyContentsHeight %d %d ", hei,  myMyContentsHeight);
     if ( hei > 0 )
         myMyContentsHeight = hei;
Index: kmail/accountdialog.cpp
===================================================================
--- kmail/accountdialog.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/accountdialog.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1023,7 +1023,7 @@
   mImap.intervalLabel = new QLabel( i18n("Check inter&val:"), page1 );
   grid->addWidget( mImap.intervalLabel, row, 0 );
   mImap.intervalSpin = new KIntNumInput( page1 );
-  mImap.intervalSpin->setRange( 1, 60, 1, FALSE );
+  mImap.intervalSpin->setRange( 1, 10000, 1, FALSE );
   mImap.intervalSpin->setValue( 1 );
   mImap.intervalSpin->setSuffix( i18n( " min" ) );
   mImap.intervalLabel->setBuddy( mImap.intervalSpin );
Index: kmail/kmmainwin.rc
===================================================================
--- kmail/kmmainwin.rc	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmmainwin.rc	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,5 +1,8 @@
+<!-- This file should be synchronized with kmail_part.rc to provide
+     the same menu entries at the same place in KMail and Kontact  -->
+
 <!DOCTYPE kpartgui>
-<kpartgui version="86" name="kmmainwin" >
+<kpartgui version="88" name="kmmainwin" >
  <MenuBar>
   <Menu noMerge="1" name="file" >
    <text>&amp;File</text>
@@ -129,15 +132,12 @@
      <text>Mark Thread as</text>
      <Action name="thread_watched" />
      <Action name="thread_ignored" />
-     <Separator/>
-     <Action name="thread_break" />
    </Menu>
    <Separator/>
    <Action name="create_filter"/>
    <Menu name="apply_filter_actions" >
      <text>A&amp;pply Filter</text>
      <Action name="apply_filters" /> 
-     <Separator/>
      <ActionList name="menu_filter_actions" />
    </Menu>
   </Menu>
Index: kmail/kmail_part.cpp
===================================================================
--- kmail/kmail_part.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmail_part.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -50,7 +50,9 @@
 #include <dcopclient.h>
 #include <kiconloader.h>
 #include <kdebug.h>
+#include <ksettings/dispatcher.h>
 
+
 #include <qlayout.h>
 
 
@@ -82,15 +84,15 @@
   kapp->dcopClient()->suspend(); // Don't handle DCOP requests yet
 
   //local, do the init
-  KMKernel *kmailKernel = new KMKernel();
-  kmailKernel->init();
-  kmailKernel->setXmlGuiInstance( KMailFactory::instance() );
+  KMKernel *mKMailKernel = new KMKernel();
+  mKMailKernel->init();
+  mKMailKernel->setXmlGuiInstance( KMailFactory::instance() );
 
   // and session management
-  kmailKernel->doSessionManagement();
+  mKMailKernel->doSessionManagement();
 
   // any dead letters?
-  kmailKernel->recoverDeadLetters();
+  mKMailKernel->recoverDeadLetters();
 
   kmsetSignalHandler(kmsignalHandler);
   kapp->dcopClient()->resume(); // Ok. We are ready for DCOP requests.
@@ -141,6 +143,9 @@
   KGlobal::iconLoader()->addAppDir( "kmail" );
   setXMLFile( "kmail_part.rc" );
 #endif
+
+  KSettings::Dispatcher::self()->registerInstance( KMailFactory::instance(), mKMailKernel,
+                                                   SLOT( slotConfigChanged() ) );
 }
 
 KMailPart::~KMailPart()
@@ -237,6 +242,5 @@
   return static_cast<KMainWindow*>( mParent->parentWidget() );
 }
 
-
 #include "kmail_part.moc"
 
Index: kmail/imapaccountbase.cpp
===================================================================
--- kmail/imapaccountbase.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/imapaccountbase.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -202,10 +202,8 @@
     namespaceDelim entries = config.entryMap( config.group() );
     namespaceDelim namespaceToDelimiter;
     for ( namespaceDelim::ConstIterator it = entries.begin(); 
-          it != entries.end(); ++it )
-    {
-      if ( it.key().startsWith( "Namespace:" ) )
-      {
+          it != entries.end(); ++it ) {
+      if ( it.key().startsWith( "Namespace:" ) ) {
         QString key = it.key().right( it.key().length() - 10 );
         namespaceToDelimiter[key] = it.data();
       }
@@ -226,18 +224,15 @@
     config.writeEntry( "loadondemand", loadOnDemand() );
     config.writeEntry( "listOnlyOpenFolders", listOnlyOpenFolders() );
     QString data;
-    for ( nsMap::Iterator it = mNamespaces.begin(); it != mNamespaces.end(); ++it )
-    {
-      if ( !it.data().isEmpty() )
-      {
+    for ( nsMap::Iterator it = mNamespaces.begin(); it != mNamespaces.end(); ++it ) {
+      if ( !it.data().isEmpty() ) {
         data = "\"" + it.data().join("\",\"") + "\"";
         config.writeEntry( QString::number( it.key() ), data );
       }
     }
     QString key;
     for ( namespaceDelim::ConstIterator it = mNamespaceToDelimiter.begin(); 
-          it != mNamespaceToDelimiter.end(); ++it )
-    {
+          it != mNamespaceToDelimiter.end(); ++it ) {
       key = "Namespace:" + it.key();
       config.writeEntry( key, it.data() );
     }
@@ -688,14 +683,14 @@
         QString msg = i18n("KMail has detected a prefix entry in the "
             "configuration of the account \"%1\" which is obsolete with the "
             "support of IMAP namespaces.").arg( name() );
-        if ( list.contains( QString::null ) ) {
+        if ( list.contains( "" ) ) {
           // replace empty entry with the old prefix
-          list.remove( QString::null );
+          list.remove( "" );
           list += mOldPrefix;
           mNamespaces[PersonalNS] = list;
-          if ( mNamespaceToDelimiter.contains( QString::null ) ) {
-            QString delim = mNamespaceToDelimiter[QString::null];
-            mNamespaceToDelimiter.remove( QString::null );
+          if ( mNamespaceToDelimiter.contains( "" ) ) {
+            QString delim = mNamespaceToDelimiter[""];
+            mNamespaceToDelimiter.remove( "" );
             mNamespaceToDelimiter[mOldPrefix] = delim;
           }
           kdDebug(5006) << "migratePrefix - replaced empty with " << mOldPrefix << endl;
@@ -726,7 +721,7 @@
     {
       kdDebug(5006) << "migratePrefix - no migration needed" << endl;
     }
-    mOldPrefix = QString::null;
+    mOldPrefix = "";
   }
 
   //-----------------------------------------------------------------------------
@@ -771,8 +766,7 @@
     // then try if the prefix is part of a namespace
     // exclude empty namespace
     for ( namespaceDelim::ConstIterator it = mNamespaceToDelimiter.begin(); 
-          it != mNamespaceToDelimiter.end(); ++it )
-    {
+          it != mNamespaceToDelimiter.end(); ++it ) {
       // the namespace definition sometimes contains the delimiter
       // make sure we also match this version
       QString stripped = it.key().left( it.key().length() - 1 );
@@ -782,8 +776,9 @@
       }
     }
     // see if we have an empty namespace
-    if ( mNamespaceToDelimiter.contains( QString::null ) ) {
-      return mNamespaceToDelimiter[QString::null];
+    // this should always be the case
+    if ( mNamespaceToDelimiter.contains( "" ) ) {
+      return mNamespaceToDelimiter[""];
     }
     // well, we tried
     kdDebug(5006) << "delimiterForNamespace - not found" << endl;
@@ -1273,6 +1268,7 @@
   QString ImapAccountBase::createImapPath( const QString& parent, 
                                            const QString& folderName )
   {
+    kdDebug(5006) << "createImapPath parent="<<parent<<", folderName="<<folderName<<endl;  
     QString newName = parent;
     // strip / at the end
     if ( newName.endsWith("/") ) {
Index: kmail/kmailicalifaceimpl.cpp
===================================================================
--- kmail/kmailicalifaceimpl.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmailicalifaceimpl.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1542,9 +1542,9 @@
         if ( i != KMail::ContentsTypeMail ) {
           QString typeName = localizedDefaultFolderName( static_cast<KMail::FolderContentsType>( i ) );
           if ( results[i].found == StandardFolderSearchResult::NotFound )
-            operations += "<li>" + i18n( "%1: no folder found, will create it" ).arg( typeName ) + "</li>";
+            operations += "<li>" + i18n( "%1: no folder found. It will be created." ).arg( typeName ) + "</li>";
           else if ( results[i].found == StandardFolderSearchResult::FoundByType || results[i].found == StandardFolderSearchResult::FoundByName )
-            operations += "<li>" + i18n( "%1: found folder %2, will set it as main groupware folder" ).
+            operations += "<li>" + i18n( "%1: found folder %2. It will be set as the main groupware folder." ).
                           arg( typeName ).arg( results[i].folder->label() ) + "</li>";
         }
       }
Index: kmail/kmheaders.cpp
===================================================================
--- kmail/kmheaders.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmheaders.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -107,6 +107,8 @@
   mSortInfo.fakeSort = 0;
   mSortInfo.removed = 0;
   mSortInfo.column = 0;
+  mSortCol = 2; // 2 == date
+  mSortDescending = false;
   mSortInfo.ascending = false;
   mReaderWindowActive = false;
   mRoot = new SortCacheItem;
@@ -131,9 +133,6 @@
 
   connect(mPopup, SIGNAL(activated(int)), this, SLOT(slotToggleColumn(int)));
 
-  mSortCol = 3; // 3 == date
-  mSortDescending = false;
-
   setShowSortIndicator(true);
   setFocusPolicy( WheelFocus );
 
@@ -557,7 +556,7 @@
 
   KConfigGroupSaver saver(config, "Folder-" + mFolder->idString());
   mNestedOverride = config->readBoolEntry( "threadMessagesOverride", false );
-  mSortCol = config->readNumEntry("SortColumn", mSortCol /* inited to  date column */);
+  mSortCol = config->readNumEntry("SortColumn", mSortCol+1 /* inited to  date column */);
   mSortDescending = (mSortCol < 0);
   mSortCol = abs(mSortCol) - 1;
 
@@ -1339,7 +1338,11 @@
     CREATE_TIMER(filter);
     START_TIMER(filter);
 
+    KCursorSaver busy( KBusyPtr::busy() );
+    int counter = 0;
     for (KMMsgBase* msgBase=msgList->first(); msgBase; msgBase=msgList->next()) {
+      if ( !( ++counter % 20 ) )
+        KApplication::kApplication()->processEvents( 50 );
       int idx = msgBase->parent()->find(msgBase);
       assert(idx != -1);
       KMMessage * msg = msgBase->parent()->getMsg(idx);
@@ -2429,6 +2432,7 @@
         mSortInfo.dirty = true;
     }
 
+    assert(column >= 0);
     mSortCol = column;
     mSortDescending = !ascending;
 
@@ -2563,6 +2567,7 @@
         kmb = mFolder->getMsgBase( i->msgId() );
         assert(kmb); // I have seen 0L come out of this, called from
                    // KMHeaders::setFolder(0xgoodpointer, false);
+                   // I see this crash too. after rebuilding a broken index on a dimap folder. always
         QString replymd5 = kmb->replyToIdMD5();
         QString replyToAuxId = kmb->replyToAuxIdMD5();
         SortCacheItem *p = NULL;
@@ -2851,7 +2856,6 @@
 
 bool KMHeaders::readSortOrder( bool set_selection, bool forceJumpToUnread )
 {
-    kdDebug(5006) << k_funcinfo << endl << kdBacktrace() << endl;
     //all cases
     Q_INT32 column, ascending, threaded, discovered_count, sorted_count, appended;
     Q_INT32 deleted_count = 0;
Index: kmail/dcopimap.desktop
===================================================================
--- kmail/dcopimap.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/dcopimap.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,6 +24,7 @@
 Comment[ja]=DCOP インターフェース付のメールプログラム
 Comment[lt]=Pašto programa su DCOP sąsaja
 Comment[nb]=E-postprogram med DCOP grensesnitt
+Comment[nds]=Nettpostprogramm mit DCOP-Koppelsteed
 Comment[nl]=E-mailprogramma met een DCOP-interface
 Comment[nn]=E-postprogram med eit DCOP-grensesnitt
 Comment[pl]=Program pocztowy z interfejsem DCOP
@@ -40,5 +41,4 @@
 Comment[tg]=Барномаи почтавӣ бо интерфейси DCOP
 Comment[tr]=DCOP arayüzü ile posta programı
 Comment[uk]=Програма для роботи з ел. поштою з інтерфейсом DCOP
-Comment[xx]=xxMail program with a DCOP interfacexx
 Comment[zh_CN]=具有 DCOP 接口的邮件程序
Index: kmail/profiles/profile-high-contrast-rc.desktop
===================================================================
--- kmail/profiles/profile-high-contrast-rc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/profiles/profile-high-contrast-rc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,6 +24,7 @@
 Name[ja]=ハイコントラスト
 Name[lt]=Didelis kontrastas
 Name[nb]=Høy kontrast
+Name[nds]=Hoge Kontrast
 Name[nl]=Hoog contrast
 Name[nn]=Høg kontrast
 Name[pl]=Wysoki kontrast
@@ -40,7 +41,6 @@
 Name[tg]=Тазоди баланд
 Name[tr]=Yüksek Kontrast
 Name[uk]=Висока контрастність
-Name[xx]=xxHigh Contrastxx
 Name[zh_CN]=高对比
 Comment=Increased font sizes for visually impaired users
 Comment[ar]=خطوط بأحجام أكبر لضعاف البصر
@@ -69,6 +69,7 @@
 Comment[lt]=Padidinti šriftų dydžiai blogai matantiems naudotojams
 Comment[lv]=Palielināti fontu izmēri lietotājiem ar redzes traucējumiem
 Comment[nb]=Økte skriftstørrelser for svaksynte brukere
+Comment[nds]=Grötter Tekens für sehbehinnert Brukers
 Comment[nl]=Groter lettertype voor slechtziende gebruikers
 Comment[nn]=Auka skriftstorleik for synshemma brukarar
 Comment[pl]=Zwiększone rozmiary czcionek dla osób mających problemy ze wzrokiem
@@ -89,7 +90,6 @@
 Comment[ven]=Saizi ya fontu yo engedzhwaho uitela vhashumisi vha zwauvhona
 Comment[vi]=Tăng cỡ font cho người dùng tàn tật 
 Comment[xh]=Ubungakanani bobukhulu begama bunyusiwe kubasebenzisi ababonayo
-Comment[xx]=xxIncreased font sizes for visually impaired usersxx
 Comment[zh_CN]=对有视觉障碍的用户增加字体大小
 Comment[zu]=Abakhushululiweyo osayizi befont kwabantu abayizimpumputhe
 
Index: kmail/profiles/profile-default-rc.desktop
===================================================================
--- kmail/profiles/profile-default-rc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/profiles/profile-default-rc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -31,6 +31,7 @@
 Name[lv]=Noklusētais
 Name[mt]=Normali
 Name[nb]=Standard
+Name[nds]=Standard
 Name[nl]=Standaard
 Name[nn]=Standard
 Name[pa]=ਮੂਲ
@@ -55,7 +56,6 @@
 Name[ven]=Zwi si zwavhudi
 Name[vi]=Mặc định 
 Name[xh]=Engagqibekanga
-Name[xx]=xxDefaultxx
 Name[zh_CN]=默认
 Name[zu]=Engaqedekanga
 Comment=Standard profile
@@ -88,6 +88,7 @@
 Comment[lt]=Standartinis profilis
 Comment[lv]=Standarta profils
 Comment[nb]=Standardprofil
+Comment[nds]=Standardprofil
 Comment[nl]=Standaard profiel
 Comment[nn]=Standardprofil
 Comment[pl]=Profil standardowy
@@ -110,7 +111,6 @@
 Comment[ven]=Zwithu zwo doweleaho
 Comment[vi]=Hồ sơ chuẩn
 Comment[xh]=Imboniselo yabucala esezantsi
-Comment[xx]=xxStandard profilexx
 Comment[zh_CN]=标准配置文件
 Comment[zu]=Iprofayela Elingeneyo
 
Index: kmail/profiles/profile-html-rc.desktop
===================================================================
--- kmail/profiles/profile-html-rc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/profiles/profile-html-rc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,7 +1,6 @@
 [KMail Profile]
 Name=HTML
 Name[bg]=Поддръжка на HTML
-Name[xx]=xxHTMLxx
 Comment=Standard profile with HTML preview enabled - less secure!
 Comment[ar]=تشكيل قياسي مع تمكين استعراض HTML - أقل أمانا!
 Comment[az]=HTML nümayişli standard - ən az etibarlı!
@@ -29,6 +28,7 @@
 Comment[lt]=Standartinis profilis su HTML peržiūra – mažiau saugus!
 Comment[lv]=Standarta profils ar atļautu HTML apskati - nedrošāks!
 Comment[nb]=Standardprofil med forhåndsvisning av HTML - mindre sikkert!
+Comment[nds]=Standardprofil mit aktiveert HTML-Vöransicht - weniger seker
 Comment[nl]=Standaardprofiel met HTML-voorbeeld geactiveerd - minder veilig!
 Comment[nn]=Standard profil med HTML-vising slått på - mindre trygt!
 Comment[pl]=Standardowy profil z włączonym podglądem HTML - mniej bezpieczny!
@@ -49,7 +49,6 @@
 Comment[ven]=Profile yo doweleaho irena HTML ya mbonelaphanda yo itwaho - a i ngo tsireledzea!
 Comment[vi]=Hồ sơ chuẩn cho phép xem trước HTML - I't bảo mật hơn !
 Comment[xh]=Imboniselo yabucala esezantsi nge HTML imboniso yenziwe - ukhuseleko oluncinane!
-Comment[xx]=xxStandard profile with HTML preview enabled - less secure!xx
 Comment[zh_CN]=启用 HTML 预览的标准配置文件 - 更不安全！
 Comment[zu]=Yenza ngokulingeneyo iprofayela nge HTML okokukhombisa ngaphambili kwenzeliwe - okuncane ukuvikeleka!
 
Index: kmail/profiles/profile-purist-rc.desktop
===================================================================
--- kmail/profiles/profile-purist-rc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/profiles/profile-purist-rc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -17,6 +17,7 @@
 Name[it]=Purista
 Name[lt]=Itin paprastas
 Name[lv]=Puritānis
+Name[nds]=Reen
 Name[nn]=Enkel
 Name[pl]=Czysty
 Name[pt]=Purista
@@ -33,7 +34,6 @@
 Name[uk]=Пуристичний
 Name[ven]=Zwo kunaho
 Name[xh]=isiPurist
-Name[xx]=xxPuristxx
 Name[zh_CN]=严格
 Name[zu]=Okuhlanzekileyo
 Comment=Most features turned off, KDE global settings are used
@@ -63,6 +63,7 @@
 Comment[lt]=Dauguma savybių išjungta, naudojami globalūs KDE nustatymai
 Comment[lv]=Vairums īpašību izslēgtas, tiek izmantoti KDE globālie uzstādījumi
 Comment[nb]=De fleste funksjoner slått av, KDEs globale innstillinger er i bruk
+Comment[nds]=Mehrste Funktschonen utmaakt, globaal KDE-Vörinstellen warrt bruukt
 Comment[nl]=Meeste mogelijkheden uitgezet, de globale KDE-instellingen worden gebruikt
 Comment[nn]=Dei fleste funksjonar er slått av, globale KDE-innstillingar vert brukt
 Comment[pl]=Większość opcji wyłączona, używane są domyślne ustawienia KDE
@@ -83,7 +84,6 @@
 Comment[ven]=Zwithu zwinzhi zwo tsimiwa, mavhekanyelo a KDE a hothe na hothe a khu shumiswa
 Comment[vi]=Hầu hết các chức năng tắt, Thiết lập toàn cục của KDE được dùng 
 Comment[xh]=Imisebenzi emininzi icinyiwe, izicwangciso ezingqukuva ze KDE ziyasetyenziswa
-Comment[xx]=xxMost features turned off, KDE global settings are usedxx
 Comment[zh_CN]=关闭大多数特性，使用 KDE 全局设置
 Comment[zu]=Eziningi izinto azikhanyiswanga, ezezizwe izilungiselo ze KDE ziyasetshenziswa
 
Index: kmail/profiles/profile-secure-rc.desktop
===================================================================
--- kmail/profiles/profile-secure-rc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/profiles/profile-secure-rc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,6 +23,7 @@
 Name[ja]=最も安全
 Name[lt]=Saugiausias
 Name[nb]=Sikrest
+Name[nds]=Sekerst
 Name[nl]=Meest veilig
 Name[nn]=Tryggast
 Name[pa]=ਜਿਆਦਾ ਸੁਰੱਖਿਅਤ
@@ -41,7 +42,6 @@
 Name[tr]=En Güvenli
 Name[uk]=Найбільш безпечний
 Name[uz]=Жуда хавфсиз
-Name[xx]=xxMost Securexx
 Name[zh_CN]=最安全
 Comment=Sets all necessary options to achieve maximum security
 Comment[bg]=Режим, в който всички настройки за сигурност за включени
@@ -66,6 +66,7 @@
 Comment[ja]=最大のセキュリティ確保のために必要な全てのオプションをセットします
 Comment[lt]=Nustato visas būtinas maksimaliam saugumui parinktis
 Comment[nb]=Setter opp alle nødvendige innstillinger for å oppnå høyeste sikkerhet
+Comment[nds]=All Optschonen op maximale Sekerheit
 Comment[nl]=Stelt alle benodigde opties in voor maximale veiligheid
 Comment[nn]=Set alle nødvendige innstillingar for maksimal tryggleik
 Comment[pl]=Włącza wszystkie opcje zapewniające najwięcej bezpieczeństwa
@@ -82,7 +83,6 @@
 Comment[tg]=Тамоми параметрҳоро, ки барои ноилшавии амнияти максималӣ лозим аст, сабт мекунад
 Comment[tr]=En yüksek güvenliği yakalamak için gerekli bütün takım seçenekleri
 Comment[uk]=Встановлює всі необхідні параметри для забезпечення максимальної безпеки
-Comment[xx]=xxSets all necessary options to achieve maximum securityxx
 Comment[zh_CN]=设置所有必要的选项来达到最大的安全性
 
 [Composer]
Index: kmail/application_octetstream.desktop
===================================================================
--- kmail/application_octetstream.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/application_octetstream.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,7 +23,6 @@
 Name[ta]=பயன்பாட்டு எண்மம்
 Name[tg]=Миқдори зиёди бинарии барномот
 Name[tr]=Uygulama Sekizli Akışı
-Name[xx]=xxApplication Octetstreamxx
 Name[zh_CN]=应用程序 Octetstream
 Comment=A bodypart formatter plugin for application/octet-stream
 Comment[bg]=Приставка за форматиране на двоични данни
@@ -38,9 +37,11 @@
 Comment[eu]=Gorputz-zati formateatzaile plugin bat aplikazio/zortikote-jarioentzat
 Comment[fr]=Un module formateur de corps pour application (flux d'octets)
 Comment[hu]=Formázómodul application/octet-stream típusú adatfolyamokhoz
+Comment[is]=Sniðmátstól fyrir application/octet-stream
 Comment[it]=Un plugin per formattare application/octet-stream
 Comment[ja]=application/octet-stream の Bodypart フォーマッタプラグイン
 Comment[nb]=Et programtillegg for meldingstekst-formatering for application/octet-stream
+Comment[nds]=En Hööftdeel-Formateermoduul för application/octet-stream
 Comment[nl]=Een opmaakplugin voor application/octet-stream
 Comment[nn]=Eit programtillegg for formatering av meldingstekst i application/octet-stream
 Comment[pl]=Wtyczka formatowania danych typu application/octet-stream
@@ -56,7 +57,6 @@
 Comment[tg]=Модули ба андозадарории application/octet-stream
 Comment[tr]=application/octet-stream için bir gövde biçimleyici eklentisi
 Comment[uk]=Втулок для форматування application/octet-stream
-Comment[xx]=xxA bodypart formatter plugin for application/octet-streamxx
 Comment[zh_CN]=application/octet-stream 的格式化插件
 
 [Plugin]
Index: kmail/kmedit.cpp
===================================================================
--- kmail/kmedit.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmedit.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -218,8 +218,6 @@
   installEventFilter(this);
   KCursor::setAutoHideCursor( this, true, true );
   setOverwriteEnabled( true );
-
-  QTimer::singleShot( 0, this, SLOT( initializeAutoSpellChecking() ) );
 }
 
 
Index: kmail/kmail_config_misc.desktop
===================================================================
--- kmail/kmail_config_misc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmail_config_misc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -36,6 +36,7 @@
 Name[ja]=そのほか
 Name[lt]=Įvairūs
 Name[nb]=Div
+Name[nds]=Anner Saken
 Name[nl]=Diversen
 Name[nn]=Ymse
 Name[pa]=ਫੁਟਕਲ
@@ -53,7 +54,7 @@
 Name[tg]=Ғайра
 Name[tr]=Çeşitli
 Name[uk]=Різн
-Name[xx]=xxMiscxx
+Name[uz]=Ҳар хил
 Name[zh_CN]=杂项
 Comment=Settings that don't fit elsewhere
 Comment[bg]=Разни настройки
@@ -74,6 +75,7 @@
 Comment[ja]=ほかのところに適合しない設定
 Comment[lt]=Kiti nustatymai
 Comment[nb]=Instillinger som ikke passer andre steder
+Comment[nds]=Verscheden Instellen
 Comment[nl]=Instellingen die nergens echt passen
 Comment[nn]=Innstillingar som ikkje passar andre stader
 Comment[pl]=Ustawienia, które nie pasują gdzie indziej
@@ -90,7 +92,6 @@
 Comment[tg]=Дигар танзимотҳо
 Comment[tr]=Diğer bölümlere uymayan yapılandırma seçenekleri
 Comment[uk]=Інші параметри
-Comment[xx]=xxSettings that don't fit elsewherexx
 Comment[zh_CN]=其它设置
 Keywords=kmail,misc
 Keywords[be]=K Пошта,рознае,kmail,misc
@@ -114,6 +115,7 @@
 Keywords[ja]=kmail,そのほか
 Keywords[lt]=kmail,misc,įvairūs
 Keywords[nb]=kmail,div
+Keywords[nds]=KMail,anner,saken
 Keywords[nl]=kmail,diversen
 Keywords[nn]=KMail,ymse
 Keywords[pl]=kmail,różne,inne
@@ -129,5 +131,5 @@
 Keywords[tg]=kmail,misc,ғайра,дигар
 Keywords[tr]=kmail,çeşitli
 Keywords[uk]=kmail,різн
-Keywords[xx]=xxkmail,miscxx
+Keywords[uz]=kmail,ҳар хил
 Keywords[zh_CN]=kmail,misc,杂项
Index: kmail/kmfoldermaildir.cpp
===================================================================
--- kmail/kmfoldermaildir.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmfoldermaildir.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -620,7 +620,9 @@
 {
   // we keep our current directory to restore it later
   char path_buffer[PATH_MAX];
-  ::getcwd(path_buffer, PATH_MAX - 1);
+  if(!::getcwd(path_buffer, PATH_MAX - 1))
+    return;
+
   ::chdir(QFile::encodeName(dir));
 
   // messages in the 'cur' directory are Read by default.. but may
Index: kmail/newfolderdialog.cpp
===================================================================
--- kmail/newfolderdialog.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/newfolderdialog.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -252,6 +252,8 @@
           // create folder with namespace
           parent = anAccount->addPathToNamespace( mNamespacesComboBox->currentText() );
           imapPath = anAccount->createImapPath( parent, fldName );
+        } else {
+          imapPath = anAccount->createImapPath( selectedStorage->imapPath(), fldName );  
         }
         KMFolderImap* newStorage = static_cast<KMFolderImap*>( newFolder->storage() );
         selectedStorage->createFolder(fldName, parent); // create it on the server

Property changes on: kmail/hi128-app-kmail.png
___________________________________________________________________
Name: svn:executable
   - *

Index: kmail/subscriptiondialog.cpp
===================================================================
--- kmail/subscriptiondialog.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/subscriptiondialog.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -241,11 +241,28 @@
 //------------------------------------------------------------------------------
 void SubscriptionDialog::slotSave()
 {
+  KMail::ImapAccountBase *account = static_cast<KMail::ImapAccountBase*>(mAcct);
+  if( !account->onlySubscribedFolders() ) {
+      int result = KMessageBox::questionYesNoCancel( this,
+              i18n("Currently subscriptions are not used for server %1\ndo you want to enable subscriptions?")
+              .arg( account->name() ),
+              i18n("Enable Subscriptions?"), i18n("Enable"), i18n("Do Not Enable"));
+      switch(result) {
+          case KMessageBox::Yes:
+              mForceSubscriptionEnable = true;
+              break;
+          case KMessageBox::No:
+              break;
+          case KMessageBox::Cancel:
+              cancel();
+      }
+  }
+
   // subscribe
   QListViewItemIterator it(subView);
   for ( ; it.current(); ++it)
   {
-    static_cast<ImapAccountBase*>(account())->changeSubscription(true,
+    account->changeSubscription(true,
         static_cast<GroupItem*>(it.current())->info().path);
   }
 
@@ -253,16 +270,12 @@
   QListViewItemIterator it2(unsubView);
   for ( ; it2.current(); ++it2)
   {
-    static_cast<ImapAccountBase*>(account())->changeSubscription(false,
+    account->changeSubscription(false,
         static_cast<GroupItem*>(it2.current())->info().path);
   }
 
-  if( mForceSubscriptionEnable ) {
-    KMail::ImapAccountBase *account = static_cast<KMail::ImapAccountBase*>(mAcct);
-    if( account )
-    {
-      account->setOnlySubscribedFolders(true);
-    }
+  if ( mForceSubscriptionEnable ) {
+    account->setOnlySubscribedFolders(true);
   }
 }
 
@@ -368,27 +381,6 @@
 void SubscriptionDialog::show()
 {
   KDialogBase::show();
-  KMail::ImapAccountBase *account = static_cast<KMail::ImapAccountBase*>(mAcct);
-  if( account )
-  {
-    if( !account->onlySubscribedFolders() )
-    {
-      kdDebug() << "Not subscribed!!!" << endl;
-      int result = KMessageBox::questionYesNoCancel( this,
-              i18n("Currently subscriptions are not used for server %1\ndo you want to enable subscriptions?")
-              .arg( account->name() ),
-            i18n("Enable Subscriptions?"), i18n("Enable"), i18n("Do Not Enable"));
-        switch(result) {
-            case KMessageBox::Yes:
-                mForceSubscriptionEnable = true;
-                break;
-            case KMessageBox::No:
-                break;
-            case KMessageBox::Cancel:
-                cancel();
-        }
-    }
-  }
 }
 
 } // namespace
Index: kmail/recipientspicker.h
===================================================================
--- kmail/recipientspicker.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/recipientspicker.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -26,6 +26,7 @@
 #include <klistview.h>
 #include <klistviewsearchline.h>
 #include <kabc/addressee.h>
+#include <kabc/stdaddressbook.h>
 
 #include <qwidget.h>
 #include <qdialog.h>
@@ -133,6 +134,8 @@
     void keyPressEvent( QKeyEvent * );
 };
 
+using namespace KABC;
+
 class RecipientsPicker : public QDialog
 {
     Q_OBJECT
@@ -172,8 +175,11 @@
     void slotPicked();
     void setFocusList();
     void resetSearch();
-
+    void insertAddressBook( AddressBook * );
+    
   private:
+    KABC::StdAddressBook *mAddressBook;
+      
     QComboBox *mCollectionCombo;
     KListView *mRecipientList;
     KListViewSearchLine *mSearchLine;
Index: kmail/kmail_config_composer.desktop
===================================================================
--- kmail/kmail_config_composer.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmail_config_composer.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -34,6 +34,7 @@
 Name[it]=Compositore
 Name[lt]=Redaktorius
 Name[nb]=Komposer
+Name[nds]=Nettbreef-Editor
 Name[nl]=Opsteller
 Name[nn]=Skrivefelt
 Name[pa]=ਲੇਖਕ
@@ -51,7 +52,6 @@
 Name[tg]=Муҳаррири мактубҳо
 Name[tr]=Düzenleyici
 Name[uk]=Редактор листів
-Name[xx]=xxComposerxx
 Name[zh_CN]=编写器
 Comment=Phrases & General Behavior
 Comment[bg]=Настройки на редактора
@@ -74,6 +74,7 @@
 Comment[ja]=言いまわし & 一般的な振る舞い
 Comment[lt]=Frazės ir bendroji elgsena
 Comment[nb]=Fraser & generell oppførsel
+Comment[nds]=Snacks un allgemeen Bedregen
 Comment[nl]=Zinnen & Algemeen gedrag
 Comment[nn]=Frasar og generell åtferd
 Comment[pl]=Wyrażenia i ogólne zachowanie
@@ -90,7 +91,6 @@
 Comment[tg]=Ибораҳо ва параметрҳои умумӣ
 Comment[tr]=Tümcecik ve Genel Davranış
 Comment[uk]=Фрази і загальні параметри
-Comment[xx]=xxPhrases & General Behaviorxx
 Comment[zh_CN]=短语和一般行为
 Keywords=kmail,composer
 Keywords[bg]=пощенски, клиент, е-поща, редактор, съставител, форматиране, текст, kmail, komposer
@@ -112,6 +112,7 @@
 Keywords[it]=kmail,compositore
 Keywords[lt]=kmail,composer,redaktorius
 Keywords[nb]=kmail,komposer
+Keywords[nds]=KMail,Editor,Nettbreefeditor
 Keywords[nl]=kmail,opsteller
 Keywords[nn]=KMail,skrivefelt
 Keywords[pl]=kmail,kompozytor,edytor
@@ -127,5 +128,4 @@
 Keywords[tg]=kmail,composer,мактуб
 Keywords[tr]=kmail,düzenleyici
 Keywords[uk]=kmail,редактор
-Keywords[xx]=xxkmail,composerxx
 Keywords[zh_CN]=kmail,composer, 编写器

Property changes on: kmail/hi64-app-kmail.png
___________________________________________________________________
Name: svn:executable
   - *

Index: kmail/recipientspicker.cpp
===================================================================
--- kmail/recipientspicker.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/recipientspicker.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -27,7 +27,6 @@
 
 #include <klistview.h>
 #include <klocale.h>
-#include <kabc/stdaddressbook.h>
 #include <kabc/resource.h>
 #include <kiconloader.h>
 #include <kdialog.h>
@@ -324,6 +323,13 @@
   buttonLayout->addWidget( closeButton );
   connect( closeButton, SIGNAL( clicked() ), SLOT( close() ) );
 
+  {
+    using namespace KABC;
+    mAddressBook = KABC::StdAddressBook::self( true );
+    connect( mAddressBook, SIGNAL( addressBookChanged( AddressBook * ) ),
+             this, SLOT( insertAddressBook( AddressBook * ) ) );
+  }
+
   initCollections();
 
   mCollectionCombo->setCurrentItem( 0 );
@@ -355,8 +361,21 @@
 
 void RecipientsPicker::initCollections()
 {
-  KABC::StdAddressBook *addressbook = KABC::StdAddressBook::self( true );
+  mAllRecipients = new RecipientsCollection;
+  mAllRecipients->setTitle( i18n("All") );
+  insertCollection( mAllRecipients );
 
+  insertDistributionLists();
+
+  insertRecentAddresses();
+
+  mSelectedRecipients = new RecipientsCollection;
+  mSelectedRecipients->setTitle( i18n("Selected Recipients") );
+  insertCollection( mSelectedRecipients );
+}
+
+void RecipientsPicker::insertAddressBook( KABC::AddressBook *addressbook )
+{
   QMap<KABC::Resource *,RecipientsCollection *> collectionMap;
 
   QPtrList<KABC::Resource> resources = addressbook->resources();
@@ -369,9 +388,6 @@
 
   QMap<QString,RecipientsCollection *> categoryMap;
 
-  mAllRecipients = new RecipientsCollection;
-  mAllRecipients->setTitle( i18n("All") );
-
   KABC::AddressBook::Iterator it;
   for( it = addressbook->begin(); it != addressbook->end(); ++it ) {
     QStringList emails = (*it).emails();
@@ -405,8 +421,6 @@
     }
   }
 
-  insertCollection( mAllRecipients );
-
   QMap<KABC::Resource *,RecipientsCollection *>::ConstIterator it2;
   for( it2 = collectionMap.begin(); it2 != collectionMap.end(); ++it2 ) {
     insertCollection( *it2 );
@@ -416,14 +430,8 @@
   for( it3 = categoryMap.begin(); it3 != categoryMap.end(); ++it3 ) {
     insertCollection( *it3 );
   }
-
-  insertDistributionLists();
-
-  insertRecentAddresses();
-
-  mSelectedRecipients = new RecipientsCollection;
-  mSelectedRecipients->setTitle( i18n("Selected Recipients") );
-  insertCollection( mSelectedRecipients );
+  
+  updateList();
 }
 
 void RecipientsPicker::insertDistributionLists()
Index: kmail/kmreaderwin.cpp
===================================================================
--- kmail/kmreaderwin.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmreaderwin.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1958,14 +1958,8 @@
 {
   assert(aMsgPart!=0);
   partNode* node = mRootNode ? mRootNode->findId( mAtmCurrent ) : 0;
-  KMMessage* msg;
-  if (node && node->dwPart()->Body().Message()) {
-    // make a deep copy
-    msg = new KMMessage( new DwMessage(*node->dwPart()->Body().Message()) );
-  } else {
-    msg = new KMMessage;
-    msg->fromString(aMsgPart->bodyDecoded());
-  }
+  KMMessage* msg = new KMMessage;
+  msg->fromString(aMsgPart->bodyDecoded());
   assert(msg != 0);
   msg->setMsgSerNum( 0 ); // because lookups will fail
   // some information that is needed for imap messages with LOD
Index: kmail/kmmessage.cpp
===================================================================
--- kmail/kmmessage.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmmessage.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -2791,13 +2791,14 @@
 
     // pending(khz): Find out WHY this look does not travel down *into* an
     //               embedded "Message/RfF822" message containing a "Multipart/Mixed"
-    if (curpart && curpart->hasHeaders() ) {
+    if ( curpart && curpart->hasHeaders() && curpart->Headers().HasContentType() ) {
       kdDebug(5006) << curpart->Headers().ContentType().TypeStr().c_str()
 		<< "  " << curpart->Headers().ContentType().SubtypeStr().c_str() << endl;
     }
 
     if (curpart &&
 	curpart->hasHeaders() &&
+        curpart->Headers().HasContentType() &&
 	curpart->Headers().ContentType().Type() == type &&
 	curpart->Headers().ContentType().Subtype() == subtype) {
 	part = curpart;
@@ -3818,13 +3819,15 @@
 //-----------------------------------------------------------------------------
 QCString KMMessage::charset() const
 {
-  DwMediaType &mType=mMsg->Headers().ContentType();
-  mType.Parse();
-  DwParameter *param=mType.FirstParameter();
-  while(param){
-    if (!kasciistricmp(param->Attribute().c_str(), "charset"))
-      return param->Value().c_str();
-    else param=param->Next();
+  if ( mMsg->Headers().HasContentType() ) {  
+    DwMediaType &mType=mMsg->Headers().ContentType();
+    mType.Parse();
+    DwParameter *param=mType.FirstParameter();
+    while(param){
+      if (!kasciistricmp(param->Attribute().c_str(), "charset"))
+        return param->Value().c_str();
+      else param=param->Next();
+    }
   }
   return ""; // us-ascii, but we don't have to specify it
 }
Index: kmail/partNode.cpp
===================================================================
--- kmail/partNode.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/partNode.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -179,7 +179,7 @@
     return mEncodedBody;
 
   if ( mDwPart )
-    mEncodedBody = mDwPart->AsString().c_str();
+    mEncodedBody = mDwPart->Body().AsString().c_str();
   else
     mEncodedBody = 0;
   mEncodedOk = true;
Index: kmail/kmail_config_identity.desktop
===================================================================
--- kmail/kmail_config_identity.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmail_config_identity.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -36,6 +36,7 @@
 Name[ja]=身元
 Name[lt]=Tapatybės
 Name[nb]=Identiteter
+Name[nds]=Personen
 Name[nl]=Identiteiten
 Name[nn]=Identitetar
 Name[pl]=Tożsamości
@@ -52,7 +53,7 @@
 Name[tg]=Профилҳо
 Name[tr]=Kimlikler
 Name[uk]=Профілі
-Name[xx]=xxIdentitiesxx
+Name[uz]=Шахсиятлар
 Name[zh_CN]=身份
 Comment=Manage Identities
 Comment[be]=Кіраваньне увасабленьнямі
@@ -77,6 +78,7 @@
 Comment[ja]=身元管理
 Comment[lt]=Tvarkyti tapatybes
 Comment[nb]=Identitetsbehandling
+Comment[nds]=Personen inrichten un plegen
 Comment[nl]=Identiteiten beheren
 Comment[nn]=Handter identitetar
 Comment[pl]=Zarządzanie tożsamościami
@@ -93,7 +95,6 @@
 Comment[tg]=Идоракунӣ бо профилҳо
 Comment[tr]=Kimlikleri Düzenle
 Comment[uk]=Керування профілями
-Comment[xx]=xxManage Identitiesxx
 Comment[zh_CN]=管理身份
 Keywords=kmail,identity
 Keywords[be]=K Пошта,увасабленьне,kmail,identity
@@ -118,6 +119,7 @@
 Keywords[ja]=kmail,身元
 Keywords[lt]=kmail,identity,tapatybė
 Keywords[nb]=kmail,identitet
+Keywords[nds]=KMail,Person,Personen
 Keywords[nl]=kmail,identiteit
 Keywords[nn]=KMail,identitet
 Keywords[pl]=kmail,tożsamość,tożsamości
@@ -132,5 +134,5 @@
 Keywords[tg]=kmail,identity,профил
 Keywords[tr]=kmail,kimlikler
 Keywords[uk]=kmail,профіль
-Keywords[xx]=xxkmail,identityxx
+Keywords[uz]=kmail,шахсият
 Keywords[zh_CN]=kmail,identity, 身份
Index: kmail/kmcommands.cpp
===================================================================
--- kmail/kmcommands.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmcommands.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1464,15 +1464,20 @@
 
 KMCommand::Result KMFilterActionCommand::execute()
 {
+  KCursorSaver busy( KBusyPtr::busy() );
   QPtrList<KMMessage> msgList = retrievedMsgs();
 
   for (KMMessage *msg = msgList.first(); msg; msg = msgList.next())
     if( msg->parent() )
       kmkernel->filterMgr()->tempOpenFolder(msg->parent());
 
+  int counter = 0;
   for (KMMessage *msg = msgList.first(); msg; msg = msgList.next()) {
     msg->setTransferInProgress(false);
 
+    if ( !( ++counter % 20 ) )
+      KApplication::kApplication()->processEvents( 50 );
+
     int filterResult = kmkernel->filterMgr()->process(msg, mFilter);
     if (filterResult == 2) {
       // something went horribly wrong (out of space?)
@@ -1496,30 +1501,30 @@
 
 void KMMetaFilterActionCommand::start()
 {
-#if 0 // use action scheduler
-  KMFilterMgr::FilterSet set = KMFilterMgr::All;
-  QPtrList<KMFilter> filters;
-  filters.append( mFilter );
-  ActionScheduler *scheduler = new ActionScheduler( set, filters, mHeaders );
-  scheduler->setAlwaysMatch( true );
-  scheduler->setAutoDestruct( true );
+  if (ActionScheduler::isEnabled() ) {
+    // use action scheduler
+    KMFilterMgr::FilterSet set = KMFilterMgr::All;
+    QValueList<KMFilter*> filters;
+    filters.append( mFilter );
+    ActionScheduler *scheduler = new ActionScheduler( set, filters, mHeaders );
+    scheduler->setAlwaysMatch( true );
+    scheduler->setAutoDestruct( true );
 
-  int contentX, contentY;
-  HeaderItem *nextItem = mHeaders->prepareMove( &contentX, &contentY );
-  QPtrList<KMMsgBase> msgList = *mHeaders->selectedMsgs(true);
-  mHeaders->finalizeMove( nextItem, contentX, contentY );
+    int contentX, contentY;
+    HeaderItem *nextItem = mHeaders->prepareMove( &contentX, &contentY );
+    QPtrList<KMMsgBase> msgList = *mHeaders->selectedMsgs(true);
+    mHeaders->finalizeMove( nextItem, contentX, contentY );
 
-
-  for (KMMsgBase *msg = msgList.first(); msg; msg = msgList.next())
-    scheduler->execFilters( msg );
-#else
-  KMCommand *filterCommand = new KMFilterActionCommand( mMainWidget,
-  *mHeaders->selectedMsgs(), mFilter);
-  filterCommand->start();
-  int contentX, contentY;
-  HeaderItem *item = mHeaders->prepareMove( &contentX, &contentY );
-  mHeaders->finalizeMove( item, contentX, contentY );
-#endif
+    for (KMMsgBase *msg = msgList.first(); msg; msg = msgList.next())
+      scheduler->execFilters( msg );
+  } else {
+    KMCommand *filterCommand = new KMFilterActionCommand( mMainWidget,
+    *mHeaders->selectedMsgs(), mFilter);
+    filterCommand->start();
+    int contentX, contentY;
+    HeaderItem *item = mHeaders->prepareMove( &contentX, &contentY );
+    mHeaders->finalizeMove( item, contentX, contentY );
+  }
 }
 
 FolderShortcutCommand::FolderShortcutCommand( KMMainWidget *mainwidget,
Index: kmail/kmstartup.cpp
===================================================================
--- kmail/kmstartup.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmstartup.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -217,7 +217,6 @@
 
 void insertLibraryCataloguesAndIcons() {
   static const char * const catalogues[] = {
-    "libkdenetwork",
     "libkdepim",
     "libksieve",
     "libkleopatra",
Index: kmail/antispamwizard.cpp
===================================================================
--- kmail/antispamwizard.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/antispamwizard.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -525,7 +525,7 @@
                                     : i18n("Scanning for anti-virus tools finished.") );
   else
     mInfoPage->setScanProgressText( ( mMode == AntiSpam )
-                                    ? i18n("<p>Sorry, no spam detection tools have been found. "
+                                    ? i18n("<p>No spam detection tools have been found. "
                                            "Install your spam detection software and "
                                            "re-run this wizard.</p>")
                                     : i18n("Scanning complete. No anti-virus tools found.") );
Index: kmail/kmfoldercachedimap.cpp
===================================================================
--- kmail/kmfoldercachedimap.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmfoldercachedimap.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1120,7 +1120,7 @@
             "have sufficient access rights on the folder now to upload them. "
             "Please contact your administrator to allow upload of new messages "
             "to you, or move them out of this folder.</p> "
-            "<p>Do you want to move those messages to another folder now?</p>") );
+            "<p>Do you want to move these messages to another folder now?</p>") );
       if ( KMessageBox::warningYesNo( 0, msg, QString::null, i18n("Move"), i18n("Do Not Move") ) == KMessageBox::Yes ) {
         KMail::KMFolderSelDlg dlg( kmkernel->getKMMainWidget(),
             i18n("Move Messages to Folder"), true );
Index: kmail/renamejob.cpp
===================================================================
--- kmail/renamejob.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/renamejob.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -58,6 +58,7 @@
    mStorage( storage ), mNewParent( newParent ),
    mNewName( newName ), mNewFolder( 0 )
 {
+  mStorageTempOpened = 0;
   mOldName = storage->name();
   if ( storage->folderType() == KMFolderTypeImap ) {
     mOldImapPath = static_cast<KMFolderImap*>(storage)->imapPath();
@@ -77,7 +78,8 @@
     // move the folder to a different parent
     KMFolderType type = mStorage->folderType();
     if ( ( type == KMFolderTypeMbox || type == KMFolderTypeMaildir ) &&
-         mNewParent->type() == KMStandardDir )
+         mNewParent->type() == KMStandardDir &&
+         mStorage->folderType() != KMFolderTypeCachedImap )
     {
       // local folders can handle this on their own
       mStorage->rename( mNewName, mNewParent );
@@ -131,7 +133,11 @@
       KMFolderCachedImap* newStorage = static_cast<KMFolderCachedImap*>(mNewFolder->storage());
       KMFolderCachedImap* owner = static_cast<KMFolderCachedImap*>(mNewParent->owner()->storage());
       newStorage->initializeFrom( owner );
-      slotMoveMessages();
+      moveSubFoldersBeforeMessages();
+    } else if ( mStorage->folderType() == KMFolderTypeCachedImap )
+    {
+      // from (d)IMAP to local account
+      moveSubFoldersBeforeMessages();
     } else
     {
       // local
@@ -219,6 +225,8 @@
   mStorage->blockSignals( true );
   // move all messages to the new folder
   QPtrList<KMMsgBase> msgList;
+  if ( !mStorage->isOpened() )
+    mStorageTempOpened = mStorage->open() ? mStorage : 0;
   for ( int i = 0; i < mStorage->count(); i++ )
   {
     KMMsgBase* msgBase = mStorage->getMsgBase( i );
@@ -240,6 +248,10 @@
 void RenameJob::slotMoveCompleted( KMCommand* command )
 {
   kdDebug(5006) << k_funcinfo << (command?command->result():0) << endl;
+  if ( mStorageTempOpened ) {
+    mStorageTempOpened->close();
+    mStorageTempOpened = 0;
+  }
   if ( command ) {
     // just make sure nothing bounces
     disconnect( command, SIGNAL( completed( KMCommand * ) ),
@@ -263,6 +275,10 @@
       config->writeEntry( it.key(), it.data() );
     }
     mNewFolder->readConfig( config );
+    // make sure the children state is correct
+    if ( mNewFolder->child() &&
+         ( mNewFolder->storage()->hasChildren() == FolderStorage::HasNoChildren ) )
+      mNewFolder->storage()->updateChildrenState();
 
     // delete the old folder
     mStorage->blockSignals( false );
@@ -315,4 +331,37 @@
   delete this;
 }
 
+void RenameJob::slotMoveSubFolders( QString newName, bool success )
+{
+  if ( !success ) {
+      emit renameDone( newName, false );
+  } else {
+    KMFolderDir* child = mStorage->folder()->child();
+    if ( child && child->first() )
+    {
+      KMFolderNode* node = child->first();
+      {
+        FolderStorage* childStorage = static_cast<KMFolder*>(node)->storage();
+        if ( !mNewFolder->child() )
+          mNewFolder->createChildFolder();
+        RenameJob* job = new RenameJob( childStorage, childStorage->name(),
+                                        mNewFolder->child() );
+        connect( job, SIGNAL( renameDone( QString, bool ) ),
+            this, SLOT( slotMoveSubFolders( QString, bool ) ) );
+        job->start();
+      }
+    }
+    else slotMoveMessages();
+  }
+}
+
+void RenameJob::moveSubFoldersBeforeMessages()
+{
+  // move child folders recursive if present - else simply move the messages
+  KMFolderDir* child = mStorage->folder()->child();
+  if ( child )
+    slotMoveSubFolders( "", true );
+  else slotMoveMessages();
+}
+
 #include "renamejob.moc"
Index: kmail/kmail_part.rc
===================================================================
--- kmail/kmail_part.rc	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmail_part.rc	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,5 +1,8 @@
+<!-- This file should be synchronized with kmmainwin.rc to provide
+     the same menu entries at the same place in KMail and Kontact  -->
+
 <!DOCTYPE kpartgui>
-<kpartgui version="4" name="kmail_part" >
+<kpartgui version="6" name="kmail_part" >
  <MenuBar>
   <Menu noMerge="1" name="file" >
    <text>&amp;File</text>
@@ -126,15 +129,12 @@
      <text>Mark Thread as</text>
      <Action name="thread_watched" />
      <Action name="thread_ignored" />
-     <Separator/>
-     <Action name="thread_break" />
    </Menu>
    <Separator/>
    <Action name="create_filter"/>
    <Menu name="apply_filter_actions" >
      <text>A&amp;pply Filter</text>
      <Action name="apply_filters" /> 
-     <Separator/>
      <ActionList name="menu_filter_actions" />
    </Menu>
   </Menu>
@@ -142,6 +142,7 @@
    <text>&amp;Tools</text>
    <Action name="tools_start_certman"/>
    <Action name="tools_start_kwatchgnupg"/>
+   <Action name="import"/>
    <Separator/>
    <Action name="tools_edit_vacation"/>
    <Separator/>
Index: kmail/kmail-3.2-update-loop-on-goto-unread-settings.sh
===================================================================
--- kmail/kmail-3.2-update-loop-on-goto-unread-settings.sh	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmail-3.2-update-loop-on-goto-unread-settings.sh	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,4 +1,4 @@
-#!/bin/bash
+#! /usr/bin/env bash
 
 while read; do
     KEY="${REPLY%%=*}"
Index: kmail/eventsrc
===================================================================
--- kmail/eventsrc	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/eventsrc	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -6,7 +6,6 @@
 Comment[pa]=ਕੇ-ਪੱਤਰ
 Comment[sv]=Kmail
 Comment[ta]=kஅஞ்சல்
-Comment[xx]=xxKMailxx
 
 [new-mail-arrived]
 Name=New Mail Arrived
@@ -31,6 +30,7 @@
 Name[ja]=新規メール着信
 Name[lt]=Atėjo naujas paštas
 Name[nb]=Ny e-post ankommet
+Name[nds]=Niege Narichten sünd ankamen
 Name[nl]=Nieuwe berichten gearriveerd
 Name[nn]=Ny e-post er komen
 Name[pa]=ਨਵਾਂ ਪੱਤਰ ਆਇਆ
@@ -48,7 +48,7 @@
 Name[tg]=Почтаи нав қабул шуд
 Name[tr]=Yeni E-posta Geldi
 Name[uk]=Отримана нова пошта
-Name[xx]=xxNew Mail Arrivedxx
+Name[uz]=Янги хат келди
 Name[zh_CN]=新邮件到达
 Comment=New mail arrived
 Comment[bg]=Имате ново писмо
@@ -73,6 +73,7 @@
 Comment[ja]=新規メール着信
 Comment[lt]=Atėjo naujas paštas
 Comment[nb]=Ny e-post ankommet
+Comment[nds]=Niege Narichten sünd ankamen
 Comment[nl]=Nieuw bericht ontvangen
 Comment[nn]=Ny e-post er komen
 Comment[pa]=ਨਵਾਂ ਪੱਤਰ ਆਇਆ
@@ -90,7 +91,7 @@
 Comment[tg]=Почтаи нав қабул шуд
 Comment[tr]=Yeni e-posta geldi
 Comment[uk]=Надійшла нова пошта
-Comment[xx]=xxNew mail arrivedxx
+Comment[uz]=Янги хат келди
 Comment[zh_CN]=新邮件到达
 default_sound=
 default_presentation=0
Index: kmail/kmkernel.cpp
===================================================================
--- kmail/kmkernel.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmkernel.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1432,11 +1432,11 @@
   the_msgIndex = 0;
 #endif
 
-#if 0
+//#if 0
   the_weaver =  new KPIM::ThreadWeaver::Weaver( this );
   the_weaverLogger = new KPIM::ThreadWeaver::WeaverThreadLogger(this);
   the_weaverLogger->attach (the_weaver);
-#endif
+//#endif
 
   connect( the_folderMgr, SIGNAL( folderRemoved(KMFolder*) ),
            this, SIGNAL( folderRemoved(KMFolder*) ) );
Index: kmail/kmail.kcfg
===================================================================
--- kmail/kmail.kcfg	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmail.kcfg	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -109,6 +109,9 @@
         <default>0</default>
 	<min>0</min>
       </entry>
+      <entry name="FolderLoadingTimeout" type="Int" hidden="true">
+         <default>1000</default>
+      </entry>
    
 
     </group>
@@ -440,4 +443,12 @@
       </entry>
     </group>
 
+    <group name="MDN">
+      <entry name="SendMDNsWithEmptySender" type="Bool">
+        <default>false</default>
+        <label>Send Message Disposition Notifications with an empty sender.</label>
+        <whatsthis>Send Message Disposition Notifications with an empty sender string. Some servers might be configure to reject such messages, so if you are experiencing problems sending MDNs, uncheck this option.</whatsthis>
+      </entry>
+    </group>
+
 </kcfg>
Index: kmail/renamejob.h
===================================================================
--- kmail/renamejob.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/renamejob.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -73,12 +73,17 @@
   /** All messages are moved so remove the original folder */
   void slotMoveCompleted( KMCommand *command );
 
+  void slotMoveSubFolders( QString newName, bool success );
+
 signals:
   /** Emitted when the job is done, check the success bool */
   void renameDone( QString newName, bool success );
 
 protected:
+  void moveSubFoldersBeforeMessages();
+
   FolderStorage* mStorage;
+  FolderStorage* mStorageTempOpened;
   KMFolderDir* mNewParent;
   QString mNewName;
   QString mNewImapPath;
Index: kmail/kmmsgbase.cpp
===================================================================
--- kmail/kmmsgbase.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmmsgbase.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -2,6 +2,7 @@
 
 #include <config.h>
 
+#include "globalsettings.h"
 #include "kmmsgbase.h"
 
 #include "kmfolderindex.h"
@@ -656,7 +657,8 @@
     return QString::null;
 
   if ( str.find( "=?" ) < 0 )
-    return kmkernel->networkCodec()->toUnicode( str );
+    return KMMsgBase::codecForName( GlobalSettings::self()->
+                                    fallbackCharacterEncoding().latin1() )->toUnicode( str );
 
   QString result;
   QCString LWSP_buffer;
Index: kmail/kmail-3.2-misc.sh
===================================================================
--- kmail/kmail-3.2-misc.sh	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmail-3.2-misc.sh	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,4 +1,4 @@
-#!/bin/bash
+#! /usr/bin/env bash
 
 function delete_this_key() {
     echo "# DELETE [$GROUP]$KEY"
Index: kmail/kmmainwidget.cpp
===================================================================
--- kmail/kmmainwidget.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmmainwidget.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1644,11 +1644,11 @@
 {
   if ( GlobalSettings::self()->networkState() == GlobalSettings::EnumNetworkState::Online ) {
     // if online; then toggle and set it offline.
-    actionCollection()->action( "online_status" )->setText( i18n("Network State (online)") );
+    actionCollection()->action( "online_status" )->setText( i18n("Go Online") );
     kmkernel->stopNetworkJobs();
     BroadcastStatus::instance()->setStatusMsg( i18n("KMail is set to be offline; all network jobs are suspended"));
   } else {
-    actionCollection()->action( "online_status" )->setText( i18n("Network State (offline)") );
+    actionCollection()->action( "online_status" )->setText( i18n("Go Offline") );
     kmkernel->resumeNetworkJobs();
     BroadcastStatus::instance()->setStatusMsg( i18n("KMail is set to be online; all network jobs resumed"));
   }
@@ -1787,10 +1787,10 @@
       mForceJumpToUnread = forceJumpToUnread;
 
       // Set a timer to show a splash screen if fetching folder contents
-      // takes more than a second
+      // takes more than the amount of seconds configured in the kmailrc (default 1000 msec)
       mShowBusySplashTimer = new QTimer( this );
       connect( mShowBusySplashTimer, SIGNAL( timeout() ), this, SLOT( slotShowBusySplash() ) );
-      mShowBusySplashTimer->start( 1000, true );
+      mShowBusySplashTimer->start( GlobalSettings::self()->folderLoadingTimeout(), true );
       return;
     } else {
       // the folder is complete now - so go ahead
@@ -2286,7 +2286,7 @@
   (void) new KAction( i18n("&Send Queued Messages"), "mail_send", 0, this,
 		     SLOT(slotSendQueued()), actionCollection(), "send_queued");
 
-  (void) new KAction( i18n("Onlinestatus (unknown)"), "online_status", 0, this,
+  (void) new KAction( i18n("Online Status (unknown)"), "online_status", 0, this,
                      SLOT(slotOnlineStatus()), actionCollection(), "online_status");
 
   KActionMenu *sendActionMenu = new
@@ -3000,9 +3000,9 @@
     actionCollection()->action( "send_queued" )->setEnabled( kmkernel->outboxFolder()->count() > 0 );
     actionCollection()->action( "send_queued_via" )->setEnabled( kmkernel->outboxFolder()->count() > 0 );
     if ( GlobalSettings::self()->networkState() == GlobalSettings::EnumNetworkState::Online )
-      actionCollection()->action( "online_status" )->setText( i18n("Network State (offline)") );
+      actionCollection()->action( "online_status" )->setText( i18n("Go Offline") );
     else
-      actionCollection()->action( "online_status" )->setText( i18n("Network State (online)") );
+      actionCollection()->action( "online_status" )->setText( i18n("Go Online") );
     if (action( "edit_undo" ))
       action( "edit_undo" )->setEnabled( mHeaders->canUndo() );
 
@@ -3311,6 +3311,7 @@
       if(!addedSeparator) {
         mApplyFilterActionsMenu->popupMenu()->insertSeparator();
         addedSeparator = !addedSeparator;
+	mFilterMenuActions.append( new KActionSeparator());
       }
       filterAction->plug( mApplyFilterActionsMenu->popupMenu() );
       mFilterMenuActions.append(filterAction);
Index: kmail/avscripts/kmail_clamav.sh
===================================================================
--- kmail/avscripts/kmail_clamav.sh	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/avscripts/kmail_clamav.sh	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -33,10 +33,21 @@
 fi 
 export TEMPFILE
 cat > $TEMPFILE
-if clamscan --stdout --no-summary --mbox $TEMPFILE | grep -q FOUND; then
-echo "X-Virus-Flag: yes"
+
+# check for a running daemon
+if [ `ps -eo comm|grep clamd` = "clamd" ]; then
+    chmod a+r $TEMPFILE
+    CLAMCOMANDO="clamdscan --stdout --no-summary "
 else
-echo "X-Virus-Flag: no"
+    CLAMCOMANDO="clamscan --stdout --no-summary --mbox"
 fi
+
+# analyze the message
+if $CLAMCOMANDO $TEMPFILE | grep -q FOUND; then
+    echo "X-Virus-Flag: yes"
+else
+    echo "X-Virus-Flag: no"
+fi
+
 cat $TEMPFILE
 rm $TEMPFILE
Index: kmail/kmfilteraction.cpp
===================================================================
--- kmail/kmfilteraction.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmfilteraction.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1617,6 +1617,9 @@
       FILE *p;
       QByteArray ba;
 
+      // backup the serial number in case the header gets lost
+      QString origSerNum = mMsg->headerField( "X-KMail-Filtered" );
+
       p = popen(QFile::encodeName(mCmd), "r");
       int len =100;
       char buffer[100];
@@ -1630,7 +1633,20 @@
       pclose(p);
       if ( !ba.isEmpty() ) {
         KPIM::ThreadWeaver::debug (1, "PipeJob::run: %s", QString(ba).latin1() );
+        KMFolder *filterFolder =  mMsg->parent();
+        ActionScheduler *handler = MessageProperty::filterHandler( mMsg->getMsgSerNum() );
+
         mMsg->fromByteArray( ba );
+        if ( !origSerNum.isEmpty() )
+          mMsg->setHeaderField( "X-KMail-Filtered", origSerNum );
+        if ( filterFolder && handler ) {
+          bool oldStatus = handler->ignoreChanges( true );
+          filterFolder->take( filterFolder->find( mMsg ) );
+          filterFolder->addMsg( mMsg );
+          handler->ignoreChanges( oldStatus );
+        } else {
+          kdDebug(5006) << "Warning: Cannot refresh the message from the external filter." << endl;
+        }
       }
 
       KPIM::ThreadWeaver::debug (1, "PipeJob::run: done.\n" );
Index: kmail/kmcomposewin.cpp
===================================================================
--- kmail/kmcomposewin.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmcomposewin.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1446,6 +1446,11 @@
 
   editorFocusChanged(false);
   createGUI("kmcomposerui.rc");
+  // In Kontact, this entry would read "Configure Kontact", but bring
+  // up KMail's config dialog. That's sensible, though, so fix the label.
+  KAction* configureAction = actionCollection()->action("options_configure" );
+  if ( configureAction )
+    configureAction->setText( i18n("Configure KMail" ) );
 }
 
 //-----------------------------------------------------------------------------
@@ -1809,9 +1814,10 @@
     if ( partNode * p = n->parentNode() )
       if ( p->hasType( DwMime::kTypeMultipart ) &&
            p->hasSubType( DwMime::kSubtypeAlternative ) )
-        if ( mMsg->headerField( "X-KMail-Markup" ) == "true" )
+        if ( mMsg->headerField( "X-KMail-Markup" ) == "true" ) {
           toggleMarkup( true );
-
+          mEditor->setText(n->encodedBody() );
+        }
   /* Handle the special case of non-mime mails */
   if ( mMsg->numBodyParts() == 0 && otp.textualContent().isEmpty() ) {
     mCharset=mMsg->charset();
@@ -2657,7 +2663,7 @@
     while (urls.count() > mMaxRecentFiles)
       urls.erase( urls.fromLast() );
     while (encodings.count() > mMaxRecentFiles)
-      urls.erase( encodings.fromLast() );
+      encodings.erase( encodings.fromLast() );
     // sanity check
     if (urls.count() != encodings.count()) {
       urls.clear();
@@ -3653,7 +3659,7 @@
 //----------------------------------------------------------------------------
 void KMComposeWin::doSend( KMail::MessageSender::SendMethod method, bool saveInDrafts)
 {
-  if ( kmkernel->isOffline() ) {
+  if ( method != KMail::MessageSender::SendLater && kmkernel->isOffline() ) {
     KMessageBox::information( this,
                               i18n("KMail is currently in offline mode,"
                                    "your messages will be kept in the outbox until you go online."),
Index: kmail/kmail_view.desktop
===================================================================
--- kmail/kmail_view.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmail_view.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -10,7 +10,6 @@
 Name[sv]=Kmail
 Name[ta]=Kஅஞ்சல்
 Name[th]=จัดการจดหมาย - K
-Name[xx]=xxKMailxx
 Type=Application
 Exec=kmail --view %u
 Icon=kmail
Index: kmail/callback.cpp
===================================================================
--- kmail/callback.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/callback.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -79,7 +79,7 @@
     // Try and match the receiver with an identity
     const KPIM::Identity& identity =
       kmkernel->identityManager()->identityForAddress( receiver() );
-    if( identity != KPIM::Identity::null )
+    if( identity != KPIM::Identity::null() )
       // Identity found. Use this
       msg->setFrom( identity.fullEmailAddr() );
       msg->setHeaderField("X-KMail-Identity", QString::number( identity.uoid() ));
@@ -119,7 +119,7 @@
     int found = 0;
     for( QStringList::Iterator it = addrs.begin(); it != addrs.end(); ++it ) {
       if( kmkernel->identityManager()->identityForAddress( *it ) !=
-          KPIM::Identity::null ) {
+          KPIM::Identity::null() ) {
 	// Ok, this could be us
         ++found;
         mReceiver = *it;
Index: kmail/configuredialog.cpp
===================================================================
--- kmail/configuredialog.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/configuredialog.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -2449,7 +2449,7 @@
   // "Headers" tab:
   //
   mHeadersTab = new HeadersTab();
-  addTab( mHeadersTab, i18n("M&essage List") );
+  addTab( mHeadersTab, i18n("H&eaders") );
 
   //
   // "Attachments" tab:
@@ -4429,7 +4429,7 @@
   msg = i18n( "what's this help",
 		  "<qt><p>Full text indexing allows very fast searches on the content "
 		  "of your messages. When enabled, the search dialog will work very fast. "
-		  "Also, the search tool bar will also select messages based on content.</p>"
+		  "Also, the search tool bar will select messages based on content.</p>"
 		  "<p>It takes up a certain amount of disk space "
 		  "(about half the disk space for the messages).</p>"
 		  "<p>After enabling, the index will need to be built, but you can continue to use KMail "
Index: kmail/kmfolderimap.cpp
===================================================================
--- kmail/kmfolderimap.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmfolderimap.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1352,21 +1352,26 @@
 //-----------------------------------------------------------------------------
 void KMFolderImap::flagsToStatus(KMMsgBase *msg, int flags, bool newMsg)
 {
-  if (flags & 4)
+  const KMMsgStatus oldStatus = msg->status();
+  // Set flags if they are new
+  if ( (flags & 4) && (oldStatus & KMMsgStatusFlag) == 0 )
     msg->setStatus( KMMsgStatusFlag );
-  if (flags & 2)
+  if ( (flags & 2) && (oldStatus & KMMsgStatusReplied) == 0 )
     msg->setStatus( KMMsgStatusReplied );
-  if (flags & 1)
+  if ( (flags & 1) && (oldStatus & KMMsgStatusOld) == 0 )
     msg->setStatus( KMMsgStatusOld );
 
   // In case the message does not have the seen flag set, override our local
   // notion that it is read. Otherwise the count of unread messages and the
   // number of messages which actually show up as read can go out of sync.
   if (msg->isOfUnknownStatus() || !(flags&1) ) {
-    if (newMsg)
-      msg->setStatus( KMMsgStatusNew );
-    else
-      msg->setStatus( KMMsgStatusUnread );
+    if (newMsg) {
+      if ( (oldStatus & KMMsgStatusNew) == 0 )
+        msg->setStatus( KMMsgStatusNew );
+    } else {
+      if ( (oldStatus & KMMsgStatusUnread) == 0 )
+        msg->setStatus( KMMsgStatusUnread );
+    }
   }
 }
 
Index: kmail/kmail_config_appearance.desktop
===================================================================
--- kmail/kmail_config_appearance.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmail_config_appearance.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -39,6 +39,7 @@
 Name[lt]=Išvaizda
 Name[mk]=Изглед
 Name[nb]=Utseende
+Name[nds]=Utsehn
 Name[nl]=Uiterlijk
 Name[nn]=Utsjånad
 Name[pl]=Wygląd
@@ -56,7 +57,7 @@
 Name[tg]=Намуди зоҳирӣ
 Name[tr]=Görünüm
 Name[uk]=Вигляд
-Name[xx]=xxAppearancexx
+Name[uz]=Кўриниши
 Name[zh_CN]=外观
 Comment=Customize Visual Appearance
 Comment[bg]=Настройки на външния вид
@@ -81,6 +82,7 @@
 Comment[ja]=視覚的な外観をカスタマイズ
 Comment[lt]=Derinti vizualinę išvaizdą
 Comment[nb]=Tilpass visuelt utseende
+Comment[nds]=Utsehn topassen
 Comment[nl]=Pas het uiterlijk aan
 Comment[nn]=Tilpass utsjånad
 Comment[pl]=Zmiana wyglądu
@@ -97,7 +99,6 @@
 Comment[tg]=Танзимоти намуди зоҳирӣ
 Comment[tr]=Görsel Görünümü Özelleştir
 Comment[uk]=Налаштування зовнішнього вигляду
-Comment[xx]=xxCustomize Visual Appearancexx
 Comment[zh_CN]=自定义视觉外观
 Keywords=kmail,appearance
 Keywords[be]=K Пошта,зьнешні выгляд,kmail,appearance
@@ -123,6 +124,7 @@
 Keywords[ja]=kmail,外観
 Keywords[lt]=kmail,appearance,išvaizda
 Keywords[nb]=kmail,utseende
+Keywords[nds]=KMail,Utsehn
 Keywords[nl]=kmail,uiterlijk
 Keywords[nn]=KMail,utsjånad
 Keywords[pl]=kmail,wygląd
@@ -138,5 +140,4 @@
 Keywords[tg]=kmail,намуди зоҳирӣ
 Keywords[tr]=kmail,görünüm
 Keywords[uk]=kmail,вигляд
-Keywords[xx]=xxkmail,appearancexx
 Keywords[zh_CN]=kmail,appearance,外观
Index: kmail/kmfolder.cpp
===================================================================
--- kmail/kmfolder.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmfolder.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -263,8 +263,13 @@
     }
   }
 
-  mChild = new KMFolderDir( this, parent(), childName,
-    (folderType() == KMFolderTypeImap) ? KMImapDir : KMStandardDir);
+  KMFolderDirType newType = KMStandardDir;
+  if( folderType() == KMFolderTypeCachedImap )
+    newType = KMDImapDir;
+  else if( folderType() == KMFolderTypeImap )
+    newType = KMImapDir;
+
+  mChild = new KMFolderDir( this, parent(), childName, newType );
   if( !mChild )
     return 0;
   mChild->reload();
Index: kmail/actionscheduler.h
===================================================================
--- kmail/actionscheduler.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/actionscheduler.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -77,10 +77,10 @@
    of messages left to process is empty */
   void setFilterList( QValueList<KMFilter*> filters );
 
-  /* Set the id of the account associated with this scheduler */
+  /** Set the id of the account associated with this scheduler */
   void setAccountId( uint id  ) { mAccountId = id; mAccount = true; }
 
-  /* Clear the id of the account associated with this scheduler */
+  /** Clear the id of the account associated with this scheduler */
   void clearAccountId() { mAccountId = 0; mAccount = false; }
 
   /** Queue a message for filtering */
@@ -88,9 +88,16 @@
   void execFilters(const QPtrList<KMMsgBase> msgList);
   void execFilters(KMMsgBase* msgBase);
   void execFilters(Q_UINT32 serNum);
+
   static QString debug();
   static bool isEnabled();
 
+  /** Allow or deny manipulations on the message to be filtered.
+      This is needed when using pipe-through filters, because the
+      changes made by the filter have to be written back.
+      The old value before applying the new value is returned. */
+  bool ignoreChanges( bool ignore );
+
 signals:
   /** Emitted when filtering is completed */
   void result(ReturnCode);
Index: kmail/KMail.desktop
===================================================================
--- kmail/KMail.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/KMail.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -10,7 +10,6 @@
 Name[sv]=Kmail
 Name[ta]=Kஅஞ்சல்
 Name[th]=จัดการจดหมาย - K
-Name[xx]=xxKMailxx
 Type=Application
 Exec=kmail -caption "%c" %i %m
 Icon=kmail
@@ -48,6 +47,7 @@
 GenericName[lv]=Pasta Klients
 GenericName[mt]=Klijent tal-imejl
 GenericName[nb]=E-postklient
+GenericName[nds]=Nettpostprogramm
 GenericName[nl]=E-mailclient
 GenericName[nn]=E-postklient
 GenericName[pa]=ਪੱਤਰ ਕਲਾਂਇਟ
@@ -71,7 +71,6 @@
 GenericName[uz]=Хат-хабар клиенти
 GenericName[ven]=Mushumisani na poso
 GenericName[xh]=Umxhasi Weposi
-GenericName[xx]=xxMail Clientxx
 GenericName[zh_CN]=邮件客户程序
 GenericName[zu]=Imeyili Yomthengi
 Terminal=false
Index: kmail/acljobs.cpp
===================================================================
--- kmail/acljobs.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/acljobs.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -34,7 +34,9 @@
 
 using namespace KMail;
 
-static unsigned int IMAPRightsToPermission( const QString& str ) {
+// Convert str to an ACLPermissions value.
+// url and user are there only for the error message
+static unsigned int IMAPRightsToPermission( const QString& str, const KURL& url, const QString& user ) {
   unsigned int perm = 0;
   bool foundSeenPerm = false;
   uint len = str.length();
@@ -57,7 +59,7 @@
     // Reading without 'seen' is, well, annoying. Unusable, even.
     // So we treat 'rs' as a single one.
     // But if the permissions were set out of kmail, better check that both are set
-    kdWarning(5006) << "IMAPRightsToPermission: found read (r) but not seen (s). Things will not work well." << endl;
+    kdWarning(5006) << "IMAPRightsToPermission: found read (r) but not seen (s). Things will not work well for folder " << url << " and user " << ( user.isEmpty() ? "myself" : user ) << endl;
     if ( perm & ACLJobs::Administer )
       kdWarning(5006) << "You can change this yourself in the ACL dialog" << endl;
     else
@@ -177,7 +179,7 @@
   {
     QString user = lst.front(); lst.pop_front();
     QString imapRights = lst.front(); lst.pop_front();
-    unsigned int perm = IMAPRightsToPermission( imapRights );
+    unsigned int perm = IMAPRightsToPermission( imapRights, url(), user );
     m_entries.append( ACLListEntry( user, imapRights, perm ) );
   }
 }
@@ -193,7 +195,7 @@
 void ACLJobs::GetUserRightsJob::slotInfoMessage( KIO::Job*, const QString& str )
 {
   // Parse the result
-  m_permissions = IMAPRightsToPermission( str );
+  m_permissions = IMAPRightsToPermission( str, url(), QString::null );
 }
 
 ACLJobs::DeleteACLJob::DeleteACLJob( const KURL& url, const QString& userId,
Index: kmail/dcopmail.desktop
===================================================================
--- kmail/dcopmail.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/dcopmail.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,6 +24,7 @@
 Comment[ja]=DCOP インターフェース付のメールプログラム
 Comment[lt]=Pašto programa su DCOP sąsaja
 Comment[nb]=E-postprogram med DCOP grensesnitt
+Comment[nds]=Nettpostprogramm mit DCOP-Koppelsteed
 Comment[nl]=E-mailprogramma met een DCOP-interface
 Comment[nn]=E-postprogram med eit DCOP-grensesnitt
 Comment[pl]=Program pocztowy z interfejsem DCOP
@@ -40,5 +41,4 @@
 Comment[tg]=Барномаи почтавӣ бо интерфейси DCOP
 Comment[tr]=DCOP arayüzü ile posta programı
 Comment[uk]=Програма для роботи з ел. поштою з інтерфейсом DCOP
-Comment[xx]=xxMail program with a DCOP interfacexx
 Comment[zh_CN]=具有 DCOP 接口的邮件程序
Index: kmail/kmfoldertree.cpp
===================================================================
--- kmail/kmfoldertree.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmfoldertree.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1780,6 +1780,18 @@
       item = item->nextSibling();
       continue;
     }
+    if ( action == MoveFolder ) {
+      // FIXME remove in KDE 4
+      // skip all but local folders if a folder is to be moved
+      // because moving of nested folders to IMAP and DIMAP
+      // looses all messages in the subfolders
+      if ( fti->protocol() != KFolderTreeItem::Local
+        && fti->protocol() != KFolderTreeItem::NONE )
+      {
+        item = item->nextSibling();
+        continue;
+      }
+    }
     QString label = fti->text( 0 );
     label.replace( "&","&&" );
     if ( fti->firstChild() )
Index: kmail/kmail_config_security.desktop
===================================================================
--- kmail/kmail_config_security.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmail_config_security.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -36,6 +36,7 @@
 Name[ja]=セキュリティ
 Name[lt]=Saugumas
 Name[nb]=Sikkerhet
+Name[nds]=Sekerheit
 Name[nl]=Beveiliging
 Name[nn]=Tryggleik
 Name[pa]=ਸੁਰੱਖਿਆ
@@ -54,7 +55,6 @@
 Name[tr]=Güvenlik
 Name[uk]=Безпека
 Name[uz]=Хавфсизлик
-Name[xx]=xxSecurityxx
 Name[zh_CN]=安全
 Comment=Security & Privacy Settings
 Comment[be]=Настройкі бясьпекі і прыватнасьці
@@ -77,6 +77,7 @@
 Comment[ja]=セキュリティ & プライバシーの設定
 Comment[lt]=Saugumo ir privatumo nustatymai
 Comment[nb]=Sikkerhet og personvern-instillinger
+Comment[nds]=Sekerheit- un Privaatruum-Instellen
 Comment[nl]=Beveiligings- en privacy-instellingen
 Comment[nn]=Innstillingar for tryggleik og personvern
 Comment[pl]=Ustawienia bezpieczeństwa i prywatności
@@ -93,7 +94,6 @@
 Comment[tg]=Танзимоти амният
 Comment[tr]=Güvenlik ve Gizlilik Ayarlar
 Comment[uk]=Параметри безпеки і конфіденційності
-Comment[xx]=xxSecurity & Privacy Settingsxx
 Comment[zh_CN]=安全和隐私设置
 Keywords=kmail,security
 Keywords[be]=K Пошта,бясьпека,kmail,security
@@ -118,6 +118,7 @@
 Keywords[ja]=kmail,セキュリティ
 Keywords[lt]=kmail,security,saugumas
 Keywords[nb]=kmail,sikkerhet
+Keywords[nds]=KMail,Sekerheit,Privaatruum
 Keywords[nl]=kmail,beveiliging
 Keywords[nn]=KMail,tryggleik
 Keywords[pl]=kmail,bezpieczeństwo,prywatność
@@ -133,5 +134,5 @@
 Keywords[tg]=kmail,security,амният
 Keywords[tr]=kmail,güvenlik
 Keywords[uk]=kmail,безпека
-Keywords[xx]=xxkmail,securityxx
+Keywords[uz]=kmail,хавфсизлик
 Keywords[zh_CN]=kmail,security,安全
Index: kmail/objecttreeparser.cpp
===================================================================
--- kmail/objecttreeparser.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/objecttreeparser.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1303,15 +1303,9 @@
     }
     QCString rfc822messageStr( node->msgPart().bodyDecoded() );
     // display the headers of the encapsulated message
-    DwMessage* rfc822DwMessage = 0; // will be deleted by c'tor of rfc822headers
-    if ( node->dwPart()->Body().Message() )
-      rfc822DwMessage = new DwMessage( *(node->dwPart()->Body().Message()) );
-    else
-    {
-      rfc822DwMessage = new DwMessage();
-      rfc822DwMessage->FromString( rfc822messageStr );
-      rfc822DwMessage->Parse();
-    }
+    DwMessage* rfc822DwMessage = new DwMessage(); // will be deleted by c'tor of rfc822headers
+    rfc822DwMessage->FromString( rfc822messageStr );
+    rfc822DwMessage->Parse();
     KMMessage rfc822message( rfc822DwMessage );
     node->setFromAddress( rfc822message.from() );
     kdDebug(5006) << "\n----->  Store RfC 822 message header \"From: " << rfc822message.from() << "\"\n" << endl;
Index: kmail/kmail_config_accounts.desktop
===================================================================
--- kmail/kmail_config_accounts.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmail_config_accounts.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -36,6 +36,7 @@
 Name[ja]=アカウント
 Name[lt]=Paskyros
 Name[nb]=Kontoer
+Name[nds]=Kontos
 Name[nn]=Kontoar
 Name[pa]=ਖਾਤੇ
 Name[pl]=Konta
@@ -53,7 +54,6 @@
 Name[tr]=Hesaplar
 Name[uk]=Рахунки
 Name[uz]=Ҳисоблар
-Name[xx]=xxAccountsxx
 Name[zh_CN]=账户
 Comment=Setup for Sending and Receiving Messages
 Comment[bg]=Настройки на мрежата, сървърите и сметките
@@ -73,6 +73,7 @@
 Comment[ja]=メッセージを送受信する為の設定
 Comment[lt]=Laiškų siuntimo ir gavimo sąranka
 Comment[nb]=Oppset for mottak og sending av meldinger
+Comment[nds]=Instellen för dat Sennen un Kriegen vun Narichten
 Comment[nl]=Instellingen voor het verzenden en ontvangen van berichten
 Comment[nn]=Oppsett av sending og mottak av meldingar
 Comment[pl]=Ustawienia wysyłania i odbierania wiadomości
@@ -89,7 +90,6 @@
 Comment[tg]=Танзимоти фиристодан ва қабул кардани иттилоот
 Comment[tr]=Gönderilen ve Gelen Mesajlar için Yapılandırma
 Comment[uk]=Налаштування для надсилання і отримання повідомлень
-Comment[xx]=xxSetup for Sending and Receiving Messagesxx
 Comment[zh_CN]=收发邮件设置
 Keywords=kmail,accounts
 Keywords[bg]=пощенски, клиент, е-поща, kmail, accounts
@@ -111,6 +111,7 @@
 Keywords[it]=kmail,account
 Keywords[lt]=kmail,accounts,paskyros
 Keywords[nb]=kmail,kontoer
+Keywords[nds]=KMail,Kontos
 Keywords[nn]=KMail,kontoar
 Keywords[pl]=kmail,konta
 Keywords[pt]=kmail,contas
@@ -123,5 +124,4 @@
 Keywords[ta]=கேஅஞ்சல்,கணக்குகள்
 Keywords[tr]=kmail,hesplar
 Keywords[uk]=kmail,accounts,пошта,рахунки
-Keywords[xx]=xxkmail,accountsxx
 Keywords[zh_CN]=kmail,account,账户
Index: kmail/kmsender.cpp
===================================================================
--- kmail/kmsender.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmsender.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -25,6 +25,7 @@
 #include <sys/types.h>
 #include <sys/stat.h>
 #include <sys/wait.h>
+#include "globalsettings.h"
 #include "kmfiltermgr.h"
 
 #include "kcursorsaver.h"
@@ -40,6 +41,8 @@
 #include "protocols.h"
 #include "kmcommands.h"
 #include <mimelib/mediatyp.h>
+#include <mimelib/enum.h>
+#include <mimelib/param.h>
 
 #define SENDER_GROUP "sending mail"
 
@@ -236,6 +239,28 @@
   mProgressItem->setProgress(percent);
 }
 
+static bool messageIsDispositionNotificationReport( KMMessage *msg )
+{
+    if ( msg->type() == DwMime::kTypeMessage &&
+         msg->subtype() == DwMime::kSubtypeDispositionNotification )
+      return true;
+
+    if ( msg->type() != DwMime::kTypeMultipart ||
+         msg->subtype() != DwMime::kSubtypeReport )
+      return false;
+
+    DwMediaType& ct = msg->dwContentType();
+    DwParameter *param = ct.FirstParameter();
+    while( param ) {
+      if ( !qstricmp( param->Attribute().c_str(), "report-type")
+        && !qstricmp( param->Value().c_str(), "disposition-notification" ) )
+        return true;
+      else
+        param = param->Next();
+    }
+    return false;
+}
+
 //-----------------------------------------------------------------------------
 void KMSender::doSendMsg()
 {
@@ -559,6 +584,11 @@
   QStringList to, cc, bcc;
   QString sender;
   extractSenderToCCAndBcc( mCurrentMsg, &sender, &to, &cc, &bcc );
+  
+  // MDNs are required to have an empty envelope from as per RFC2298.
+  if ( messageIsDispositionNotificationReport( mCurrentMsg ) && GlobalSettings::self()->sendMDNsWithEmptySender() )
+    sender = "<>";
+
   const QCString message = mCurrentMsg->asSendableString();
   if ( sender.isEmpty() || !mSendProc->send( sender, to, cc, bcc, message ) ) {
     if ( mCurrentMsg )
Index: kmail/kmail-3.3-split-sign-encr-keys.sh
===================================================================
--- kmail/kmail-3.3-split-sign-encr-keys.sh	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmail-3.3-split-sign-encr-keys.sh	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,4 +1,4 @@
-#!/bin/bash
+#! /usr/bin/env bash
 
 function delete_this_key() {
     echo "# DELETE [$GROUP]$KEY"
Index: kmail/actionscheduler.cpp
===================================================================
--- kmail/actionscheduler.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/actionscheduler.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -570,7 +570,7 @@
        (!mAccount ||
 	(mAccount && (*mFilterIt).applyOnAccount(mAccountId)))) ||
       ((mSet & KMFilterMgr::Explicit) && (*mFilterIt).applyOnExplicit())) {
-      
+
       // filter is applicable
     if ( FilterLog::instance()->isLogging() ) {
       QString logText( i18n( "<b>Evaluating filter rules:</b> " ) );
@@ -646,8 +646,11 @@
   if (!orgMsg || !orgMsg->parent()) {
     // Original message is gone, no point filtering it anymore
     mSrcFolder->removeMsg( mSrcFolder->find( msg ) );
+    kdDebug(5006) << "The original serial number is missing. "
+                  << "Cannot complete the filtering." << endl;
     mExecutingLock = false;
     processMessageTimer->start( 0, true );
+    return;
   } else {
     if (!folder) // no filter folder specified leave in current place
       folder = orgMsg->parent();
@@ -659,7 +662,7 @@
   mSrcFolder->addMsg( msg );
   mIgnore = false;
 
-  if (msg && kmkernel->folderIsTrash( folder ))
+  if (msg && folder && kmkernel->folderIsTrash( folder ))
     KMFilterAction::sendMDN( msg, KMime::MDN::Deleted );
 
   timeOutTime = QTime::currentTime();
@@ -722,8 +725,6 @@
 
 void ActionScheduler::copyMessageFinished( KMCommand *command )
 {
-  // FIXME remove the debug output
-  kdDebug(5006) << "##### ActionScheduler::copyMessageFinished( KMCommand *command )" << endl;
   if ( command->result() != KMCommand::OK )
     actionMessage( KMFilterAction::ErrorButGoOn );
   else 
@@ -803,4 +804,11 @@
     return sEnabled;
 }
 
+bool ActionScheduler::ignoreChanges( bool ignore )
+{
+  bool oldValue = mIgnore;
+  mIgnore = ignore;
+  return oldValue;
+}
+
 #include "actionscheduler.moc"
Index: kmail/kmversion.h
===================================================================
--- kmail/kmversion.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmversion.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -3,6 +3,6 @@
 #ifndef kmversion_h
 #define kmversion_h
 
-#define KMAIL_VERSION "1.9"
+#define KMAIL_VERSION "1.9.1"
 
 #endif /*kmversion_h*/
Index: kmail/kmail_part.h
===================================================================
--- kmail/kmail_part.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmail/kmail_part.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -78,7 +78,7 @@
     virtual void guiActivateEvent(KParts::GUIActivateEvent *e);
 
   private:
-    KMKernel *kmailKernel;
+    KMKernel *mKMailKernel;
     KMMainWidget *mainWidget;
     ActionManager *mActionManager;
     KMailStatusBarExtension *mStatusBar;
Index: networkstatus/networkstatus.desktop
===================================================================
--- networkstatus/networkstatus.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ networkstatus/networkstatus.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -14,8 +14,10 @@
 Name[hu]=Hálózati állapotjelző szolgáltatás
 Name[is]=Netstöðupúki
 Name[it]=Demone dello stato della rete
+Name[ja]=ネットワークステータスデーモン
 Name[lt]=Tinklo statuso tarnyba
 Name[nb]=Statusnisse for nettverket
+Name[nds]=Nettwarkstatus-Dämoon
 Name[nl]=Netwerkstatusdaemon
 Name[nn]=Statusnisse for nettverket
 Name[pl]=Usługa stanu sieci
@@ -29,7 +31,6 @@
 Name[ta]=வலைப்பின்னல் நிலை டெமான்
 Name[tr]=Ağ Durum İzleyici
 Name[uk]=Даемон стану мережі
-Name[xx]=xxNetwork Status Daemonxx
 Name[zh_CN]=网络状态守护程序
 Comment=Tracks status of network interfaces and provides notification to applications using the network.
 Comment[bg]=Следене на състоянието на мрежата и предаване на информацията на програмите, които имат нужда
@@ -45,8 +46,10 @@
 Comment[hu]=Figyeli a hálózati csatolók állapotát és értesítési lehetőséget biztosít hálózati alkalmazások számára.
 Comment[is]=Fylgist með stöðu netkorta og sendir tilkynningar til forrita sem nota netið.
 Comment[it]=Controlla lo stato delle interfacce di rete e fornisce notifiche alle applicazioni che usano al rete.
+Comment[ja]=ネットワークインターフェイスの状態を追跡し、ネットワークを用いるアプリケーションに通知する。
 Comment[lt]=Seka tinklo sąsajų būseną ir informuoja apie jas programas, naudojančias tinklą
 Comment[nb]=Overvåker status for nettverksgrensesnitt og varsler programmer som bruker nettverket.
+Comment[nds]=Överwacht den Tostand vun Nettwark-Koppelsteden un sendt Narichten na Programmen, de dat Nettwark bruukt.
 Comment[nl]=Houdt de status bij van de netwerkinterfaces en houdt daar de toepassingen van op de hoogte.
 Comment[nn]=Overvakar status for nettverksgrensesnitt og varslar program som brukar nettverket.
 Comment[pl]=Śledzi stan interfejsów sieciowych i powiadamia programy używające sieci.
@@ -59,7 +62,6 @@
 Comment[sv]=Bevakar status för nätverksgränssnitt och tillhandahåller underrättelser till program som använder nätverket.
 Comment[ta]=வலைப்பின்னலைப் பயன்படுத்தி வலைப்பின்னல் இடைமுகங்களின் நிலையை கண்காணிக்கிறது மற்றும் பயன்பாடுகளுக்கு அறிவிப்பை வழங்குகிறது.
 Comment[uk]=Слідкує за станом інтерфейсів мережі і сповіщає програми, які користуються мережею.
-Comment[xx]=xxTracks status of network interfaces and provides notification to applications using the network.xx
 Comment[zh_CN]=跟踪网卡的状态并为应用程序提供使用网络的通知。
 Type=Service
 ServiceTypes=KDEDModule
Index: indexlib/tests/large-scale/generate.py
===================================================================
--- indexlib/tests/large-scale/generate.py	(.../tags/KDE/3.5.0/kdepim)	(revision 0)
+++ indexlib/tests/large-scale/generate.py	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -0,0 +1,51 @@
+#!/usr/bin/env python
+import random
+import re
+
+def init_chain(infile):
+	chain = {}
+	last = ('','')
+	for line in infile:
+		for word in line.split():
+			if not chain.has_key(last):
+				chain[last]=[]
+			chain[last].append(word)
+			last=(last[1],word)
+	chain[last]=None
+	return chain
+
+def output(chain,length,outputfile):
+	last = ('','')
+	start=2000
+	for i in range(length+start):
+		if chain[last] is None:
+			break
+		word = random.choice(chain[last])
+		last=(last[1],word)
+		if i > start:
+			outputfile.write(word)
+			outputfile.write(' ')
+	outputfile.write("\n")
+
+def get_words(chain,nwords,outputfile,scriptfile):
+	scriptfile.write("(for f in output/text_*; echo $f) > tmp/so_far\n")
+	for i in range(nwords):
+		word='1'
+		while re.compile("\d").search(word):
+			word=random.choice(random.choice(chain.keys()))
+		word=re.sub(r'\W','',word)
+		outputfile.write(word+"\n")
+		scriptfile.write("grep -i -E -e '(\W|^)%s' -l output/text_* >tmp/part_%s\n" % (word,word))
+		scriptfile.write("perl -e '($file1, $file2) = @ARGV; open F2, $file2; while (<F2>) {$h2{$_}++}; open F1, $file1; while (<F1>) {if ($h2{$_}) {print $_; $h2{$_} = 0;}}' tmp/part_%s tmp/so_far >tmp/so_far_\n" % word) # From scriptome
+		scriptfile.write("mv tmp/so_far_ tmp/so_far\n")
+		scriptfile.write("rm tmp/part_%s\n" % word)
+	scriptfile.write("mv tmp/so_far tmp/expected\n")
+		
+
+chain=init_chain(file("/dev/stdin"))
+for i in range(10000):
+	output(chain,2000,file("output/text_"+str(i+1),'w'))
+
+
+for i in range(1000):
+	get_words(chain,random.randint(1,5),file("output/words_%s.list"%str(i+1),'w'),file("output/words_%s.script"%str(i+1),'w'))
Index: indexlib/tests/large-scale/do-test.zsh
===================================================================
--- indexlib/tests/large-scale/do-test.zsh	(.../tags/KDE/3.5.0/kdepim)	(revision 0)
+++ indexlib/tests/large-scale/do-test.zsh	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -0,0 +1,55 @@
+#!/usr/bin/env zsh
+
+# SET INPUT FILE BELOW
+inputfile=$1
+inputfile=ulyss12.txt
+
+indexlibadmin=../../indexlibadmin
+index=index
+
+rm -rf index
+mkdir index
+
+if test -z $inputfile; then
+	cat <<-END 1>&2
+	This test needs a large input file as a seed.
+
+	You might consider using http://www.gutenberg.org/ as a starting point to get a file.
+
+	Please edit this script ($0) to set the input file.
+END
+	exit 1
+fi
+
+rm -rf output
+mkdir output/
+
+rm -rf tmp
+mkdir tmp/
+
+python generate.py < $inputfile
+
+$indexlibadmin remove $index
+for t in output/text_*; do 
+	$indexlibadmin add $index $t
+done
+
+
+for w in output/words_*.list; do
+	$indexlibadmin search $index "`cat $w`" >tmp/got 2>/dev/null
+	source output/`basename $w list`script
+	if ! diff -q tmp/got tmp/expected; then
+		cat <<-END
+			Pattern $w was wrong!
+
+			Diff:
+		END
+		diff -u tmp/got tmp/expected
+		echo "End of Diff."
+		exit 1
+	fi
+done
+
+rm -f tmp/got tmp/expected tmp/pat
+rmdir tmp
+

Property changes on: indexlib/tests/large-scale/do-test.zsh
___________________________________________________________________
Name: svn:executable
   + *

Index: indexlib/main.cpp
===================================================================
--- indexlib/main.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ indexlib/main.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -36,6 +36,8 @@
 #include "mempool.h"
 #include "compressed.h"
 #include "create.h"
+#include "tokenizer.h"
+#include <sstream>
 #include <map>
 #include <iostream>
 #include <cstdlib>
@@ -62,23 +64,46 @@
 	return read_stream( in );
 }
 
-void usage( int argc, char* argv[] ) {
-	std::cout << argv[ 0 ] << " cmd [index]\n";
+void usage( int argc, char* argv[], const std::map<std::string, int (*)( int, char** )>& commands ) {
+	std::cout 
+		<< argv[ 0 ] 
+		<< " cmd [index]\n"
+		<< "Possible Commands:\n\n";
+
+	for ( std::map<std::string, int (*)( int, char** )>::const_iterator first = commands.begin(), past = commands.end(); first != past; ++first ) {
+		std::cout << '\t' << first->first << '\n';
+	}
+	std::cout << std::endl;
 }
 
 int debug( int argc, char* argv[] ) {
+	using namespace indexlib;
+	using namespace indexlib::detail;
 	std::string type = argv[ 2 ];
 	std::string argument = argv[ 3 ];
-	if ( type == "sa" ) {
+	if ( type == "print.sa" ) {
 		//nolog();
 		std::cout << "stringarray:\n";
 		stringarray sa( argument );
 		sa.print( std::cout );
-	} else if ( type == "compressed" ) {
+	} else if ( type == "print.compressed" ) {
 		compressed_file file( argument );
 		nolog();
 		std::cout << "compressed_file:\n";
 		file.print( std::cout );
+	} else if ( type == "break_up" ) {
+		std::auto_ptr<tokenizer> tok = get_tokenizer( "latin-1:european" );
+		if ( !tok.get() ) {
+			std::cerr << "Could not get tokenizer\n";
+			return 1;
+		}
+		nolog();
+		std::ostringstream whole_str;
+		whole_str << std::ifstream( argument.c_str() ).rdbuf();
+		std::vector<std::string> words = tok->string_to_words( whole_str.str().c_str() );
+		for ( std::vector<std::string>::const_iterator cur = words.begin(), past = words.end(); cur != past; ++cur ) {
+			std::cout << *cur << '\n';
+		}
 	} else {
 		std::cerr << "Unknown function\n";
 		return 1;
@@ -86,9 +111,9 @@
 	return 0;
 }
 
-int remove( int argc, char* argv[] ) {
+int remove_doc( int argc, char* argv[] ) {
 	if ( argc < 4 ) {
-		usage( argc, argv );
+		std::cerr << "Filename argument for remove_doc is required\n";
 		return 1;
 	}
 	index_smart t = get_index( argv[ 2 ] );
@@ -104,7 +129,9 @@
 
 int add( int argc, char* argv[] ) {
 	if ( argc < 4 ) {
-		usage( argc, argv ) ;
+		std::cerr <<
+			"Input file argument is required\n"
+			"Name is optional (defaults to filename)\n";
 		return 1;
 	}
 	index_smart t = get_index( argv[ 2 ] );
@@ -118,17 +145,14 @@
 
 int search( int argc, char* argv[] ) {
 	if ( argc < 4 ) {
-		usage( argc, argv );
+		std::cerr << "Search string is required\n";
 		return 1;
 	}
 	index_smart t = get_index( argv[ 2 ]  );
 	std::vector<unsigned> files = t->search( argv[ 3 ] )->list();
-	if ( files.empty() ) std::cout << "Empty results\n";
-	else {
-		for ( std::vector<unsigned>::const_iterator first = files.begin(), past = files.end();
-				first != past; ++first ) {
-			std::cout << t->lookup_docname( *first ) << std::endl;
-		}
+	for ( std::vector<unsigned>::const_iterator first = files.begin(), past = files.end();
+			first != past; ++first ) {
+		std::cout << t->lookup_docname( *first ) << std::endl;
 	}
 	return 0;
 }
@@ -143,22 +167,29 @@
 	return 0;
 }
 
+int remove( int argc, char* argv[] ) {
+	indexlib::remove( argv[ 2 ] );
+}
+
+	
 int main( int argc, char* argv[]) try {
 	//nolog();
 
-	if ( argc < 3 ) {
-		usage( argc, argv );
-		return 0;
-	}
-
 	std::map<std::string, int (*)( int, char* [] )> handlers;
 	handlers[ "debug" ] = &debug;
 	handlers[ "remove" ] = &remove;
+	handlers[ "remove_doc" ] = &remove_doc;
 	handlers[ "maintenance" ] = &maintenance;
 	handlers[ "add" ] = &add;
 	handlers[ "search" ] = &search;
 	handlers[ "list" ] = &list;
 
+	if ( argc < 3 ) {
+		usage( argc, argv, handlers );
+		return 0;
+	}
+
+
 	int ( *handle )( int, char*[] ) = handlers[ argv[ 1 ] ];
 
 	if ( handle ) return handle( argc, argv );
Index: knode/knode_config_identity.desktop
===================================================================
--- knode/knode_config_identity.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knode/knode_config_identity.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -35,6 +35,7 @@
 Name[ja]=身元
 Name[lt]=Tapatybė
 Name[nb]=Identitet
+Name[nds]=Persoon
 Name[nl]=Identiteit
 Name[nn]=Identitet
 Name[pl]=Tożsamość
@@ -52,7 +53,6 @@
 Name[tr]=Kimlik
 Name[uk]=Профіль
 Name[uz]=Шахсият
-Name[xx]=xxIdentityxx
 Name[zh_CN]=身份
 Comment=Personal Information
 Comment[be]=Пэрсанальная інфармацыя
@@ -63,6 +63,7 @@
 Comment[cy]=Gwybodaeth Bersonol
 Comment[da]=Personlig information
 Comment[de]=Persönliche Angaben
+Comment[el]=Προσωπικές πληροφορίες
 Comment[es]=Información personal
 Comment[et]=Personaalne info
 Comment[eu]=Informazio pertsonala
@@ -77,6 +78,7 @@
 Comment[ja]=個人の情報
 Comment[lt]=Asmeninė informacija
 Comment[nb]=Personlig informasjon
+Comment[nds]=Persöönlich Informatschonen
 Comment[nl]=Persoonlijke informatie
 Comment[nn]=Personleg informasjon
 Comment[pa]=ਨਿੱਜੀ ਜਾਣਕਾਰੀ
@@ -94,5 +96,4 @@
 Comment[tg]=Маълумоти шахсӣ
 Comment[tr]=Kişisel Bilgi
 Comment[uk]=Особиста інформація
-Comment[xx]=xxPersonal Informationxx
 Comment[zh_CN]=个人信息
Index: knode/knode_config_accounts.desktop
===================================================================
--- knode/knode_config_accounts.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knode/knode_config_accounts.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -36,6 +36,7 @@
 Name[ja]=アカウント
 Name[lt]=Paskyros
 Name[nb]=Kontoer
+Name[nds]=Kontos
 Name[nn]=Kontoar
 Name[pa]=ਖਾਤੇ
 Name[pl]=Konta
@@ -53,7 +54,6 @@
 Name[tr]=Hesaplar
 Name[uk]=Рахунки
 Name[uz]=Ҳисоблар
-Name[xx]=xxAccountsxx
 Name[zh_CN]=账户
 Comment=Setup for Newsgroup and Mail Servers
 Comment[bg]=Настройки на групите и пощенските сървъри
@@ -74,6 +74,7 @@
 Comment[ja]=ニュースグループとメールサーバの設定
 Comment[lt]=Naujienų grupių ir pašto serverių nustatymai
 Comment[nb]=Oppsett av njusgruppe- og e-post tjenere
+Comment[nds]=Narichtenkrink- und Nettpostservers instellen
 Comment[nl]=Instellingen voor nieuws- en mailservers
 Comment[nn]=Oppsett av Usenet- og e-post-tenarar
 Comment[pl]=Ustawienia serwerów poczty i grup dyskusyjnych
@@ -90,5 +91,4 @@
 Comment[tg]=Қайдҳои баҳисобгирӣ дар серверҳои почтавӣ ва серверҳои телеконференсия
 Comment[tr]=E-posta ve Haber Grubu Sunucuları için Yapılandırma
 Comment[uk]=Налаштування для груп новин і серверів пошти
-Comment[xx]=xxSetup for Newsgroup and Mail Serversxx
 Comment[zh_CN]=新闻组和邮件服务器的设置
Index: knode/articlewidget.cpp
===================================================================
--- knode/articlewidget.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knode/articlewidget.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -110,13 +110,13 @@
   connect( mViewer, SIGNAL(popupMenu(const QString&, const QPoint&)),
            SLOT(slotURLPopup(const QString&, const QPoint&)) );
 
+  mTimer = new QTimer( this );
+  connect( mTimer, SIGNAL(timeout()), SLOT(slotTimeout()) );
+
   initActions();
   readConfig();
   clear();
 
-  mTimer = new QTimer( this );
-  connect( mTimer, SIGNAL(timeout()), SLOT(slotTimeout()) );
-
   installEventFilter( this );
 }
 
@@ -352,6 +352,9 @@
 {
   disableActions();
   mViewer->begin();
+  mViewer->setUserStyleSheet( mCSSHelper->cssDefinitions( mFixedFontToggle->isChecked() ) );
+  mViewer->write( mCSSHelper->htmlHead( mFixedFontToggle->isChecked() ) );
+  mViewer->write( "</body></html>" );
   mViewer->end();
 }
 
Index: knode/knode_config_read_news.desktop
===================================================================
--- knode/knode_config_read_news.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knode/knode_config_read_news.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -33,6 +33,7 @@
 Name[ja]=ニュースを読む
 Name[lt]=Naujienų skaitymas
 Name[nb]=Lese Njus
+Name[nds]=Narichten lesen
 Name[nl]=Nieuws lezen
 Name[nn]=Les innlegg
 Name[pl]=Odczytywanie wiadomości
@@ -48,6 +49,6 @@
 Name[tg]=Хондани ахборот
 Name[tr]=Haber Okuma
 Name[uk]=Читання новин
-Name[xx]=xxReading Newsxx
+Name[uz]=Янгиликларни ўқиш
 Name[zh_CN]=阅读新闻
 
Index: knode/resource.h
===================================================================
--- knode/resource.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knode/resource.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,7 +24,7 @@
 
 //========= KNode Version Information ============
 
-#define KNODE_VERSION "0.10"
+#define KNODE_VERSION "0.10.1"
 
 //================= StatusBar ====================
 
Index: knode/knode_config_privacy.desktop
===================================================================
--- knode/knode_config_privacy.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knode/knode_config_privacy.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -32,6 +32,7 @@
 Name[ja]=署名/確認
 Name[lt]=Pasirašoma/tikrinama
 Name[nb]=Signering/Verifisering
+Name[nds]=Ünnerschrieven / Pröven
 Name[nl]=Ondertekening/Verifiëring
 Name[nn]=Signering/stadfesting
 Name[pl]=Podpisywanie/Weryfikacja podpisów
@@ -47,7 +48,6 @@
 Name[tg]=Имзо ва тафтиш
 Name[tr]=İmzalama/Doğruluma
 Name[uk]=Підписування і перевірка
-Name[xx]=xxSigning/Verifyingxx
 Name[zh_CN]=签名/校验
 Comment=Protect your privacy by signing and verifying postings
 Comment[bg]=Защита на личната кореспонденция чрез подписване и проверка на съобщенията
@@ -55,7 +55,7 @@
 Comment[cs]=Chraňte své soukromí pomocí podepisování a ověřování podpisů
 Comment[da]=Beskyt dine private oplysninger ved at underskrive og verificere indsendelser
 Comment[de]=Schutz der Privatsphäre durch Signieren und Verifizieren von Beiträgen.
-Comment[el]=Προστατεεύστε το απόρρητό σας υπογράφοντας και επαληθεύοντας τα μηνύματα
+Comment[el]=Προστατεύστε το απόρρητό σας υπογράφοντας και επαληθεύοντας τα μηνύματα
 Comment[es]=Proteja su privacidad firmando y verificando sus envíos
 Comment[et]=Kaitseb sinu privaatsust postitusi signeerides ja konrollides
 Comment[eu]=Babestu zure pribakortasuna argitarapenak sinatu eta egiaztatuz
@@ -66,6 +66,7 @@
 Comment[ja]=署名および確認の通達によりあなたのプライバシーを保護します
 Comment[lt]=Saugokite savo privatumą pasirašydami ir patikrindami skelbimus
 Comment[nb]=Beskytt privatlivet ditt ved å signere og verifisere oppslag
+Comment[nds]=Dör dat Ünnerschrieven un Överpröven vun Narichten warrt Dien Privaatruum schuult.
 Comment[nl]=Bescherm uw privacy door uw berichten te ondertekenen en te verifiëren
 Comment[nn]=Vern om privatlivet med signerte og stadfesta innlegg
 Comment[pl]=Ochrona prywatności poprzez podpisywanie i weryfikację podpisów wiadomości
@@ -80,5 +81,4 @@
 Comment[tg]=Муҳофизати иттилоот ба воситаи имзо ва тафтиши ахборот
 Comment[tr]=Gönderilen iletilerinizi imzalayarak ve doğrulayarak güvenirliliğinizi sağlayın
 Comment[uk]=Захист конфіденційності за допомогою підписування і перевірки повідомлень
-Comment[xx]=xxProtect your privacy by signing and verifying postingsxx
 Comment[zh_CN]=通过对发表的文件进行签名和校验来保护您的隐私
Index: knode/knode_config_cleanup.desktop
===================================================================
--- knode/knode_config_cleanup.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knode/knode_config_cleanup.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -33,6 +33,7 @@
 Name[ja]=クリーンナップ
 Name[lt]=Išvalymas
 Name[nb]=Rydd opp
+Name[nds]=Oprümen
 Name[nl]=Opschoning
 Name[nn]=Rydd opp
 Name[pl]=Porządkowanie
@@ -49,7 +50,6 @@
 Name[tg]=Тозакунии диск
 Name[tr]=Temizle
 Name[uk]=Очищення диску
-Name[xx]=xxCleanupxx
 Name[zh_CN]=清理
 Comment=Preserving Disk Space
 Comment[bg]=Освобождаване на свободно място на диска
@@ -70,6 +70,7 @@
 Comment[ja]=ディスク・スペースの保存
 Comment[lt]=Disko erdvės išsaugojimas
 Comment[nb]=Bevarer disk plass
+Comment[nds]=Platz op de Fastplaat wohren
 Comment[nl]=Besparing van schrijfruimte
 Comment[nn]=Frigjer diskplass
 Comment[pl]=Kontrolowanie użytej przestrzeni dyskowej
@@ -85,5 +86,4 @@
 Comment[tg]=Нигоҳ доштани ҷое дар диск
 Comment[tr]=Saklama için Disk Alanı
 Comment[uk]=Збереження місця на диску
-Comment[xx]=xxPreserving Disk Spacexx
 Comment[zh_CN]=腾出磁盘空间
Index: knode/knode_config_appearance.desktop
===================================================================
--- knode/knode_config_appearance.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knode/knode_config_appearance.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -39,6 +39,7 @@
 Name[lt]=Išvaizda
 Name[mk]=Изглед
 Name[nb]=Utseende
+Name[nds]=Utsehn
 Name[nl]=Uiterlijk
 Name[nn]=Utsjånad
 Name[pl]=Wygląd
@@ -56,7 +57,7 @@
 Name[tg]=Намуди зоҳирӣ
 Name[tr]=Görünüm
 Name[uk]=Вигляд
-Name[xx]=xxAppearancexx
+Name[uz]=Кўриниши
 Name[zh_CN]=外观
 Comment=Customize Visual Appearance
 Comment[bg]=Настройки на външния вид
@@ -81,6 +82,7 @@
 Comment[ja]=視覚的な外観をカスタマイズ
 Comment[lt]=Derinti vizualinę išvaizdą
 Comment[nb]=Tilpass visuelt utseende
+Comment[nds]=Utsehn topassen
 Comment[nl]=Pas het uiterlijk aan
 Comment[nn]=Tilpass utsjånad
 Comment[pl]=Zmiana wyglądu
@@ -97,5 +99,4 @@
 Comment[tg]=Танзимоти намуди зоҳирӣ
 Comment[tr]=Görsel Görünümü Özelleştir
 Comment[uk]=Налаштування зовнішнього вигляду
-Comment[xx]=xxCustomize Visual Appearancexx
 Comment[zh_CN]=自定义视觉外观
Index: knode/knode_config_post_news.desktop
===================================================================
--- knode/knode_config_post_news.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knode/knode_config_post_news.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -32,6 +32,7 @@
 Name[ja]=ニュースの投稿
 Name[lt]=Naujienų skelbimas
 Name[nb]=Legge inn Njus
+Name[nds]=Narichten sennen
 Name[nl]=Nieuws posten
 Name[nn]=Send innlegg
 Name[pl]=Publikowanie wiadomości
@@ -47,6 +48,5 @@
 Name[tg]=Ҷойгиркунии мақола
 Name[tr]=Gönderilen Haberler
 Name[uk]=Розміщення новин
-Name[xx]=xxPosting Newsxx
 Name[zh_CN]=投递新闻
 
Index: knode/knode_part.cpp
===================================================================
--- knode/knode_part.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knode/knode_part.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -60,7 +60,8 @@
   kdDebug(5003) << "KNodePart()..." << endl;
   kdDebug(5003) << "  InstanceName: " << kapp->instanceName() << endl;
 
-  KGlobal::locale()->insertCatalogue("libkdenetwork");
+  KGlobal::locale()->insertCatalogue("libkdepim");
+  KGlobal::locale()->insertCatalogue("libkpgp");
   kapp->dcopClient()->suspend(); // Don't handle DCOP requests yet
   KGlobal::iconLoader()->addAppDir("knode");
   knGlobals.instance = KNodeFactory::instance();
Index: knode/knfolder.cpp
===================================================================
--- knode/knfolder.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knode/knfolder.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -209,6 +209,7 @@
         kdError(5003) << "KNFolder::loadHeaders() : corrupted index-file, IO-error!" << endl;
         closeFiles();
         clear();
+        knGlobals.top->setCursorBusy( false );
         return false;
       }
 
@@ -222,6 +223,7 @@
       kdError(5003) << "KNFolder::loadHdrs() : cannot set mbox file-pointer!" << endl;
       closeFiles();
       clear();
+      knGlobals.top->setCursorBusy( false );
       return false;
     }
     tmp=m_boxFile.readLine(); //KNFile::readLine()
@@ -235,6 +237,7 @@
         kdError(5003) << "KNFolder::loadHdrs() : corrupted mbox-file, IO-error!"<< endl;
         closeFiles();
         clear();
+        knGlobals.top->setCursorBusy( false );
         return false;
       }
     }
Index: knode/main.cpp
===================================================================
--- knode/main.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knode/main.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -37,7 +37,8 @@
     return 0;
 
   KNApplication app;
-  KGlobal::locale()->insertCatalogue("libkdenetwork");
+  KGlobal::locale()->insertCatalogue("libkdepim");
+  KGlobal::locale()->insertCatalogue("libkpgp");
   return app.exec();
 }
 
Index: knode/KNode.desktop
===================================================================
--- knode/KNode.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knode/KNode.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -13,7 +13,6 @@
 Name[sv]=Knode
 Name[ta]=Kநோடு
 Name[th]=อ่านข่าว - K
-Name[xx]=xxKNodexx
 GenericName=News Reader
 GenericName[ar]=قارئ أخبار
 GenericName[az]=Xəbər Oxuyucu
@@ -24,7 +23,7 @@
 GenericName[cs]=Klient pro čtení diskusních skupin
 GenericName[cy]=Darllenydd Newyddion
 GenericName[da]=Nyhedslæser
-GenericName[de]=News-Programm
+GenericName[de]=Usenet-Newsreader
 GenericName[el]=Αναγνώστης νέων
 GenericName[eo]=Legilo por diskutrondoj
 GenericName[es]=Lector de noticias
@@ -46,6 +45,7 @@
 GenericName[lv]=Ziņu Lasītājs
 GenericName[mt]=Qarrej tal-aħbarijiet (news)
 GenericName[nb]=Njusleser
+GenericName[nds]=Usenet-Narichtenkieker
 GenericName[nl]=Nieuwslezer
 GenericName[nn]=Nyheitslesar
 GenericName[pl]=Program do czytania list dyskusyjnych
@@ -68,7 +68,6 @@
 GenericName[ven]=Muvhali wa mafhungo
 GenericName[vi]=Trình đọc News 
 GenericName[xh]=Umfundi weendaba
-GenericName[xx]=xxNews Readerxx
 GenericName[zh_CN]=新闻阅读器
 GenericName[zu]=Umfundi wezindaba
 X-KDE-StartupNotify=true
Index: kioslaves/mbox/readmbox.cc
===================================================================
--- kioslaves/mbox/readmbox.cc	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kioslaves/mbox/readmbox.cc	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -16,6 +16,8 @@
  * License along with this library; if not, write to the Free Software
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
  */
+#include <config.h>
+
 #include "readmbox.h"
 
 #include "mbox.h"
@@ -29,6 +31,10 @@
 #include <qstring.h>
 #include <qtextstream.h>
 
+#ifdef HAVE_SYS_TYPES_H
+#include <sys/types.h>
+#endif
+
 #include <utime.h>
 
 ReadMBox::ReadMBox( const UrlInfo* info, MBoxProtocol* parent, bool onlynew, bool savetime )
@@ -37,6 +43,7 @@
 	m_stream( 0 ),
 	m_current_line( new QString( QString::null ) ),
 	m_current_id( new QString( QString::null ) ),
+	m_atend( true ),
 	m_prev_time( 0 ),
 	m_only_new( onlynew ),
 	m_savetime( savetime ),
@@ -77,16 +84,15 @@
 	if( !m_stream )
 		return true;
 		
-	if( m_stream->atEnd() )
+	*m_current_line = m_stream->readLine();
+	m_atend = m_current_line->isNull();
+	if( m_atend ) // Cursor was at EOF
 	{
-		*m_current_line = QString::null;
 		*m_current_id = QString::null;
 		m_prev_status = m_status;
 		return true;
 	}
 
-	*m_current_line = m_stream->readLine();
-
 	//New message
 	if( m_current_line->left( 5 ) == "From " )
 	{
@@ -115,7 +121,7 @@
 	if( !m_stream )
 		return false;
 		
-	while( !m_stream->atEnd() && *m_current_id != id )
+	while( !m_atend && *m_current_id != id )
 		nextLine();
 
 	return *m_current_id == id;
@@ -138,6 +144,7 @@
 {
 	if( m_stream )
 		m_stream->device()->reset();
+	m_atend = m_stream->atEnd();
 }
 
 bool ReadMBox::atEnd() const
@@ -145,7 +152,7 @@
 	if( !m_stream )
 		return true;
 	
-	return m_stream->atEnd() || ( m_info->type() == UrlInfo::message && *m_current_id != m_info->id() );
+	return m_atend || ( m_info->type() == UrlInfo::message && *m_current_id != m_info->id() );
 }
 
 bool ReadMBox::inListing() const
Index: kioslaves/mbox/readmbox.h
===================================================================
--- kioslaves/mbox/readmbox.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kioslaves/mbox/readmbox.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -121,6 +121,7 @@
 	QTextStream* m_stream;
 	QString* m_current_line;
 	QString* m_current_id;
+	bool m_atend;
 
 	struct utimbuf* m_prev_time;
 
Index: kioslaves/sieve/sieve.protocol
===================================================================
--- kioslaves/sieve/sieve.protocol	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kioslaves/sieve/sieve.protocol	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -25,6 +25,7 @@
 Description[is]=Ioslave fyrir Sieve tölvupóstsíu samskiptaregluna
 Description[it]=Un ioslave per il protocollo di filtraggio posta Sieve
 Description[nb]=En i/u-slave for e-postfilterprotokollen Sieve
+Description[nds]=In-/Utgaavmoduul för't Nettpostfilter-Protokoll Sieve
 Description[nl]=Een ioslave voor het Sieve-mailfilterprotocol
 Description[nn]=Ein i/u-slave for e-postfilterprotokollen Sieve
 Description[pl]=Wtyczka protokołu filtrowania poczty Sieve
@@ -37,5 +38,4 @@
 Description[sv]=En I/O-slav för brevfiltreringsprotokollet Sieve
 Description[ta]=Sieve அஞ்சல் வடிகட்டும் நெறிமுறைக்கான ஒரு ioslave
 Description[uk]=Підлеглий В/В для протоколу фільтрування пошти Sieve
-Description[xx]=xxAn ioslave for the Sieve mail filtering protocolxx
 Description[zh_CN]=邮件过滤协议仆人

Property changes on: doc/knode/greyball.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-followup.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-edit-filter.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-new-article.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-subscribe.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-read-news-settings.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-header-settings.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-colors-fonts.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-reply.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/redballchk.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-composer-attachments.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-search.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-news-account.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/eyes.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/redball.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-filters.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-mail-account.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-post-settings.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-composer-settings.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-cleanup.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/newsubs.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-identity.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/greyballchk.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-edit-header1.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-edit-header2.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-start.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-views.png
___________________________________________________________________
Name: svn:executable
   - *

Index: kalarm/alarmevent.cpp
===================================================================
--- kalarm/alarmevent.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/alarmevent.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -692,7 +692,7 @@
 	mFgColour               = fg;
 	mFont                   = font;
 	mAlarmCount             = 1;
-	mLateCancel             = lateCancel;
+	mLateCancel             = lateCancel;     // do this before set(flags)
 	mDeferral               = NO_DEFERRAL;    // do this before set(flags)
 	set(flags);
 	mKMailSerialNumber      = 0;
@@ -2864,10 +2864,6 @@
 	  mDeferred(alarm.mDeferred)
 { }
 
-void KAAlarm::set(int flags)
-{
-	mDeferred = flags & KAEvent::DEFERRAL;
-}
 
 int KAAlarm::flags() const
 {
@@ -2963,7 +2959,7 @@
 	mBeep          = (flags & KAEvent::BEEP) && !mSpeak;
 	mRepeatSound   = flags & KAEvent::REPEAT_SOUND;
 	mRepeatAtLogin = flags & KAEvent::REPEAT_AT_LOGIN;
-	mAutoClose     = flags & KAEvent::AUTO_CLOSE;
+	mAutoClose     = (flags & KAEvent::AUTO_CLOSE) && mLateCancel;
 	mEmailBcc      = flags & KAEvent::EMAIL_BCC;
 	mConfirmAck    = flags & KAEvent::CONFIRM_ACK;
 	mDisplaying    = flags & KAEvent::DISPLAYING_;
Index: kalarm/messagewin.cpp
===================================================================
--- kalarm/messagewin.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/messagewin.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,7 +1,7 @@
 /*
  *  messagewin.cpp  -  displays an alarm message
  *  Program:  kalarm
- *  Copyright (c) 2001 - 2005 by David Jarvie <software@astrojar.org.uk>
+ *  Copyright (c) 2001 - 2006 by David Jarvie <software@astrojar.org.uk>
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -182,6 +182,8 @@
 	setAutoSaveSettings(QString::fromLatin1("MessageWin"), false);
 	initView();
 	mWindowList.append(this);
+	if (event.autoClose())
+		mCloseTime = alarm.dateTime().dateTime().addSecs(event.lateCancel() * 60);
 }
 
 /******************************************************************************
@@ -655,6 +657,8 @@
 			config->writeEntry(QString::fromLatin1("Time"), mDateTime.dateTime());
 			config->writeEntry(QString::fromLatin1("DateOnly"), mDateTime.isDateOnly());
 		}
+		if (mCloseTime.isValid())
+			config->writeEntry(QString::fromLatin1("Expiry"), mCloseTime);
 #ifndef WITHOUT_ARTS
 		if (mAudioRepeat  &&  mSilenceButton  &&  mSilenceButton->isEnabled())
 		{
@@ -691,6 +695,7 @@
 	QDateTime dt       = config->readDateTimeEntry(QString::fromLatin1("Time"), &invalidDateTime);
 	bool dateOnly      = config->readBoolEntry(QString::fromLatin1("DateOnly"));
 	mDateTime.set(dt, dateOnly);
+	mCloseTime         = config->readDateTimeEntry(QString::fromLatin1("Expiry"), &invalidDateTime);
 #ifndef WITHOUT_ARTS
 	mAudioFile         = config->readPathEntry(QString::fromLatin1("AudioFile"));
 	mVolume            = static_cast<float>(config->readNumEntry(QString::fromLatin1("Volume"))) / 100;
@@ -1136,6 +1141,16 @@
 */
 void MessageWin::show()
 {
+	if (mCloseTime.isValid())
+	{
+		// Set a timer to auto-close the window
+		int delay = QDateTime::currentDateTime().secsTo(mCloseTime);
+		if (delay < 0)
+			delay = 0;
+		QTimer::singleShot(delay * 1000, this, SLOT(close()));
+		if (!delay)
+			return;    // don't show the window if auto-closing is already due
+	}
 	if (Preferences::messageButtonDelay() == 0)
 		move(0, 0);
 	MainWindowBase::show();
@@ -1198,10 +1213,20 @@
 				 *      See the Qt documentation on window geometry for more details.
 				 */
 				// PROBLEM: The frame size is not known yet!
+
+				/* Find the usable area of the desktop or, if the desktop comprises
+				 * multiple screens, the usable area of the current screen. (If the
+				 * message is displayed on a screen other than that currently being
+				 * worked with, it might not be noticed.)
+				 */
+				QPoint cursor = QCursor::pos();
 				if (!mWinModule)
 					mWinModule = new KWinModule(0, KWinModule::INFO_DESKTOP);
 				QRect desk = mWinModule->workArea();
-				QPoint cursor = QCursor::pos();
+				QDesktopWidget* dw = QApplication::desktop();
+				if (dw->numScreens() > 1)
+					desk &= dw->screenGeometry(dw->screenNumber(cursor));
+
 				QRect frame = frameGeometry();
 				QRect rect  = geometry();
 				// Find the offsets from the outside of the frame to the edges of the OK button
Index: kalarm/editdlg.cpp
===================================================================
--- kalarm/editdlg.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/editdlg.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,7 +1,7 @@
 /*
  *  editdlg.cpp  -  dialogue to create or modify an alarm or alarm template
  *  Program:  kalarm
- *  Copyright (C) 2001 - 2005 by David Jarvie <software@astrojar.org.uk>
+ *  Copyright (c) 2001-2006 by David Jarvie <software@astrojar.org.uk>
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -135,6 +135,7 @@
 // translations across different modules.
 QString EditAlarmDlg::i18n_ConfirmAck()         { return i18n("Confirm acknowledgment"); }
 QString EditAlarmDlg::i18n_k_ConfirmAck()       { return i18n("Confirm ac&knowledgment"); }
+QString EditAlarmDlg::i18n_SpecialActions()     { return i18n("Special Actions..."); }
 QString EditAlarmDlg::i18n_ShowInKOrganizer()   { return i18n("Show in KOrganizer"); }
 QString EditAlarmDlg::i18n_g_ShowInKOrganizer() { return i18n("Show in KOr&ganizer"); }
 QString EditAlarmDlg::i18n_EnterScript()        { return i18n("Enter a script"); }
@@ -397,7 +398,7 @@
 		mTemplateName->setFocus();
 
 	// Save the initial state of all controls so that we can later tell if they have changed
-	saveState(event);
+	saveState((event && (mTemplate || !event->isTemplate())) ? event : 0);
 
 	// Note the current desktop so that the dialog can be shown on it.
 	// If a main window is visible, the dialog will by KDE default always appear on its
@@ -482,7 +483,7 @@
 	if (ShellProcess::authorised())    // don't display if shell commands not allowed (e.g. kiosk mode)
 	{
 		// Special actions button
-		mSpecialActionsButton = new SpecialActionsButton(i18n("Special Actions..."), mDisplayAlarmsFrame);
+		mSpecialActionsButton = new SpecialActionsButton(i18n_SpecialActions(), mDisplayAlarmsFrame);
 		mSpecialActionsButton->setFixedSize(mSpecialActionsButton->sizeHint());
 		layout->addWidget(mSpecialActionsButton);
 	}
Index: kalarm/alarmevent.h
===================================================================
--- kalarm/alarmevent.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/alarmevent.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -216,8 +216,6 @@
 #endif
 
 	private:
-		void               set(int flags);
-
 		SubType            mType;             // alarm type
 		bool               mRecurs;           // there is a recurrence rule for the alarm
 		bool               mDeferred;         // whether the alarm is an extra deferred/deferred-reminder alarm
Index: kalarm/messagewin.h
===================================================================
--- kalarm/messagewin.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/messagewin.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,7 +1,7 @@
 /*
  *  messagewin.h  -  displays an alarm message
  *  Program:  kalarm
- *  Copyright (C) 2001 - 2005 by David Jarvie <software@astrojar.org.uk>
+ *  Copyright (c) 2001 - 2005 by David Jarvie <software@astrojar.org.uk>
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -99,6 +99,7 @@
 		QFont               mFont;
 		QColor              mBgColour, mFgColour;
 		DateTime            mDateTime;        // date/time displayed in the message window
+		QDateTime           mCloseTime;       // time at which window should be auto-closed
 		QString             mEventID;
 		QString             mAudioFile;
 		float               mVolume;
Index: kalarm/kalarm.h
===================================================================
--- kalarm/kalarm.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/kalarm.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -26,7 +26,7 @@
 #include <config.h>
 #endif
 
-#define KALARM_VERSION "1.3.4"
+#define KALARM_VERSION "1.3.6"
 
 #include <kdeversion.h>
 
Index: kalarm/mainwindow.cpp
===================================================================
--- kalarm/mainwindow.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/mainwindow.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,7 +1,7 @@
 /*
  *  mainwindow.cpp  -  main application window
  *  Program:  kalarm
- *  Copyright (C) 2001 - 2005 by David Jarvie <software@astrojar.org.uk>
+ *  Copyright (c) 2001 - 2005 by David Jarvie <software@astrojar.org.uk>
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -174,6 +174,9 @@
 	MainWindow* main = mainMainWindow();
 	if (main)
 		KAlarm::writeConfigWindowSize("MainWindow", main->size());
+	KToolBar* tb = toolBar();
+	if (tb)
+		tb->saveSettings(KGlobal::config(), "Toolbars");
 	KGlobal::config()->sync();    // save any new window size to disc
 	theApp()->quitIf();
 }
@@ -218,6 +221,8 @@
 			return *it;
 	if (tray)
 		return tray;
+	if (!mWindowList.count())
+		return 0;
 	return mWindowList.first();
 }
 
@@ -378,6 +383,10 @@
 	mActionEnable->setEnabled(false);
 	mActionCreateTemplate->setEnabled(false);
 
+	KToolBar* tb = toolBar();
+	if (tb)
+		tb->applySettings(KGlobal::config(), "Toolbars");
+
 	Undo::emitChanged();     // set the Undo/Redo menu texts
 	Daemon::checkStatus();
 	Daemon::monitoringAlarms();
@@ -985,10 +994,21 @@
 {
 	saveMainWindowSettings(KGlobal::config(), "MainWindow");
 	KEditToolbar dlg(factory());
+	connect(&dlg, SIGNAL(newToolbarConfig()), this, SLOT(slotNewToolbarConfig()));
 	dlg.exec();
 }
 
 /******************************************************************************
+*  Called when OK or Apply is clicked in the Configure Toolbars dialog, to save
+*  the new configuration.
+*/
+void MainWindow::slotNewToolbarConfig()
+{
+	createGUI(UI_FILE);
+	applyMainWindowSettings(KGlobal::config(), "MainWindow");
+}
+
+/******************************************************************************
 *  Called when the Quit menu item is selected.
 */
 void MainWindow::slotQuit()
Index: kalarm/editdlg.h
===================================================================
--- kalarm/editdlg.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/editdlg.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,7 +1,7 @@
 /*
  *  editdlg.h  -  dialogue to create or modify an alarm or alarm template
  *  Program:  kalarm
- *  Copyright (C) 2001 - 2005 by David Jarvie <software@astrojar.org.uk>
+ *  Copyright (c) 2001-2006 by David Jarvie <software@astrojar.org.uk>
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -74,6 +74,7 @@
 
 		static QString  i18n_ConfirmAck();         // plain text of 'Confirm acknowledgement' checkbox
 		static QString  i18n_k_ConfirmAck();       // text of 'Confirm acknowledgement' checkbox, with 'k' shortcut
+		static QString  i18n_SpecialActions();     // plain text of 'Special Actions...' button
 		static QString  i18n_ShowInKOrganizer();   // plain text of 'Show in KOrganizer' checkbox
 		static QString  i18n_g_ShowInKOrganizer(); // text of 'Show in KOrganizer' checkbox, with 'G' shortcut
 		static QString  i18n_EnterScript();        // plain text of 'Enter a script' checkbox
Index: kalarm/prefdlg.h
===================================================================
--- kalarm/prefdlg.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/prefdlg.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,7 +1,7 @@
 /*
  *  prefdlg.h  -  program preferences dialog
  *  Program:  kalarm
- *  Copyright (c) 2001 - 2005 by David Jarvie <software@astrojar.org.uk>
+ *  Copyright (c) 2001-2005 by David Jarvie <software@astrojar.org.uk>
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -40,7 +40,7 @@
 class ButtonGroup;
 class TimeEdit;
 class SpinBox;
-class SpecialActions;
+class SpecialActionsButton;
 
 class FontColourPrefTab;
 class EditPrefTab;
@@ -197,7 +197,7 @@
 		QCheckBox*      mAutoClose;
 		QCheckBox*      mConfirmAck;
 		QComboBox*      mReminderUnits;
-		SpecialActions* mSpecialActions;
+		SpecialActionsButton* mSpecialActionsButton;
 		QCheckBox*      mCmdScript;
 		QCheckBox*      mCmdXterm;
 		QCheckBox*      mEmailBcc;
Index: kalarm/kalarmd/kalarmd.desktop
===================================================================
--- kalarm/kalarmd/kalarmd.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/kalarmd/kalarmd.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -19,8 +19,10 @@
 Name[hu]=KAlarm szolgáltatás
 Name[is]=KAlarm þjónn
 Name[it]=Demone degli avvisi
+Name[ja]=KAlarm デーモン
 Name[lt]=KAlarm tarnyba
 Name[nb]=KAlarm-nisse
+Name[nds]=KAlarm-Dämoon
 Name[nn]=KAlarm-nisse
 Name[pl]=Demon alarmowy
 Name[pt]=Servidor do KAlarm
@@ -33,7 +35,6 @@
 Name[ta]=கேஅலாரம் டெமான்
 Name[tr]=KAlarm Servis Programı
 Name[uk]=Даемон KAlarm
-Name[xx]=xxKAlarm Daemonxx
 Name[zh_CN]=KAlarm 进程
 Exec=kalarmd
 Icon=kalarmd
Index: kalarm/kalarmd/alarmdaemon.cpp
===================================================================
--- kalarm/kalarmd/alarmdaemon.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/kalarmd/alarmdaemon.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -113,7 +113,11 @@
 	kdDebug(5900) << "AlarmDaemon::autostartKAlarm(): starting KAlarm\n";
 	QStringList args;
 	args << QString::fromLatin1("--tray");
-	KApplication::kdeinitExec(QString::fromLatin1("kalarm"), args);
+	int ret = KApplication::kdeinitExec(QString::fromLatin1("kalarm"), args);
+	if (ret)
+		kdError(5900) << "AlarmDaemon::autostartKAlarm(): error=" << ret << endl;
+	else
+		kdDebug(5900) << "AlarmDaemon::autostartKAlarm(): success" << endl;
 
 	startMonitoring();
 #endif
Index: kalarm/kalarmd/kalarmd.autostart.desktop
===================================================================
--- kalarm/kalarmd/kalarmd.autostart.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/kalarmd/kalarmd.autostart.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -19,8 +19,10 @@
 Name[hu]=KAlarm szolgáltatás
 Name[is]=KAlarm þjónn
 Name[it]=Demone degli avvisi
+Name[ja]=KAlarm デーモン
 Name[lt]=KAlarm tarnyba
 Name[nb]=KAlarm-nisse
+Name[nds]=KAlarm-Dämoon
 Name[nn]=KAlarm-nisse
 Name[pl]=Demon alarmowy
 Name[pt]=Servidor do KAlarm
@@ -33,7 +35,6 @@
 Name[ta]=கேஅலாரம் டெமான்
 Name[tr]=KAlarm Servis Programı
 Name[uk]=Даемон KAlarm
-Name[xx]=xxKAlarm Daemonxx
 Name[zh_CN]=KAlarm 进程
 Exec=kalarmd --autostart
 Icon=kalarmd
@@ -54,8 +55,10 @@
 Comment[hu]=A KAlarm emlékeztető szolgáltatás automatikus elindítása
 Comment[is]=Ræsa KAlarm áminningaþjónn sjálfkrafa við byrjun setu
 Comment[it]=Avvio automatico del demone degli avvisi
+Comment[ja]=KAlarm アラームデーモンのログイン時の自動起動
 Comment[lt]=KOrganizer/KAlarm priminimų tarnybos automatinis paleidimas prisiregistruojant
 Comment[nb]=start alarmnisse ved innlogging
+Comment[nds]=KAlarm-Dämoon bi't Anmellen automaatsch starten
 Comment[nl]=KAlarm alarmdaemon automatisch starten bij login
 Comment[nn]=Start alarmnisse ved innlogging
 Comment[pl]=Demon alarmu KOrganizera uruchamiany przy zalogowaniu
@@ -69,7 +72,6 @@
 Comment[ta]=உள்நுழையும்போது கேஅலாரம் அலாரம் டெமான் தானாகவே துவங்கும்
 Comment[tr]=KAlarm alarm servis programı (açılışta başlar)
 Comment[uk]=Автозавантаження даемона нагадувань KAlarm
-Comment[xx]=xxKAlarm alarm daemon autostart at loginxx
 Comment[zh_CN]=登录时自动启动 KAlarm 定时守护进程
 Terminal=false
 NoDisplay=true
Index: kalarm/Changelog
===================================================================
--- kalarm/Changelog	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/Changelog	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,5 +1,16 @@
 KAlarm
 
+=== Version 1.3.6 --- 10 January 2006 ===
+Make autoclose of message windows work.
+Fix New From Template not creating alarm if template contents are not changed.
+Ensure that day and month names translations are independent of locale calendar.
+Display alarm message windows within current screen in multi-head systems.
+Reduce size of Preferences dialog to fit in 1024x768 screen.
+
+=== Version 1.3.5 --- 14 December 2005 ===
+Fix email attachments being forgotten when saving alarms.
+Fix toolbar configuration being lost after quitting KAlarm.
+
 === Version 1.3.4 --- 2 October 2005 ===
 Fix incorrect recurrence frequency in Alarm Edit dialogue's Alarm tab.
 
Index: kalarm/mainwindow.h
===================================================================
--- kalarm/mainwindow.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/mainwindow.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -109,6 +109,7 @@
 		void           slotPreferences();
 		void           slotConfigureKeys();
 		void           slotConfigureToolbar();
+		void           slotNewToolbarConfig();
 		void           slotQuit();
 		void           slotDeletion();
 		void           slotSelection();
Index: kalarm/prefdlg.cpp
===================================================================
--- kalarm/prefdlg.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/prefdlg.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,7 +1,7 @@
 /*
  *  prefdlg.cpp  -  program preferences dialog
  *  Program:  kalarm
- *  Copyright (c) 2001 - 2005 by David Jarvie <software@astrojar.org.uk>
+ *  Copyright (c) 2001-2006 by David Jarvie <software@astrojar.org.uk>
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -917,9 +917,8 @@
 	      i18n("The default units for the reminder in the alarm edit dialog."));
 	box->setStretchFactor(new QWidget(box), 1);    // left adjust the control
 
-	mSpecialActions = new SpecialActions(group);
-	mSpecialActions->setFixedHeight(mSpecialActions->sizeHint().height());
-	layout->addWidget(mSpecialActions);
+	mSpecialActionsButton = new SpecialActionsButton(EditAlarmDlg::i18n_SpecialActions(), box);
+	mSpecialActionsButton->setFixedSize(mSpecialActionsButton->sizeHint());
 
 	// SOUND
 	QButtonGroup* bgroup = new QButtonGroup(SoundPicker::i18n_Sound(), mPage, "soundGroup");
@@ -1075,7 +1074,7 @@
 	mAutoClose->setChecked(Preferences::mDefaultAutoClose);
 	mConfirmAck->setChecked(Preferences::mDefaultConfirmAck);
 	mReminderUnits->setCurrentItem(Preferences::mDefaultReminderUnits);
-	mSpecialActions->setActions(Preferences::mDefaultPreAction, Preferences::mDefaultPostAction);
+	mSpecialActionsButton->setActions(Preferences::mDefaultPreAction, Preferences::mDefaultPostAction);
 	mSound->setChecked(Preferences::mDefaultSound);
 	setSoundType(Preferences::mDefaultSoundType);
 	mSoundFile->setText(Preferences::mDefaultSoundFile);
@@ -1096,8 +1095,8 @@
 	Preferences::mDefaultAutoClose        = mAutoClose->isChecked();
 	Preferences::mDefaultConfirmAck       = mConfirmAck->isChecked();
 	Preferences::mDefaultReminderUnits    = static_cast<TimePeriod::Units>(mReminderUnits->currentItem());
-	Preferences::mDefaultPreAction        = mSpecialActions->preAction();
-	Preferences::mDefaultPostAction       = mSpecialActions->postAction();
+	Preferences::mDefaultPreAction        = mSpecialActionsButton->preAction();
+	Preferences::mDefaultPostAction       = mSpecialActionsButton->postAction();
 	Preferences::mDefaultSound            = mSound->isChecked();
 	Preferences::mDefaultSoundFile        = mSoundFile->text();
 	Preferences::mDefaultSoundType        = mSpeak && mSpeak->isOn() ? SoundPicker::SPEAK
@@ -1132,7 +1131,7 @@
 	mAutoClose->setChecked(Preferences::default_defaultAutoClose);
 	mConfirmAck->setChecked(Preferences::default_defaultConfirmAck);
 	mReminderUnits->setCurrentItem(Preferences::default_defaultReminderUnits);
-	mSpecialActions->setActions(Preferences::default_defaultPreAction, Preferences::default_defaultPostAction);
+	mSpecialActionsButton->setActions(Preferences::default_defaultPreAction, Preferences::default_defaultPostAction);
 	mSound->setChecked(Preferences::default_defaultSound);
 	setSoundType(Preferences::default_defaultSoundType);
 	mSoundFile->setText(Preferences::default_defaultSoundFile);
Index: kalarm/kalarm.desktop
===================================================================
--- kalarm/kalarm.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/kalarm.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -15,7 +15,6 @@
 Name[ta]=Kஅலாரம்
 Name[th]=เตือนการนัดหมาย - K
 Name[ven]=Alamu ya K
-Name[xx]=xxKAlarmxx
 Type=Application
 Exec=kalarm -caption "%c" %i
 Icon=kalarm
@@ -28,7 +27,7 @@
 GenericName[cy]=Trefnlennydd Larwm Personol
 GenericName[da]=Personlig skemalægning af alarm
 GenericName[de]=Persönliche Termin-Erinnerung
-GenericName[el]=Προσωπικός προγραμματιστής συναγερμού
+GenericName[el]=Προσωπικός προγραμματιστής ειδοποιήσεων
 GenericName[es]=Planificador de alarmas personales
 GenericName[et]=Meeldetuletuste ajastaja
 GenericName[eu]=Alarma pertsonalen programatzailea
@@ -42,6 +41,7 @@
 GenericName[ja]=個人アラームスケジューラ
 GenericName[lt]=Asmeninių žinučių-priminimų planuoklis
 GenericName[nb]=Personlig varslingsplanlegger
+GenericName[nds]=Persöönlich Anstöötgever
 GenericName[nl]=Persoonlijke alarmplanner
 GenericName[nn]=Planleggar for alarmar/påminningsmeldingar
 GenericName[pl]=Program przypominający o zdarzeniach
@@ -56,7 +56,6 @@
 GenericName[tg]=Идоракунии хотиррасониҳои шахсӣ
 GenericName[tr]=Kişisel Alarm
 GenericName[uk]=Персональний планувальник нагадувань
-GenericName[xx]=xxPersonal Alarm Schedulerxx
 GenericName[zh_CN]=个人日程提醒
 Terminal=false
 X-DCOP-ServiceType=Unique
Index: kalarm/recurrenceedit.cpp
===================================================================
--- kalarm/recurrenceedit.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/recurrenceedit.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -39,7 +39,6 @@
 #include <kiconloader.h>
 #include <kdialog.h>
 #include <kmessagebox.h>
-#include <kcalendarsystem.h>
 #include <kdebug.h>
 
 #include <libkcal/event.h>
@@ -63,6 +62,7 @@
 #include "recurrenceedit.moc"
 #include "recurrenceeditprivate.moc"
 
+static QString weekDayName(int day, const KLocale*);
 
 // Collect these widget labels together to ensure consistent wording and
 // translations across different modules.
@@ -1050,11 +1050,11 @@
 	// Save the first day of the week, just in case it changes while the dialog is open.
 	QWidget* box = new QWidget(this);   // this is to control the QWhatsThis text display area
 	QGridLayout* dgrid = new QGridLayout(box, 4, 2, 0, KDialog::spacingHint());
-	const KCalendarSystem* calendar = KGlobal::locale()->calendar();
+	const KLocale* locale = KGlobal::locale();
 	for (int i = 0;  i < 7;  ++i)
 	{
 		int day = KAlarm::localeDayInWeek_to_weekDay(i);
-		mDayBox[i] = new CheckBox(calendar->weekDayName(day), box);
+		mDayBox[i] = new CheckBox(weekDayName(day, locale), box);
 		mDayBox[i]->setFixedSize(mDayBox[i]->sizeHint());
 		mDayBox[i]->setReadOnly(readOnly);
 		dgrid->addWidget(mDayBox[i], i%4, i/4, Qt::AlignAuto);
@@ -1244,11 +1244,11 @@
 	mPosButton->setFocusWidget(mWeekCombo);
 
 	mDayOfWeekCombo = new ComboBox(false, box);
-	const KCalendarSystem* calendar = KGlobal::locale()->calendar();
+	const KLocale* locale = KGlobal::locale();
 	for (int i = 0;  i < 7;  ++i)
 	{
 		int day = KAlarm::localeDayInWeek_to_weekDay(i);
-		mDayOfWeekCombo->insertItem(calendar->weekDayName(day));
+		mDayOfWeekCombo->insertItem(weekDayName(day, locale));
 	}
 	mDayOfWeekCombo->setReadOnly(readOnly);
 	QWhatsThis::add(mDayOfWeekCombo, i18n("Select the day of the week on which to repeat the alarm"));
@@ -1395,10 +1395,21 @@
 	QWidget* w = new QWidget(this);   // this is to control the QWhatsThis text display area
 	hlayout->addWidget(w, 1, Qt::AlignAuto);
 	QGridLayout* grid = new QGridLayout(w, 4, 3, 0, KDialog::spacingHint());
-	const KCalendarSystem* calendar = KGlobal::locale()->calendar();
+	const KLocale* locale = KGlobal::locale();
+	mMonthBox[0] = new CheckBox(locale->translate("January"), w);
+	mMonthBox[1] = new CheckBox(locale->translate("February"), w);
+	mMonthBox[2] = new CheckBox(locale->translate("March"), w);
+	mMonthBox[3] = new CheckBox(locale->translate("April"), w);
+	mMonthBox[4] = new CheckBox(locale->translate("May"), w);
+	mMonthBox[5] = new CheckBox(locale->translate("June"), w);
+	mMonthBox[6] = new CheckBox(locale->translate("July"), w);
+	mMonthBox[7] = new CheckBox(locale->translate("August"), w);
+	mMonthBox[8] = new CheckBox(locale->translate("September"), w);
+	mMonthBox[9] = new CheckBox(locale->translate("October"), w);
+	mMonthBox[10] = new CheckBox(locale->translate("November"), w);
+	mMonthBox[11] = new CheckBox(locale->translate("December"), w);
 	for (int i = 0;  i < 12;  ++i)
 	{
-		mMonthBox[i] = new CheckBox(calendar->monthName(i + 1, 2000), w);
 		mMonthBox[i]->setFixedSize(mMonthBox[i]->sizeHint());
 		mMonthBox[i]->setReadOnly(readOnly);
 		grid->addWidget(mMonthBox[i], i%4, i/4, Qt::AlignAuto);
@@ -1565,3 +1576,18 @@
 	    ||  mSavedMonths    != months()
 	    ||  mSavedFeb29Type != feb29Type());
 }
+
+QString weekDayName(int day, const KLocale* locale)
+{
+	switch (day)
+	{
+		case 1: return locale->translate("Monday");
+		case 2: return locale->translate("Tuesday");
+		case 3: return locale->translate("Wednesday");
+		case 4: return locale->translate("Thursday");
+		case 5: return locale->translate("Friday");
+		case 6: return locale->translate("Saturday");
+		case 7: return locale->translate("Sunday");
+	}
+	return QString();
+}
Index: kalarm/kalarm.tray.desktop
===================================================================
--- kalarm/kalarm.tray.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kalarm/kalarm.tray.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -15,7 +15,6 @@
 Name[ta]=Kஅலாரம்
 Name[th]=เตือนการนัดหมาย - K
 Name[ven]=Alamu ya K
-Name[xx]=xxKAlarmxx
 Exec=kalarm --tray
 Icon=kalarm
 Type=Application
@@ -28,7 +27,7 @@
 Comment[cy]=Trefnlennydd Larwm Personol: cychwynnwch fel eicon yn y cafn cysawd
 Comment[da]=Skemalægger personli alarm: start som statusikon.
 Comment[de]=Erinnerungsfunktion im Systemabschnitt der Kontrollleiste
-Comment[el]=Προσωπικός προγραμματιστής συναγερμού: εκκίνηση σαν εικονίδιο στο πλαίσιο συστήματος
+Comment[el]=Προσωπικός προγραμματιστής ειδοποιήσεων: εκκίνηση σαν εικονίδιο στο πλαίσιο συστήματος
 Comment[es]=Programador de alarma personal: comenzar como icono de la bandeja del sistema
 Comment[et]=Häirete ja meeldetuletuste ajakava: käivitamine süsteemse doki ikoonina
 Comment[eu]=Alarma pertsonalen programatzailea: abiatu sistemaren bandejako ikono bezala
@@ -42,6 +41,7 @@
 Comment[ja]=個人アラームスケジューラ起動: システムトレイアイコンで起動
 Comment[lt]=Žinučių-priminimų planuoklis: paleisti kaip sisteminio dėklo ženkliuką
 Comment[nb]=Tidsplanlegger for alarm- og påminnelsesbeskjeder: start som ikon i systemkurven
+Comment[nds]=Anstöötgever binnen den Systeemafsnitt starten
 Comment[nl]=Persoonlijke alarmplanner: opstarten in systeemvak
 Comment[nn]=Personleg alarmplanleggjar. Start som ikon i systemtrauet
 Comment[pl]=Program przypominający o zdarzeniach: startuje w tacce systemowej
@@ -57,7 +57,6 @@
 Comment[tg]=Соати рӯимизии зангдори шахсӣ (ба намуди ишорот дар панели вазифа ба кор дароварда мешавад)
 Comment[tr]=Kişisel Alarm Zamanlayıcı
 Comment[uk]=Персональний планувальник нагадувань: стартує як піктограма в лотку
-Comment[xx]=xxPersonal Alarm Scheduler: start as system tray iconxx
 Comment[zh_CN]=个人日程提醒程序：以系统托盘图标启动
 Terminal=false
 X-KDE-autostart-phase=2
Index: korn/imap_proto.cpp
===================================================================
--- korn/imap_proto.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korn/imap_proto.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -36,7 +36,7 @@
 void Imap_Protocol::configFields( QPtrVector< QWidget >* vector, const QObject* configDialog, QPtrList< AccountInput > * result ) const
 {
 	QMap< QString, QString > encrList;
-	encrList.insert( "ssl", i18n( "Secure Socket Layer" ) );
+	encrList.insert( "ssl", i18n( "SSL" ) );
 	encrList.insert( "tls=auto", i18n( "TLS if possible" ) );
 	encrList.insert( "tls=on", i18n( "Always TLS" ) );
 	encrList.insert( "tls=off", i18n( "Never TLS" ) );
Index: korn/KOrn.desktop
===================================================================
--- korn/KOrn.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korn/KOrn.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -28,6 +28,7 @@
 GenericName[lv]=Pasta Brīdinājums
 GenericName[mt]=Twissija tal-imejl
 GenericName[nb]=E-post-varsling
+GenericName[nds]=Nettpost-Benarichten
 GenericName[nl]=E-mailnotificatie
 GenericName[nn]=E-postvarsling
 GenericName[pl]=Program powiadamiający o poczcie
@@ -49,7 +50,6 @@
 GenericName[uz]=Янги хат ҳақида хабар берувчи
 GenericName[ven]=U sedzesa poso
 GenericName[xh]=Umposi Wokulumkisa
-GenericName[xx]=xxMail Alertxx
 GenericName[zh_CN]=邮件警告
 GenericName[zu]=Umposi Ohlomile
 Exec=korn  -caption "%c" %i %m %f
@@ -62,6 +62,5 @@
 Name[eo]=Korno
 Name[hi]=कॉर्न
 Name[ta]=கார்ன்
-Name[xx]=xxKornxx
 X-DCOP-ServiceType=Unique
 Categories=Qt;KDE;Network;X-KDE-More;
Index: korn/pop3_proto.cpp
===================================================================
--- korn/pop3_proto.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korn/pop3_proto.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -36,7 +36,7 @@
 void Pop3_Protocol::configFields( QPtrVector< QWidget >* vector, const QObject* configDialog, QPtrList< AccountInput > * result ) const
 {
 	QMap< QString, QString > encrList;
-	encrList.insert( "ssl", i18n( "Secure Socket Layer" ) );
+	encrList.insert( "ssl", i18n( "SSL" ) );
 	encrList.insert( "tls=auto", i18n( "TLS if possible" ) );
 	encrList.insert( "tls=on", i18n( "Always TLS" ) );
 	encrList.insert( "tls=off", i18n( "Never TLS" ) );
Index: libkpimidentities/identity.h
===================================================================
--- libkpimidentities/identity.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkpimidentities/identity.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -279,7 +279,7 @@
   bool isXFaceEnabled() const { return mXFaceEnabled; }
   void setXFaceEnabled( const bool );
 
-  static const Identity null;
+  static const Identity& null();
   bool isNull() const;
 protected:
   // if you add new members, make sure they have an operator= (or the
Index: libkpimidentities/identitymanager.cpp
===================================================================
--- libkpimidentities/identitymanager.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkpimidentities/identitymanager.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -275,13 +275,13 @@
     << "deprecated method IdentityManager::identityForName() called!" << endl;
   for ( ConstIterator it = begin() ; it != end() ; ++it )
     if ( (*it).identityName() == name ) return (*it);
-  return Identity::null;
+  return Identity::null();
 }
 
 const Identity & IdentityManager::identityForUoid( uint uoid ) const {
   for ( ConstIterator it = begin() ; it != end() ; ++it )
     if ( (*it).uoid() == uoid ) return (*it);
-  return Identity::null;
+  return Identity::null();
 }
 
 const Identity & IdentityManager::identityForNameOrDefault( const QString & name ) const
@@ -317,7 +317,7 @@
       }
     }
   }
-  return Identity::null;
+  return Identity::null();
 }
 
 bool IdentityManager::thatIsMe( const QString & addressList ) const {
Index: libkpimidentities/identity.cpp
===================================================================
--- libkpimidentities/identity.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkpimidentities/identity.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -226,7 +226,13 @@
 }
 
 // ### should use a kstaticdeleter?
-const Identity Identity::null;
+static Identity* identityNull = 0;
+const Identity& Identity::null()
+{
+    if ( !identityNull )
+        identityNull = new Identity;
+    return *identityNull;
+}
 
 bool Identity::isNull() const {
   return mIdentity.isEmpty() && mFullName.isEmpty() && mEmailAddr.isEmpty() &&
Index: kmailcvt/filter_lnotes.cxx
===================================================================
--- kmailcvt/filter_lnotes.cxx	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kmailcvt/filter_lnotes.cxx	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -30,12 +30,12 @@
         Filter( i18n("Import Lotus Notes Emails"),
                 "Robert Rockers",
                 i18n("<p><b>Lotus Notes Structured Text mail import filter</b></p>"
-                     "<p>This filter will import Structure Text files from an exported Lotus Notes email "
+                     "<p>This filter will import Structured Text files from an exported Lotus Notes email "
                      "client into KMail. Use this filter if you want to import mails from Lotus or other "
-                     "mailers that use Lotus Notes' Structured Text format.</p>"
+                     "mailers that use the Lotus Notes Structured Text format.</p>"
                      "<p><b>Note:</b> Since it is possible to recreate the folder structure, the imported "
-                     "messages will be stored in subfolders named by the files they ame from under: "
-                     "\"LNotes-Import\" in your local folder.</p>"))
+                     "messages will be stored in subfolders under: \"LNotes-Import\", in your local folder, "
+                     "named using the names of the files the messages came from.</p>"))
 {}
 
 /** Destructor. */
Index: kaddressbook/interfaces/kaddressbook_extension.desktop
===================================================================
--- kaddressbook/interfaces/kaddressbook_extension.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/interfaces/kaddressbook_extension.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -26,6 +26,7 @@
 Comment[lt]=KAddressBook praplėtimo priedas
 Comment[ms]=Plug masuk Sambungan KAddressBook
 Comment[nb]=KAddressbook-programtillegg for utvidelser
+Comment[nds]=Verwiedernmodüul för KAdressbook
 Comment[nl]=KAddressBook Extensie Plugin
 Comment[nn]=Programtillegg for utviding av KDE-adresseboka
 Comment[pl]=Wtyczka rozszerzenia dla KAddressBook
@@ -42,7 +43,6 @@
 Comment[tg]=Модули вусъатоти китоби адресии KDE
 Comment[tr]=KAdresDefteri Uzantı Eklentisi
 Comment[uk]=Втулок розширення адресної книги KAddressBook
-Comment[xx]=xxKAddressBook Extension Pluginxx
 Comment[zh_CN]=KAddressBook 扩展插件
 
 [PropertyDef::X-KDE-KAddressBook-ExtensionPluginVersion]
Index: kaddressbook/interfaces/kaddressbook_xxport.desktop
===================================================================
--- kaddressbook/interfaces/kaddressbook_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/interfaces/kaddressbook_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -27,6 +27,7 @@
 Comment[lt]=KAddressBook importo/eksporto priedas
 Comment[ms]=Plug masuk Import Eksport KAddressBook
 Comment[nb]=KAddressbook-programtillegg for import/eksport
+Comment[nds]=Import-/Exportmoduul för KAdressbook
 Comment[nn]=Programtillegg for importering/ekportering i KDE-adresseboka
 Comment[pl]=Wtyczka importu/eksportu dla KAddressBook
 Comment[pt]='Plugin' de Importação/Exportação do KAddressbook
@@ -43,7 +44,6 @@
 Comment[tr]=KAdresDefteri Al/Gönder Eklentisi
 Comment[uk]=Втулок імпорту/експорту адресної книги KAddressBook
 Comment[uz]=Манзиллар дафтари учун импорт/экспорт плагини
-Comment[xx]=xxKAddressBook Import/Export Pluginxx
 Comment[zh_CN]=KAddressBook 导入/导出插件
 
 [PropertyDef::X-KDE-KAddressBook-XXPortPluginVersion]
Index: kaddressbook/interfaces/kaddressbook_contacteditorwidget.desktop
===================================================================
--- kaddressbook/interfaces/kaddressbook_contacteditorwidget.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/interfaces/kaddressbook_contacteditorwidget.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -22,6 +22,7 @@
 Comment[ja]=KAddressbook コンタクト エディタ ウィジェット プラグイン
 Comment[lt]=KAddressBook kontaktų redaktoriaus valdiklių priedas
 Comment[nb]=KAddressbook programtillegg for kontakt redigeringselement
+Comment[nds]=Editormoduul för KAdressbook-Kontakten
 Comment[nl]=KAddressBook Contacteditor-plugin
 Comment[nn]=Programtillegg for kontaktredigering i KDE-adresseboka
 Comment[pl]=Wtyczka okna edycji wizytówki dla KAddressBook
@@ -37,7 +38,6 @@
 Comment[tg]=Муҳаррири алоқоти китоби адресии KDE
 Comment[tr]=Adres Defteri Kişi Düzenleyici Parçacık Eklentisi
 Comment[uk]=Втулок редагування контактів адресної книги
-Comment[xx]=xxKAddressBook Contact Editor Widget Pluginxx
 Comment[zh_CN]=KAddressBook 联系人编辑部件插件
 
 [PropertyDef::X-KDE-KAddressBook-CEWPluginVersion]
Index: kaddressbook/imagewidget.h
===================================================================
--- kaddressbook/imagewidget.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/imagewidget.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -25,15 +25,13 @@
 #define IMAGEWIDGET_H
 
 #include <qlabel.h>
+#include <qpushbutton.h>
 
 #include <kabc/picture.h>
 #include <kdialogbase.h>
 
 #include "contacteditorwidget.h"
 
-class KURLRequester;
-class QCheckBox;
-
 #include <librss/global.h>
 
 namespace RSS {
@@ -46,15 +44,43 @@
 /**
   Small helper class
  */
-class ImageLabel : public QLabel
+class ImageLoader : public QObject
 {
   Q_OBJECT
 
   public:
-    ImageLabel( const QString &title, QWidget *parent );
+    ImageLoader();
 
+    KABC::Picture loadPicture( const KURL &url, bool *ok );
+    KABC::Picture loadBlog( const KURL &url, bool *ok );
+
+  private slots:
+    void loadingComplete( Loader*, Document, Status );
+
+  private:
+    bool mIsLoadingBlog;
+    KABC::Picture mPicture;
+};
+
+/**
+  Small helper class
+ */
+class ImageButton : public QPushButton
+{
+  Q_OBJECT
+
+  public:
+    ImageButton( const QString &title, QWidget *parent );
+
     void setReadOnly( bool readOnly );
 
+    void setPicture( const KABC::Picture &picture );
+    KABC::Picture picture() const;
+
+    void setImageLoader( ImageLoader *loader );
+
+    void setBlogFeed( const KURL &url );
+
   signals:
     void changed();
     void urlDropped( const KURL& );
@@ -64,14 +90,26 @@
     virtual void dropEvent( QDropEvent *event );
     virtual void mouseMoveEvent( QMouseEvent *event );
     virtual void mousePressEvent( QMouseEvent *event );
+    virtual void contextMenuEvent( QContextMenuEvent *event );
 
+  private slots:
+    void load();
+    void loadBlog();
+    void clear();
+
   private:
     void startDrag();
+    void updateGUI();
 
     bool mReadOnly;
+    KURL mBlogFeed;
     QPoint mDragStartPos;
+    KABC::Picture mPicture;
+
+    ImageLoader *mImageLoader;
 };
 
+
 class ImageBaseWidget : public QWidget
 {
   Q_OBJECT
@@ -81,13 +119,8 @@
     ~ImageBaseWidget();
 
     /**
-      Show/hide button for getting image from blog feed.
-    */
-    void showBlogButton( bool show );
-
-    /**
       Set URL of blog feed for getting the image.
-    */
+     */
     void setBlogFeed( const QString & );
 
     /**
@@ -105,32 +138,11 @@
   signals:
     void changed();
 
-  public slots:
-    void urlDropped( const KURL& );
-
-  private slots:
-    void loadImage();
-    void updateGUI();
-    void clear();
-    void imageChanged();
-    void getPictureFromBlog();
-    void slotLoadingComplete( Loader *loader, Document doc, Status status );
-
   private:
-    QPixmap loadPixmap( const KURL &url );
+    ImageButton *mImageButton;
+    ImageLoader *mImageLoader;
 
-    ImageLabel *mImageLabel;
-    KURLRequester *mImageUrl;
-
-    QCheckBox *mUseImageUrl;
-    QPushButton *mClearButton;
-
-    QPushButton *mBlogButton;
-    QString mBlogFeed;
-
     bool mReadOnly;
-
-    RSS::Loader *mRssLoader;
 };
 
 class ImageWidget : public KAB::ContactEditorWidget
Index: kaddressbook/dcopaddressbook.desktop
===================================================================
--- kaddressbook/dcopaddressbook.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/dcopaddressbook.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -27,6 +27,7 @@
 Comment[ja]=DCOP インターフェースを持つアドレスブック
 Comment[lt]=Adresų knygelė su DCOP sąsaja
 Comment[nb]=Adressebok med DCOP-grensesnitt
+Comment[nds]=Adressbook mit DCOP-Koppelsteed
 Comment[nl]=Adresboek met DCOP-interface
 Comment[nn]=Adressebok med DCOP-grensesnitt
 Comment[pl]=Książka adresowa z interfejsem DCOP
@@ -45,5 +46,4 @@
 Comment[tr]=DCOP Arayüzü Olan Adres Defteri
 Comment[uk]=Адресна книга з інтерфейсом DCOP
 Comment[uz]=DCOP интерфейсли манзиллар дафтари
-Comment[xx]=xxAddress Book with a DCOP interfacexx
 Comment[zh_CN]=具有 DCOP 接口的地址簿
Index: kaddressbook/kaddressbook.desktop
===================================================================
--- kaddressbook/kaddressbook.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/kaddressbook.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -8,12 +8,12 @@
 Name[fi]=Osoitekirja
 Name[fr]=Carnet d'adresses
 Name[he]=פנקס כתובות
+Name[nds]=KAdressbook
 Name[nn]=KDE-adressebok
 Name[pl]=Książka adresowa
 Name[sv]=Adressbok
 Name[ta]=கேமுகவரிப் புத்தகம்
 Name[tr]=KDE Adres Defteri
-Name[xx]=xxKAddressBookxx
 GenericName=Address Manager
 GenericName[bg]=Адресник
 GenericName[br]=Merour ar chomlec'hioù
@@ -22,6 +22,7 @@
 GenericName[cy]=Rheolydd Cyfeiriadau
 GenericName[da]=Adressehåndtering
 GenericName[de]=Adressverwaltung
+GenericName[el]=Διαχειριστής διευθύνσεων
 GenericName[es]=Gestor de direcciones
 GenericName[et]=Aadressihaldur
 GenericName[eu]=Helbide kudeatzailea
@@ -34,6 +35,7 @@
 GenericName[it]=Gestore degli indirizzi
 GenericName[lt]=Adresų tvarkyklė
 GenericName[nb]=Addressehåndterer
+GenericName[nds]=Adresspleger
 GenericName[nl]=Adresboekbeheerder
 GenericName[nn]=Adressehandterar
 GenericName[pa]=ਸਿਰਨਾਵਾਂ ਪ੍ਰਬੰਧਕ
@@ -48,7 +50,6 @@
 GenericName[ta]=முகவரி மேலாளர்
 GenericName[tr]=Adres Yöneticisi
 GenericName[uk]=Менеджер адрес
-GenericName[xx]=xxAddress Managerxx
 GenericName[zh_CN]=地址管理器
 Exec=kaddressbook %u
 Icon=kaddressbook
Index: kaddressbook/csv-templates/kaddressbook.desktop
===================================================================
--- kaddressbook/csv-templates/kaddressbook.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/csv-templates/kaddressbook.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,6 +23,7 @@
 Name[it]=Rubrica indirizzi (KDE 3.1)
 Name[mk]=Адресар (KDE 3.1)
 Name[nb]=Adressebok (KDE 3.1)
+Name[nds]=KAdressbook (KDE 3.1)
 Name[nn]=KDE-adressebok (KDE 3.1)
 Name[nso]=KBuka ya Diaterese (KDE 3.1)
 Name[pl]=Książka adresowa (KDE 3.1)
@@ -35,7 +36,6 @@
 Name[tg]=Китоби адрес (KDE 3.1)
 Name[tr]=KDE Adres Defteri (KDE 3.1)
 Name[ven]=Bugu ya diresi ya K (KDE 3.1)
-Name[xx]=xxKAddressBook (KDE 3.1)xx
 Name[zh_TW]=KAddressBook (KDE 3.1) 通訊錄
 
 [csv column map]
Index: kaddressbook/csv-templates/outlook2000.desktop
===================================================================
--- kaddressbook/csv-templates/outlook2000.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/csv-templates/outlook2000.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -11,7 +11,6 @@
 Name[hi]=आउटलुक 2000
 Name[nso]=Bokantle 2000
 Name[ta]=அவுட்லுக் 2000
-Name[xx]=xxOutlook 2000xx
 
 [csv column map]
 0=5
Index: kaddressbook/csv-templates/yahoo.desktop
===================================================================
--- kaddressbook/csv-templates/yahoo.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/csv-templates/yahoo.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -30,6 +30,7 @@
 Name[ja]=Yahoo! アドレス帳
 Name[lt]=Yahoo! Adresų knygutė
 Name[nb]=Yahoo! adressebok
+Name[nds]=Yahoo!-Adressbook
 Name[nl]=Yahoo!-adresboek
 Name[nn]=Yahoo! Adressebok
 Name[pa]=Yahoo! ਸਿਰਨਾਵਾਂ ਕਿਤਾਬ
@@ -48,7 +49,6 @@
 Name[tr]=Yahoo! Adres Defteri
 Name[uk]=Адресна книга Yahoo
 Name[uz]=Yahoo! манзиллар дафтари
-Name[xx]=xxYahoo! AddressBookxx
 Name[zh_CN]=Yahoo! 地址簿
 
 [csv column map]
Index: kaddressbook/views/tableview.desktop
===================================================================
--- kaddressbook/views/tableview.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/views/tableview.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -4,6 +4,7 @@
 Name=Table View
 Name[be]=У выглядзе табліцы
 Name[bg]=Преглед в таблица
+Name[br]=Gwel taolenn
 Name[bs]=Pogled tabele
 Name[ca]=Vista de taula
 Name[cs]=Tabulkový pohled
@@ -26,6 +27,7 @@
 Name[lt]=Lentelės vaizdas
 Name[ms]=Pelihat Jadual
 Name[nb]=Tabellvisning
+Name[nds]=Tabellansicht
 Name[nl]=Tabelweergave
 Name[nn]=Tabellvising
 Name[pa]=ਸਾਰਣੀ ਦਰਿਸ਼
@@ -45,7 +47,6 @@
 Name[tr]=Tablo Görünümü
 Name[uk]=Вигляд таблицею
 Name[uz]=Жадвал кўринишида
-Name[xx]=xxTable Viewxx
 Name[zh_CN]=表格视图
 Type=Service
 ServiceTypes=KAddressBook/View
Index: kaddressbook/views/iconview.desktop
===================================================================
--- kaddressbook/views/iconview.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/views/iconview.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -35,6 +35,7 @@
 Name[ms]=Pelihat Ikon
 Name[mt]=Ikoni
 Name[nb]=Ikonvisning
+Name[nds]=Lüttbildansicht
 Name[nl]=Pictogramweergave
 Name[nn]=Ikonvising
 Name[pa]=ਆਈਕਾਨ ਦਰਿਸ਼
@@ -59,7 +60,6 @@
 Name[ven]=Mbonalelo ya aikhono
 Name[vi]=Xem icon 
 Name[xh]=Imboniselo ye Icon
-Name[xx]=xxIcon Viewxx
 Name[zh_CN]=图标视图
 Name[zu]=Umboniso we Icon
 Type=Service
Index: kaddressbook/views/cardview.desktop
===================================================================
--- kaddressbook/views/cardview.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/views/cardview.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -27,6 +27,7 @@
 Name[lt]=Kortelės vaizdas
 Name[ms]=Pelihat Kad
 Name[nb]=Kortvisning
+Name[nds]=Visitenkorten-Kieker
 Name[nl]=Kaartweergave
 Name[nn]=Kortvising
 Name[pa]=ਕਾਰਡ ਦਰਿਸ਼
@@ -45,7 +46,6 @@
 Name[tg]=Варақа
 Name[tr]=Kart Görünümü
 Name[uk]=Вигляд картками
-Name[xx]=xxCard Viewxx
 Name[zh_CN]=卡片视图
 Type=Service
 ServiceTypes=KAddressBook/View
Index: kaddressbook/xxport/kde2_xxport.desktop
===================================================================
--- kaddressbook/xxport/kde2_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/xxport/kde2_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,6 +24,7 @@
 Name[lt]=KAB KDE2 XXPort priedas
 Name[ms]=Plug masuk KAB KDE2 XXPort
 Name[nb]=KAB-programtillegg for KDE2
+Name[nds]=KDE2-Importmoduul för KAdressbook
 Name[nl]=KAB KDE2 XXPort-plugin
 Name[nn]=KAB KDE2 XXPort programtillegg
 Name[pl]=Wtyczka KAB do importu książki adresowej KDE2
@@ -38,7 +39,6 @@
 Name[tg]=Воридоти китоби адресии KDE2
 Name[tr]=KAB KDE2 XXPort Eklentisi
 Name[uk]=Втулок KAB для обміну з KDE2
-Name[xx]=xxKAB KDE2 XXPort Pluginxx
 Name[zh_CN]=KAB KDE2 XXPort 插件
 Comment=Plugin to import the old KDE 2 address book
 Comment[be]=Дапаўненьне для імпарту старой адраснай кнігі KDE 2
@@ -63,6 +63,7 @@
 Comment[lt]=Priedas senosios KDE 2 adresų knygelės importui
 Comment[ms]=Plug masuk untuk import buku alamat lama KDE 2
 Comment[nb]=Tilleggsprogram for å importere adressebok fra KDE2
+Comment[nds]=Moduul för't Importeren vun KDE2-Adressböker
 Comment[nl]=Plugin voor het importeren van het oude KDE 2-adresboek
 Comment[nn]=Programtillegg for å importera den gamle KDE 2 adresseboka
 Comment[pl]=Wtyczka do importu starej książki adresowej z KDE 2
@@ -79,7 +80,6 @@
 Comment[tr]=KDE 2 adres defteri bilgilerini alma eklentisi
 Comment[uk]=Втулок для імпорту адресної книги старого формату часів KDE 2
 Comment[uz]=Эски KDE 2 манзиллар дафтарини импорт қилиш учун плагин
-Comment[xx]=xxPlugin to import the old KDE 2 address bookxx
 Comment[zh_CN]=导入旧的 KDE 2 地址簿的插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/xxport/csv_xxport.desktop
===================================================================
--- kaddressbook/xxport/csv_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/xxport/csv_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -3,6 +3,7 @@
 X-KDE-Library=libkaddrbk_csv_xxport
 Name=KAB CSV XXPort Plugin
 Name[be]=Дапаўненьне KAB "Імпарт/Экспарт CSV"
+Name[br]=Lugent XXPorzh CSV KAB
 Name[bs]=KAB dodatak za CSV XXPort
 Name[ca]=Endollable d'importació/exportació CSV per a KAB
 Name[cs]=Exportní modul CSV
@@ -23,6 +24,7 @@
 Name[lt]=KAB CSV XXPort priedas
 Name[ms]=Plug masuk KAB CSV XXPort
 Name[nb]=KAB-programtillegg for CSV-eksport
+Name[nds]=CSV-Im-/Exportmoduul för KAdressbook
 Name[nn]=KAB CSV XXPort programtillegg
 Name[pl]=Wtyczka KAB do importu/eksportu z/do formatu CSV
 Name[pt]='Plugin' XXPort para CSV do KAB
@@ -36,7 +38,6 @@
 Name[tg]=Содирот/воридот ба файлҳои CSV
 Name[tr]=KAB CSV XXPort Eklentisi
 Name[uk]=Втулок KAB для обміну через CSV
-Name[xx]=xxKAB CSV XXPort Pluginxx
 Name[zh_CN]=KAB CSV XXPort 插件
 Comment=Plugin to import and export contacts in CSV format
 Comment[be]=Дапаўненьне для імпарту і экспарту кантактаў у фармаце CSV
@@ -61,6 +62,7 @@
 Comment[lt]=Priedas, skirtas kontaktų eksportui ir importui CSV formatu
 Comment[ms]=Plug masuk untuk import dan eksport alamat perhubungan di dalam format CSV
 Comment[nb]=Tilleggsprogram for import/eksport av kontakter i CSV-format
+Comment[nds]=Moduul för't Im- un Exporteren vun Kontakten in't CSV-Formaat
 Comment[nl]=Plugin voor het importeren en exporteren van contactpersonen in CSV-formaat
 Comment[nn]=Programtillegg for å importera og eksportera kontaktar i CSV-format
 Comment[pl]=Wtyczka do importowania i eksportowania wizytówek w formacie CSV
@@ -76,7 +78,6 @@
 Comment[tg]=Модул барои воридот ва содироти алоқа ба формати CSV
 Comment[tr]=CSV biçimindeki bağlantıları alma ve gönderme eklentisi
 Comment[uk]=Втулок для імпорту та експорту контактів у форматі CSV
-Comment[xx]=xxPlugin to import and export contacts in CSV formatxx
 Comment[zh_CN]=导入和导出 CSV 格式联系人的插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/xxport/vcard_xxport.desktop
===================================================================
--- kaddressbook/xxport/vcard_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/xxport/vcard_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,6 +23,7 @@
 Name[ja]=KAB vCazrd インポート/エクスポートプラグイン
 Name[lt]=KAB vCard XXPort priedas
 Name[nb]=KAB-programtillegg for vCard
+Name[nds]=vCard-Im-/Exportmoduul för KAdressbook
 Name[nl]=KAB vCard XXPort-plugin
 Name[nn]=KAB vCard XXPort programtillegg
 Name[pl]=Wtyczka KAB do importu/eksportu z/do formatu vCard
@@ -38,7 +39,6 @@
 Name[tg]=Кор бо vCard
 Name[tr]=KAB vCard XXPort Eklentisi
 Name[uk]=Втулок KAB для обміну через vCard
-Name[xx]=xxKAB vCard XXPort Pluginxx
 Name[zh_CN]=KAB vCard XXPort 插件
 Comment=Plugin to import and export contacts in vCard format
 Comment[be]=Дапаўненьне для імпарту і экспарту кантактаў у фармаце vCard
@@ -63,6 +63,7 @@
 Comment[ja]=vCard フォーマットによるコンタクトのインポート及びエクスポートプラグイン
 Comment[lt]=Įskiepis kontaktų importavimui ir eksportavimui vCard formatu
 Comment[nb]=Tilleggsprogram for import og eksport av kontakter i vCard-format
+Comment[nds]=Moduul för't Im-/Exporteren vun Kontakten in't vCard-Formaat
 Comment[nl]=Plugin voor het importeren en exporteren van contactpersonen in vCard-formaat
 Comment[nn]=Programtillegg for å importera og eksportera kontaktar i vCard-format
 Comment[pl]=Wtyczka do importu i eksportu wizytówek w formacie vCard
@@ -78,7 +79,6 @@
 Comment[tg]=Модул барои воридот ва содироти алоқот ба формати vCard
 Comment[tr]=vCard biçimi bağlantıları alma ve gönderme eklentisi
 Comment[uk]=Втулок для імпорту та експорту контактів у форматі vCard
-Comment[xx]=xxPlugin to import and export contacts in vCard formatxx
 Comment[zh_CN]=导入和导出 vCard 格式联系人的插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/xxport/pab_xxport.desktop
===================================================================
--- kaddressbook/xxport/pab_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/xxport/pab_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -21,6 +21,7 @@
 Name[ja]=KAB MS Exchange パーソナルアドレスブックインポート/エクスポートプラグイン
 Name[lt]=KAB MS Exchange asmeninės adresų knygelės XXPort priedas
 Name[nb]=KAB-tilleggsprogram for import fra MS Exchange
+Name[nds]=MSExchange-Importmoduul för KAdressbook
 Name[nl]=KAB MS Exchange Personal Addressbook XXPort-plugin
 Name[nn]=KAB MS Exchange personleg adressebok XXPort programtillegg
 Name[pl]=Wtyczka KAB do importu Osobistej książki adresowej MS Exchange
@@ -36,7 +37,6 @@
 Name[tg]=Воридоти алоқаҳои MS Exchange
 Name[tr]=KAB MS Exchange Kişisel Adres Defteri XXPort Eklentisi
 Name[uk]=Втулок KAB для обміну з персональною адресною книгою MS Exchange
-Name[xx]=xxKAB MS Exchange Personal Addressbook XXPort Pluginxx
 Name[zh_CN]=KAB MS Exchange 个人地址簿 XXPort 插件
 Comment=Plugin to import MS Exchange Personal Address Books
 Comment[be]=Дапаўненьне для імпарту пэрсанальнай адраснай кнігі MS Exchange
@@ -60,6 +60,7 @@
 Comment[ja]=MS Exchange パーソナルアドレスブックのインポートプラグイン
 Comment[lt]=Priedas leidžiantis importuoti MS Exchange asmenines adresų knygeles
 Comment[nb]=Tilleggsprogram for import av personlige adressebøker fra MS Exchange
+Comment[nds]=Moduul för't Importeren vun persöönliche Adressböker ut MS Exchange
 Comment[nl]=Plugin voor het importeren van MS Exchange-adresboeken
 Comment[nn]=Programtillegg for å imortera MS Exchange personleg adressebok
 Comment[pl]=Wtyczka do importu Osobistej książki adresowej z MS Exchange
@@ -75,7 +76,6 @@
 Comment[tg]=Модул барои воридоти китобҳои адреси шахсии MS Exchange
 Comment[tr]=MS Exchange Kişisel Adres Defteri aktarım eklentisi
 Comment[uk]=Втулок для імпорту персональних адресних книг MS Exchange
-Comment[xx]=xxPlugin to import MS Exchange Personal Address Booksxx
 Comment[zh_CN]=导入 MS Exchange 个人地址簿的插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/xxport/opera_xxport.desktop
===================================================================
--- kaddressbook/xxport/opera_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/xxport/opera_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,6 +23,7 @@
 Name[ja]=KAB Opera インポート/エクスポートプラグイン
 Name[lt]=KAB Opera XXPort priedas
 Name[nb]=KAB-programtillegg for Opera
+Name[nds]=Opera-Importmoduul för KAdressbook
 Name[nn]=KAB Opera XXPort programtillegg
 Name[pl]=Wtyczka KAB do importu z Opery
 Name[pt]='Plugin' XXPort para Opera do KAB
@@ -37,7 +38,6 @@
 Name[tg]=Мубодилаи иттилоот бо Opera
 Name[tr]=KAB Opera XXPort Eklentisi
 Name[uk]=Name=Втулок KAB для обміну з Opera
-Name[xx]=xxKAB Opera XXPort Pluginxx
 Name[zh_CN]=KAB Opera XXPort 插件
 Comment=Plugin to import Opera contacts
 Comment[be]=Дапаўненьне для імпарту кантактаў Opera
@@ -62,6 +62,7 @@
 Comment[lt]=Priedas Opera kontaktų importui
 Comment[ms]=Plug masuk untuk import alamat perhubungan Opera
 Comment[nb]=Tilleggsprogram for å importere Opera-kontakter
+Comment[nds]=Modul för't Importeren vun Opera-Kontakten
 Comment[nl]=Plugin voor het importeren an Opera's contactpersonen
 Comment[nn]=Programtillegg for å imortera Opera-kontaktar
 Comment[pl]=Wtyczka do importu wizytówek z Opery
@@ -77,7 +78,6 @@
 Comment[tg]=Модул барои воридоти алоқаи Opera
 Comment[tr]=Opera bağlantılarını alma eklentisi
 Comment[uk]=Втулок для імпорту контактів Opera
-Comment[xx]=xxPlugin to import Opera contactsxx
 Comment[zh_CN]=导入 Opera 联系人的插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/xxport/gnokii_xxport.desktop
===================================================================
--- kaddressbook/xxport/gnokii_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/xxport/gnokii_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,6 +23,7 @@
 Name[lt]=KAB mobilaus telefono XXPort priedas
 Name[ms]=Plug masuk KAB Fon Mudah Alih XXPort
 Name[nb]=KAB-tilleggsprogram for mobiltelefon
+Name[nds]=Mobiltelefoon-Im-/Exportmoduul för KAdressbook
 Name[nl]=KAB Mobiele Telefoon XXPort-plugin
 Name[nn]=KAB Mobiltelefon XXPort programtillegg
 Name[pl]=Wtyczka KAB do importu/eksportu z/do telefonu komórkowego
@@ -38,7 +39,6 @@
 Name[tg]=Синхронизатсия бо телефони мобилӣ
 Name[tr]=KAB Cep Telefonu XXPort Eklentisi
 Name[uk]=Втулок KAB для обміну з мобільними телефонами
-Name[xx]=xxKAB Mobile Phone XXPort Pluginxx
 Name[zh_CN]=KAB 移动电话 XXPort 插件
 Comment=Mobile Phone Plugin to Import and Export Addressbook Entries
 Comment[bg]=Приставка за експорт/импорт на контактите от/към мобилен телефон
@@ -62,6 +62,7 @@
 Comment[lt]=Priedas skirtas importuoti ir eksportuoti adresų knygelės įrašus į mobiliuosius telefonus
 Comment[ms]=Plug masuk Fon Mudah Alih untuk Import dan Eksport Input Buku Alamat
 Comment[nb]=Tilleggsprogram for import/eksport av adressebok fra/til mobiltelefon
+Comment[nds]=Mobiltelefoon-Moduul för't Im- un Exporteren vun KAdressbook-Indrääg
 Comment[nl]=Mobiele-telefoon-plugin voor het importeren en exporteren van adresboekitems
 Comment[nn]=Programtillegg for å importera og eksportera adressebokoppføringar i mobiltelefon
 Comment[pl]=Wtyczka do importowania i eksportowania wizytówek z/do telefonu komórkowego
@@ -77,7 +78,6 @@
 Comment[tg]=Модул барои воридот ва содироти алоқаи телефони мобилӣ
 Comment[tr]=Adres Defteri Girdilerini Cep Telefonuna Alma ve Gönderme Eklentisi
 Comment[uk]=Втулок для імпорту та експорту записів у адресній книзі мобільних телефонів
-Comment[xx]=xxMobile Phone Plugin to Import and Export Addressbook Entriesxx
 Comment[zh_CN]=导入和导出地址簿项的移动电话插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/xxport/bookmark_xxport.desktop
===================================================================
--- kaddressbook/xxport/bookmark_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/xxport/bookmark_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -3,6 +3,7 @@
 X-KDE-Library=libkaddrbk_bookmark_xxport
 Name=KAB Bookmark XXPort Plugin
 Name[be]=Дапаўненьне KAB "Экспарт у закладкі"
+Name[br]=Lugent XXPorzh sined KAB
 Name[bs]=KAB dodatak za XXPort zabilješki
 Name[ca]=Endollable d'importació/exportació de punts per a KAB
 Name[cs]=Exportní modul záložek
@@ -22,6 +23,7 @@
 Name[lt]=KAB žymelių XXPort priedas
 Name[ms]=Plug masuk KAB Tanda Laman XXPort
 Name[nb]=KAB-programtillegg for bokmerkeeksport
+Name[nds]=Leesteken-Exportmoduul för KAdressbook
 Name[nl]=KAB Bladwijzer XXPort-plugin
 Name[nn]=KAB-bokmerke XXPort-programtillegg
 Name[pl]=Wtyczka KAB do eksportu zakładek
@@ -37,7 +39,6 @@
 Name[tg]=Содироти поягузор
 Name[tr]=KAB Yer imleri XXPort Eklentisi
 Name[uk]=Втулок обміну закладками KAB
-Name[xx]=xxKAB Bookmark XXPort Pluginxx
 Name[zh_CN]=KAB 书签 XXPort 插件
 Comment=Plugin to export the web addresses of the contacts as bookmarks
 Comment[bg]=Приставка за експорт на уеб адресите на контактите, като отметки
@@ -61,6 +62,7 @@
 Comment[lt]=Priedas skirtas žiniatinklio adresų kontaktuose eksportavimui į žymeles
 Comment[ms]= Plug masuk untuk eksport alamat web untuk perhubungan sebagai tanda laman
 Comment[nb]=Tilleggsprogram som eksporterer kontaktenes nett-addresser som bokmerker
+Comment[nds]=Moduul för't Exporteren vun Kontakt-Nettadressen as Leestekens
 Comment[nl]=Plugin voor het exporteren van de webadressen van de contactpersonen als bladwijzers
 Comment[nn]=Programtillegg for å eksportera nettadresser av kontaktar som bokmerker
 Comment[pl]=Wtyczka eksportująca adresy WWW z wizytówek jako zakładki
@@ -76,7 +78,6 @@
 Comment[tg]=Модул барои содироти веб-адресҳои алоқа ҳамчун поягузор
 Comment[tr]=Bağlantıların web adreslerini yeri imleri olarak aktarmak için eklenti
 Comment[uk]=Втулок для експорту адрес контактів у Тенетах як закладок
-Comment[xx]=xxPlugin to export the web addresses of the contacts as bookmarksxx
 Comment[zh_CN]=将联系人的网址导出为书签的插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/xxport/vcard_xxport.cpp
===================================================================
--- kaddressbook/xxport/vcard_xxport.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/xxport/vcard_xxport.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -132,9 +132,20 @@
           return true;
 
         KABC::AddresseeList::ConstIterator it;
+        uint counter = 0;
         for ( it = list.begin(); it != list.end(); ++it ) {
-          url = baseUrl.url() + "/" + (*it).givenName() + "_" + (*it).familyName() + ".vcf";
+          QString testUrl;
+          if ( (*it).givenName().isEmpty() && (*it).familyName().isEmpty() )
+            testUrl = baseUrl.url() + "/" + (*it).organization();
+          else
+            testUrl = baseUrl.url() + "/" + (*it).givenName() + "_" + (*it).familyName();
 
+          if ( KIO::NetAccess::exists( testUrl + (counter == 0 ? "" : QString::number( counter )) + ".vcf", false, parentWidget() ) ) {
+            counter++;
+            url = testUrl + QString::number( counter ) + ".vcf";
+          } else
+            url = testUrl + ".vcf";
+
           bool tmpOk;
           KABC::AddresseeList tmpList;
           tmpList.append( *it );
Index: kaddressbook/xxport/ldif_xxport.desktop
===================================================================
--- kaddressbook/xxport/ldif_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/xxport/ldif_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,6 +24,7 @@
 Name[lt]=KAB LDIF XXPort priedas
 Name[ms]=Plug masuk KAB LDIF XXPort
 Name[nb]=KAB-programtillegg for LDIF-format
+Name[nds]=LDIF-Im-/Exportmoduul för KAdressbook
 Name[nl]=KAB LDIF XXPort-plugin
 Name[nn]=KAB LDIF XXPort programtillegg
 Name[pl]=Wtyczka KAB do importu/eksportu z/do formatu LDIF
@@ -39,7 +40,6 @@
 Name[tg]=Мубодилаи иттилоот аз KDE2
 Name[tr]=KAB LDIF XXPort Eklentisi
 Name[uk]=Втулок KAB для обміну через LDIF
-Name[xx]=xxKAB LDIF XXPort Pluginxx
 Name[zh_CN]=KAB LDIF XXPort 插件
 Comment=Plugin to import and export contacts in Netscape and Mozilla LDIF format
 Comment[be]=Дапаўненьне для імпарту кантактаў у фармаце Netscape/Mozilla LDIF
@@ -64,6 +64,7 @@
 Comment[lt]=Priedas, skirtas kontaktų importavimui ir eksportavimui Netscape ir Mozilla LDIFF formatu
 Comment[ms]=Plug masuk untuk import dan eksport alamat perhubungan di dalam format LDIF Netscape dan Mozilla
 Comment[nb]=Tilleggsprogram for import/eksport av kontakter i Netscape og Mozillas LDIF-format
+Comment[nds]=Moduul för't Im- un Exporteren vun Kontakten in't LDIF-Formaat vun Netscape und Mozilla
 Comment[nl]=Plugin voor het importeren en exporteren van contactpersonen in Netscape's en Mozilla's LDIF-formaat
 Comment[nn]=Programtillegg for å importera og eksportera kontaktar i Netscape og Mozilla LDIF-format
 Comment[pl]=Wtyczka do importowania i eksportowania wizytówek z/do formatu LDIF używanego przez Mozillę i Netscape'a
@@ -79,7 +80,6 @@
 Comment[tg]=Модул барои воридот ва содироти алоқа аз формати LDIF Netscape ва Mozilla
 Comment[tr]=Netscape ve Mozilla'nın LDIF biçimindeki bağlantılarını alma ve gönderme eklentisi
 Comment[uk]=Втулок для імпорту та експорту контактів у LDIF сумісний з Netscape та Mozilla
-Comment[xx]=xxPlugin to import and export contacts in Netscape and Mozilla LDIF formatxx
 Comment[zh_CN]=导入和导出 Netscape 和 Mozilla LDIF 格式联系人的插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/xxport/eudora_xxport.desktop
===================================================================
--- kaddressbook/xxport/eudora_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/xxport/eudora_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -3,6 +3,7 @@
 X-KDE-Library=libkaddrbk_eudora_xxport
 Name=KAB Eudora XXPort Plugin
 Name[be]=Дапаўненьне KAB "Імпарт/Экспарт Eudora"
+Name[br]=Lugent XXPorzh Eudora KAB
 Name[bs]=KAB dodatak za Eudora XXPort
 Name[ca]=Endollable d'importació/exportació Eudora per a KAB
 Name[cs]=Exportní modul do Eudory
@@ -23,6 +24,7 @@
 Name[lt]=KAB Eudora XXPort priedas
 Name[ms]=Plug masuk KAB Eudora XXPort
 Name[nb]=KAB-programtillegg for Eudora-eksport
+Name[nds]=Eudora-Im-/Exportmoduul för KAdressbook
 Name[nn]=KAB Eudora XXPort programtillegg
 Name[pl]=Wtyczka KAB do importu/eksportu wizytówek Eudory
 Name[pt]='Plugin' XXPort para Eudora do KAB
@@ -37,7 +39,6 @@
 Name[tg]=Мубодилаи иттилоот бо Eudora
 Name[tr]=KAB Eudora XXPort Eklentisi
 Name[uk]=Втулок KAB для обміну з Eudora
-Name[xx]=xxKAB Eudora XXPort Pluginxx
 Name[zh_CN]=KAB Eudora XXPort 插件
 Comment=Plugin to import and export Eudora contacts
 Comment[be]=Дапаўненьне для імпарту і экспарту кантактаў Eudora
@@ -62,6 +63,7 @@
 Comment[lt]=Priedas Eudora kontaktų importui ir eksportui
 Comment[ms]=Plug masuk untuk import dan eksport alamat perhubungan Eudora
 Comment[nb]=Tilleggsprogram for import/eksport av Eudora-kontakter
+Comment[nds]=Moduul för't Im- un Exporteren vun Eudora-Kontakten
 Comment[nl]=Plugin voor het importeren en exporteren van Eudora-contactpersonen
 Comment[nn]=Programtillegg for å importera og eksportera Eudora-kontaktar
 Comment[pl]=Wtyczka do importowania i eksportowania wizytówek z/do Eudory
@@ -78,7 +80,6 @@
 Comment[tg]=Модул барои воридот ва содироти алоқаи Eudora
 Comment[tr]=Eudora bağlantılarını alma ve gönderme eklentisi
 Comment[uk]=Втулок для імпорту та експорту контактів з або до Eudora
-Comment[xx]=xxPlugin to import and export Eudora contactsxx
 Comment[zh_CN]=导入和导出 Eudora 联系人的插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/editors/protocols/jabberprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/jabberprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/editors/protocols/jabberprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -28,6 +28,7 @@
 Comment[ja]=Jabber プロトコル
 Comment[lt]=Jabber protokolas
 Comment[nb]=Jabber-protokoll
+Comment[nds]=Jabber-Protokoll
 Comment[nl]=Jabber-protocol
 Comment[nn]=Jabber-protokoll
 Comment[pl]=Protokół Jabber
@@ -44,9 +45,7 @@
 Comment[tg]=протоколи Jabber
 Comment[tr]=Jabber Protokolü
 Comment[uk]=Протокол Jabber
-Comment[xx]=xxJabber Protocolxx
 Comment[zh_CN]=Jabber 协议
 Name=Jabber
 Name[ta]=ஜாபர்
-Name[xx]=xxJabberxx
 
Index: kaddressbook/editors/protocols/aimprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/aimprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/editors/protocols/aimprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -28,6 +28,7 @@
 Comment[ja]=AIM プロトコル
 Comment[lt]=AIM protokolas
 Comment[nb]=AIM-protokoll
+Comment[nds]=AIM-Protokoll
 Comment[nl]=AIM-protocol
 Comment[nn]=AIM-protokoll
 Comment[pa]=AIM ਪ੍ਰੋਟੋਕਾਲ
@@ -45,8 +46,6 @@
 Comment[tg]=Протоколи AIM
 Comment[tr]=AIM Protokolü
 Comment[uk]=Протокол AIM
-Comment[xx]=xxAIM Protocolxx
 Comment[zh_CN]=AIM 协议
 Name=AIM
-Name[xx]=xxAIMxx
 
Index: kaddressbook/editors/protocols/meanwhileprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/meanwhileprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/editors/protocols/meanwhileprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -6,11 +6,12 @@
 X-KDE-InstantMessagingKABCField=messaging/meanwhile
 Comment=Meanwhile Protocol
 Comment[bg]=Протокол Meanwhile
+Comment[br]=Komenad Meanwhile
 Comment[ca]=Protocol Meanwhile
 Comment[cs]=Meanwhile protokol
 Comment[da]=Meanwhile Protokol
 Comment[de]=Meanwhile-Protokoll
-Comment[el]=Προτόκολο Meanwhile
+Comment[el]=Πρωτόκολλο Meanwhile
 Comment[es]=Protocolo Meanwhile
 Comment[et]=Meanwhile'i protokoll
 Comment[eu]=Meanwhile protokoloa
@@ -21,8 +22,10 @@
 Comment[hu]=Meanwhile protokoll
 Comment[is]=Meanwhile samskiptamátinn
 Comment[it]=Protocollo Meanwhile
+Comment[ja]=Meanwhile プロトコル
 Comment[lt]=Meanwhile protokolas
 Comment[nb]=Meanwhile-protokoll
+Comment[nds]=Meanwhile-Protokoll
 Comment[nl]=Meanwhile-protocol
 Comment[nn]=Meanwhile-protokollen
 Comment[pl]=Protokół Meanwhile
@@ -36,8 +39,6 @@
 Comment[ta]=நெறிமுறை
 Comment[tr]=Meanwhile Protokolü
 Comment[uk]=Протокол Meanwhile
-Comment[xx]=xxMeanwhile Protocolxx
 Comment[zh_CN]=Meanwhile 协议
 Name=Meanwhile
-Name[xx]=xxMeanwhilexx
 
Index: kaddressbook/editors/protocols/skypeprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/skypeprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/editors/protocols/skypeprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -10,23 +10,26 @@
 Comment[da]=Skype internettelefoni
 Comment[de]=Internet-Telefonie mit Skype
 Comment[es]=Telefonía por internet con Skype
+Comment[et]=Internetitelefon Skype
+Comment[eu]=Skype-en internet telefonia
 Comment[fr]=Téléphonie Internet Skype
 Comment[he]=טלפוניית רשת של Skype
 Comment[is]=Skype Internet sími
 Comment[it]=Telefonia internet Skype
+Comment[ja]=Skype インターネット電話
 Comment[lt]=Skype Interneto telefonija
 Comment[nb]=Skype IP-telefoni
+Comment[nds]=Internet-Telefoneren mit Skype
 Comment[nl]=Skype internettelefonie
 Comment[nn]=Skype Internett-telefoni
 Comment[pl]=Skype - telefonia internetowa
 Comment[pt]=Telefonia Internet Skype
 Comment[pt_BR]=Telefonia via Internet Skype
 Comment[ru]=Интернет-телефон Skype
+Comment[sl]=Internetna telefonija Skype
 Comment[sr]=Skype интернет телефонија
 Comment[sr@Latn]=Skype internet telefonija
 Comment[sv]=Skype Internettelefoni
 Comment[uk]=Інтернет-телефон Skype
-Comment[xx]=xxSkype Internet Telephonyxx
 Comment[zh_CN]=Skype Internet 电话
 Name=Skype
-Name[xx]=xxSkypexx
Index: kaddressbook/editors/protocols/icqprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/icqprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/editors/protocols/icqprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -13,7 +13,7 @@
 Comment[cs]=ICQ protokol
 Comment[da]=ICQ Protokol
 Comment[de]=ICQ-Protokoll
-Comment[el]=Προτόκολο ICQ
+Comment[el]=Πρωτόκολλο ICQ
 Comment[es]=Protocolo ICQ
 Comment[et]=ICQ protokoll
 Comment[eu]=ICQ protokoloa
@@ -28,6 +28,7 @@
 Comment[ja]=ICQ プロトコル
 Comment[lt]=ICQ protokolas
 Comment[nb]=ICQ-protokoll
+Comment[nds]=ICQ-Protokoll
 Comment[nl]=ICQ-protocol
 Comment[nn]=ICQ-protokoll
 Comment[pl]=Protokół ICQ
@@ -44,8 +45,6 @@
 Comment[tg]=Протоколи ICQ
 Comment[tr]=ICQ Protokolü
 Comment[uk]=Протокол ICQ
-Comment[xx]=xxICQ Protocolxx
 Comment[zh_CN]=ICQ 协议
 Name=ICQ
-Name[xx]=xxICQxx
 
Index: kaddressbook/editors/protocols/ircprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/ircprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/editors/protocols/ircprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -20,8 +20,6 @@
 Comment[tg]=IRC (Internet Relay Chat)
 Comment[tr]=İnternet Genel Sohbeti
 Comment[uk]=IRChat
-Comment[xx]=xxInternet Relay Chatxx
 Comment[zh_CN]=Internet 聊天
 Name=IRC
-Name[xx]=xxIRCxx
 
Index: kaddressbook/editors/protocols/msnprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/msnprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/editors/protocols/msnprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -10,15 +10,15 @@
 Comment[fr]=Messagerie MSN
 Comment[is]=MSN spjallforritið
 Comment[ja]=MSN メッセンジャー
+Comment[nds]=MSN-Kortnarichtenmaker
 Comment[pa]=MSN ਸੁਨੇਹਾਦਾਰ
 Comment[ta]=MSN மெசஞ்சர்
 Comment[tr]=MSN Mesajcısı
-Comment[xx]=xxMSN Messengerxx
 Name=MSN Messenger
 Name[bg]=MSN
 Name[cy]=Negesydd MSN
 Name[ja]=MSN メッセンジャー
+Name[nds]=MSN-Kortnarichtenmaker
 Name[ta]=MSN மெசஞ்சர்
 Name[tr]=MSN Mesajcısı
-Name[xx]=xxMSN Messengerxx
 
Index: kaddressbook/editors/protocols/yahooprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/yahooprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/editors/protocols/yahooprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -13,7 +13,7 @@
 Comment[cs]=Yahoo protokol
 Comment[da]=Yahoo Protokol
 Comment[de]=Yahoo!-Protokoll
-Comment[el]=Προτόκολο Yahoo
+Comment[el]=Πρωτόκολλο Yahoo
 Comment[es]=Protocolo Yahoo
 Comment[et]=Yahoo protokoll
 Comment[eu]=Yahoo protokoloa
@@ -28,6 +28,7 @@
 Comment[ja]=Yahoo プロトコル
 Comment[lt]=Yahoo protokolas
 Comment[nb]=Yahoo-protokoll
+Comment[nds]=Yahoo-Protokoll
 Comment[nl]=Yahoo-protocol
 Comment[nn]=Yahoo-protokoll
 Comment[pl]=Protokół Yahoo
@@ -44,9 +45,7 @@
 Comment[tg]=Протоколи Yahoo
 Comment[tr]=Yahoo Protokolü
 Comment[uk]=Протокол Yahoo
-Comment[xx]=xxYahoo Protocolxx
 Comment[zh_CN]=Yahoo 协议
 Name=Yahoo
 Name[de]=Yahoo!
-Name[xx]=xxYahooxx
 
Index: kaddressbook/editors/protocols/gaduprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/gaduprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/editors/protocols/gaduprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -7,6 +7,7 @@
 Comment=Gadu-Gadu Protocol
 Comment[be]=Пратакол Gadu-Gadu
 Comment[bg]=Протокол Gadu-Gadu
+Comment[br]=Komenad Gadu-Gadu
 Comment[bs]=Gadu-Gadu protokol
 Comment[ca]=Protocol Gadu-Gadu
 Comment[cs]=Gadu-Gadu protokol
@@ -27,6 +28,7 @@
 Comment[ja]=Gadu-Gadu プロトコル
 Comment[lt]=Gadu-Gadu protokolas
 Comment[nb]=Gadu-Gadu-protokoll
+Comment[nds]=Gadu-Gadu-Protokoll
 Comment[nl]=Gadu-Gadu-protocol
 Comment[nn]=Gadu-Gadu-protokoll
 Comment[pl]=Protokół Gadu-Gadu
@@ -43,9 +45,7 @@
 Comment[tg]=протоколи Gadu-Gadu
 Comment[tr]=Gadu-Gadu Protokolü
 Comment[uk]=Протокол Gadu-Gadu
-Comment[xx]=xxGadu-Gadu Protocolxx
 Comment[zh_CN]=Gadu-Gadu 协议
 Name=Gadu-Gadu
 Name[ta]=கடு-கடு
-Name[xx]=xxGadu-Gaduxx
 
Index: kaddressbook/editors/protocols/smsprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/smsprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/editors/protocols/smsprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -13,7 +13,7 @@
 Comment[cs]=SMS protokol
 Comment[da]=SMS Protokol
 Comment[de]=SMS-Protokoll
-Comment[el]=Προτόκολο SMS
+Comment[el]=Πρωτόκολλο SMS
 Comment[es]=Protocolo SMS
 Comment[et]=SMS protokoll
 Comment[eu]=SMS protokoloa
@@ -28,6 +28,7 @@
 Comment[ja]=SMS プロトコル
 Comment[lt]=SMS protokolas
 Comment[nb]=SMS Protokoll
+Comment[nds]=SMS-Protokoll
 Comment[nl]=SMS-protocol
 Comment[nn]=SMS-protokoll
 Comment[pl]=Protokół SMS
@@ -44,9 +45,7 @@
 Comment[tg]=протоколи SMS
 Comment[tr]=SMS Protokolü
 Comment[uk]=Протокол SMS
-Comment[xx]=xxSMS Protocolxx
 Comment[zh_CN]=短信息协议
 Name=SMS
-Name[xx]=xxSMSxx
 Name[zh_CN]=短信息
 
Index: kaddressbook/editors/protocols/groupwiseprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/groupwiseprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/editors/protocols/groupwiseprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -13,7 +13,10 @@
 Comment[eu]=Novell GroupWise mezularia
 Comment[fr]=Messagerie GroupWise de Novell
 Comment[he]=מסנג'ר של Novell GroupWise
+Comment[is]=Novell GroupWise Samskiptatólið
+Comment[ja]=Novell GroupWiseメッセンジャ
 Comment[lt]=Novell GroupWise momentinių žinučių klientas
+Comment[nds]=Novell-GroupWise-Kortnarichtenmaker
 Comment[nl]=Novell GroupWise-messenger
 Comment[pl]=Komunikator Novell GroupWise
 Comment[pt_BR]=Mensageiro GroupWise da Novell
@@ -22,12 +25,10 @@
 Comment[sr@Latn]=Novell-ov GroupWise Messenger
 Comment[sv]=Novell Groupwise Messenger
 Comment[ta]=நோவல் குழுவாரியான செய்தியாளன்
-Comment[xx]=xxNovell GroupWise Messengerxx
 Comment[zh_CN]=Novell GroupWise 信使
 Name=GroupWise
 Name[sr]=Groupware
 Name[sr@Latn]=Groupware
 Name[sv]=Groupwise
 Name[ta]=குழுவாரியாக
-Name[xx]=xxGroupWisexx
 
Index: kaddressbook/editors/cryptosettings.desktop
===================================================================
--- kaddressbook/editors/cryptosettings.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/editors/cryptosettings.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,6 +23,7 @@
 Name[ja]=暗号プレファレンス
 Name[lt]=Šifravimo pasirinkimai
 Name[nb]=Krypterings instillinger
+Name[nds]=Verslöteln-Instellen
 Name[nl]=Versleutelingsinstellingen
 Name[nn]=Krypteringsinnstillinger
 Name[pl]=Ustawienia kryptograficzne
@@ -39,7 +40,6 @@
 Name[tg]=Танзимоти рамзгузорӣ
 Name[tr]=Şifreleme Özellikleri
 Name[uk]=Параметри шифрування
-Name[xx]=xxCrypto Preferencesxx
 Name[zh_CN]=加密首选项
 Type=Service
 ServiceTypes=KAddressBook/ContactEditorWidget
Index: kaddressbook/editors/imaddresseditor.desktop
===================================================================
--- kaddressbook/editors/imaddresseditor.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/editors/imaddresseditor.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -15,9 +15,12 @@
 Name[gl]=Mensaxería Instantánea
 Name[he]=מסרים מיידיים
 Name[hu]=Azonnali üzenetküldés (IM)
+Name[is]=Skilaboðaforrit
 Name[it]=Messaggistica istantanea
+Name[ja]=インスタントメッセージ
 Name[lt]=Momentinės žinutės
 Name[nb]=Lynmelding
+Name[nds]=Kortnarichten-Maker
 Name[nn]=Lynmelding
 Name[pl]=Komunikacja internetowa
 Name[pt]=Mensagens Instantâneas
@@ -33,7 +36,7 @@
 Name[tg]=Хизматгоҳи мубодилаи иттилоот
 Name[tr]=Hızlı Mesajlaşma
 Name[uk]=Миттєвий зв'язок
-Name[xx]=xxInstant Messagingxx
+Name[uz]=Хабар алмашиш
 Name[zh_CN]=即时消息
 Comment=Instant Messaging Address Editor
 Comment[bg]=Редактор на адреси за мигновените съобщения
@@ -51,10 +54,12 @@
 Comment[gl]=Editor de Enderezos de Mensaxería Instantánea
 Comment[he]=עורך כתובות מסרים מידיים
 Comment[hu]=IM-címszerkesztő
+Comment[is]=Vistfangaritill fyrir skilaboðaforrit
 Comment[it]=Editor degli indirizzi per messaggi istantanei
 Comment[ja]=インスタント メッセージ アドレス 編集
 Comment[lt]=Momentinių žinučių adresų redaktorius
 Comment[nb]=Adresse-redigerer for lynmelding
+Comment[nds]=Editor för Kortnarichten-Adressen
 Comment[nl]=Instant Messaging Adresbewerker
 Comment[nn]=Adresseredigering for lynmelding
 Comment[pl]=Edytor adresów komunikatorów internetowych
@@ -71,7 +76,6 @@
 Comment[tg]=Муҳаррири алоқоти хизматгоҳҳои мубодилаи иттилоот
 Comment[tr]=Hızlı Mesajlaşma Adres Düzenleyicisi
 Comment[uk]=Редактор адрес миттєвого зв'язку
-Comment[xx]=xxInstant Messaging Address Editorxx
 Comment[zh_CN]=即时消息地址编辑器
 ServiceTypes=KAddressBook/ContactEditorWidget
 X-KDE-Library=libkaddrbk_instantmessaging
Index: kaddressbook/editors/kaddressbookimprotocol.desktop
===================================================================
--- kaddressbook/editors/kaddressbookimprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/editors/kaddressbookimprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -18,10 +18,12 @@
 Name[gl]=Protocolo de Mensaxería Instantánea de KAddressbook
 Name[he]=פרוטוקול מסרים מידיים של KAddressbook
 Name[hu]=KAddressbook azonnali üzenetküldési protokoll
+Name[is]=KAddressbook skilaboðaforritið
 Name[it]=KAddressbook protocollo messaggistica istantanea
 Name[ja]=KAddressbook インスタント メッセージ プロトコル
 Name[lt]=KAddressbook momentinių žinučių protokolas
 Name[nb]=KAdressbook lynmeldingsprotokoll
+Name[nds]=KAddressbook-Kortnarichten-Protokoll
 Name[nl]=KAddressbook Instant Messaging-protocol
 Name[nn]=Lynmeldingsprotokoll for KDE-adresseboka
 Name[pl]=Protokół komunikacji internetowej KAddressbook
@@ -38,7 +40,6 @@
 Name[tg]=Протоколи мубодилаи иттилооти китоби адресии KDE
 Name[tr]=KAddressbook Hızlı Mesajlaşma Protokolü
 Name[uk]=Протокол миттєвого зв'язку KAddressbook
-Name[xx]=xxKAddressbook Instant Messaging Protocolxx
 Name[zh_CN]=KAddressbook 即时消息协议
 [PropertyDef::X-KDE-InstantMessagingKABCField]
 Type=QString
Index: kaddressbook/addresseditwidget.h
===================================================================
--- kaddressbook/addresseditwidget.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/addresseditwidget.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -39,6 +39,7 @@
 class QTextEdit;
 class QToolButton;
 
+class KActiveLabel;
 class KComboBox;
 class KLineEdit;
 class KListView;
@@ -78,7 +79,7 @@
     AddressTypeCombo *mTypeCombo;
 
     QPushButton *mEditButton;
-    QLabel *mAddressField;
+    KActiveLabel *mAddressField;
 
     KABC::Address::List mAddressList;
     KABC::Addressee mAddressee;
Index: kaddressbook/kabcore.cpp
===================================================================
--- kaddressbook/kabcore.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/kabcore.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -799,13 +799,12 @@
 
   KABC::AddressBook::ConstIterator iter;
   const KABC::AddressBook::ConstIterator endIter( mAddressBook->end() );
-  KABC::PhoneNumber::List::Iterator phoneIter;
-  const KABC::PhoneNumber::List::Iterator phoneEndIter( phoneList.end() );
 
   for ( iter = mAddressBook->begin(); !found && ( iter != endIter ); ++iter ) {
     phoneList = (*iter).phoneNumbers();
-    for ( phoneIter = phoneList.begin(); !found && ( phoneIter != phoneEndIter );
-          ++phoneIter) {
+    KABC::PhoneNumber::List::Iterator phoneIter( phoneList.begin() );
+    const KABC::PhoneNumber::List::Iterator phoneEndIter( phoneList.end() );
+    for ( ; !found && ( phoneIter != phoneEndIter ); ++phoneIter) {
       // Get rid of separator chars so just the numbers are compared.
       if ( (*phoneIter).number().replace( r, "" ) == localPhone.replace( r, "" ) ) {
         ownerName = (*iter).realName();
@@ -1175,15 +1174,16 @@
 {
   QStringList categories, allCategories;
   QStringList::ConstIterator catIt;
-  const QStringList::ConstIterator catEndIt( categories.end() );
 
   KABC::AddressBook::ConstIterator it;
   const KABC::AddressBook::ConstIterator endIt( mAddressBook->end() );
   for ( it = mAddressBook->begin(); it != endIt; ++it ) {
     categories = (*it).categories();
-    for ( catIt = categories.begin(); catIt != catEndIt; ++catIt )
+    const QStringList::ConstIterator catEndIt( categories.end() );
+    for ( catIt = categories.begin(); catIt != catEndIt; ++catIt ) {
       if ( !allCategories.contains( *catIt ) )
         allCategories.append( *catIt );
+	}
   }
 
   return allCategories;
Index: kaddressbook/kaddressbook_view.desktop
===================================================================
--- kaddressbook/kaddressbook_view.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/kaddressbook_view.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -27,6 +27,7 @@
 Comment[lt]=KAddressBook peržiūros priedas
 Comment[ms]=Plug masuk Pelihat KAddressBook
 Comment[nb]=KAddressbook-programtillegg for visning
+Comment[nds]=Kiekermoduul för KAdressbook
 Comment[nl]=KAddressBook Weergave Plugin
 Comment[nn]=Programtillegg for vising av KDE-adresseboka
 Comment[pl]=Wtyczka widoku KAddressBook
@@ -43,7 +44,6 @@
 Comment[tg]=Модули намоиши китоби адресии KDE
 Comment[tr]=KAdresDefteri Gösterim Eklentisi
 Comment[uk]=Втулок перегляду адресної книги KAddressBook
-Comment[xx]=xxKAddressBook View Pluginxx
 Comment[zh_CN]=KAddressBook 查看插件
 
 [PropertyDef::X-KDE-KAddressBook-ViewPluginVersion]
Index: kaddressbook/addresseditwidget.cpp
===================================================================
--- kaddressbook/addresseditwidget.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/addresseditwidget.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -37,6 +37,7 @@
 #include <qtooltip.h>
 
 #include <kaccelmanager.h>
+#include <kactivelabel.h>
 #include <kapplication.h>
 #include <kbuttonbox.h>
 #include <kcombobox.h>
@@ -89,7 +90,7 @@
            SLOT( updateAddressEdit() ) );
   layout->addWidget( mTypeCombo );
 
-  mAddressField = new QLabel( this );
+  mAddressField = new KActiveLabel( this );
   mAddressField->setFrameStyle( QFrame::Panel | QFrame::Sunken );
   mAddressField->setMinimumHeight( 20 );
   mAddressField->setAlignment( Qt::AlignTop );
Index: kaddressbook/kcmconfigs/kabcustomfields.desktop
===================================================================
--- kaddressbook/kcmconfigs/kabcustomfields.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/kcmconfigs/kabcustomfields.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -35,12 +35,13 @@
 Name[ja]=カスタム ページ
 Name[lt]=Pasirinkti puslapiai
 Name[nb]=Tilpassede sider
+Name[nds]=Egen Sieden
 Name[nl]=Aangepaste pagina's
 Name[nn]=Tilpassa sider
 Name[pl]=Własne strony
 Name[pt]=Páginas Personalizadas
 Name[pt_BR]=Páginas personalizadas
-Name[ru]=Пользовательские вкладки
+Name[ru]=Дополнительные поля
 Name[se]=Iežat siiddut
 Name[sk]=Vlastné stránky
 Name[sl]=Prilagojene strani
@@ -51,7 +52,6 @@
 Name[tg]=Варақаҳои замимавии истифодашаванда
 Name[tr]=Özel Sayfa
 Name[uk]=Нетипові сторінки
-Name[xx]=xxCustom Pagesxx
 Name[zh_CN]=定制页
 Comment=Configure the Custom Pages
 Comment[bg]=Настройки на потребителските полета
@@ -76,6 +76,7 @@
 Comment[ja]=カスタム ページの設定
 Comment[lt]=Konfigūruoti darbastalių skaičių ir pavadinimus
 Comment[nb]=Stille inn de tilpassede sidene
+Comment[nds]=Egen Sieden instellen
 Comment[nl]=Hier kunt u de aangepaste pagina's instellen
 Comment[nn]=Set opp dei tilpassa sidene
 Comment[pl]=Konfiguracja własnych stron
@@ -92,7 +93,6 @@
 Comment[tg]=Танзимоти варақаҳои замимавии истифодашаванда
 Comment[tr]=Özel Sayfaları Yapılandır
 Comment[uk]=Налаштування нетипових сторінок
-Comment[xx]=xxConfigure the Custom Pagesxx
 Comment[zh_CN]=配置定制页
 Keywords=kaddressbook, configure, settings, custom fields
 Keywords[bg]=адресник, потребителски, полета, настройки, конфигуриране, kaddressbook, configure, settings, custom fields
@@ -115,6 +115,7 @@
 Keywords[ja]=kaddressbook、設定、設定,カスタムフィールド
 Keywords[lt]=kaddressbook, configure, settings, custom fields, pasirinkti laukai,konfigūruoti, nustatymai
 Keywords[nb]=kaddressbook, sette opp, innstillinger
+Keywords[nds]=KAddressbook,KAdressbook,Adressbook,instellen,egen Feller
 Keywords[nl]=adresboek,KAB,kab,kaddressbook,instellingen,configuratie,aangepaste velden
 Keywords[nn]=adressebok, oppsett, innstillingar, tilpassa felt
 Keywords[pl]=kaddressbook,książka adresowa,konfiguracja,ustawienia, własne pola
@@ -130,5 +131,4 @@
 Keywords[tg]=kaddressbook,китоби адрес,танзимот
 Keywords[tr]=kaddressbook,adres defteri,yapılandır,yapılandırma,özel alanlar
 Keywords[uk]=kaddressbook, налаштування, параметри, нетипові поля
-Keywords[xx]=xxkaddressbook, configure, settings, custom fieldsxx
 Keywords[zh_CN]=kaddressbook, configure, settings, custom fields, 配置, 设置, 定制项
Index: kaddressbook/kcmconfigs/kabconfig.desktop
===================================================================
--- kaddressbook/kcmconfigs/kabconfig.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/kcmconfigs/kabconfig.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -30,8 +30,10 @@
 Name[hu]=Általános
 Name[is]=Almennt
 Name[it]=Generale
+Name[ja]=一般
 Name[lt]=Bendras
 Name[nb]=Generelt
+Name[nds]=Allgemeen
 Name[nl]=Algemeen
 Name[nn]=Generelt
 Name[pa]=ਸਧਾਰਨ
@@ -48,7 +50,7 @@
 Name[th]=ทั่วไป
 Name[tr]=Genel
 Name[uk]=Загальні
-Name[xx]=xxGeneralxx
+Name[uz]=Умумий
 Name[zh_CN]=常规
 Comment=Configure the Address Book
 Comment[be]=Настроіць адрасную кнігу
@@ -76,6 +78,7 @@
 Comment[ja]=アドレス帳設定
 Comment[lt]=Konfigūruoti adresų knygelę
 Comment[nb]=Oppsett for adresseboka
+Comment[nds]=Adressbook instellen
 Comment[nl]=Hier kunt u uw adresboek aanpassen
 Comment[nn]=Setja opp adressebok
 Comment[pl]=Konfiguracja Książki adresowej
@@ -94,7 +97,6 @@
 Comment[tr]=Adres Defterini Yapılandır
 Comment[uk]=Налаштування адресної книги
 Comment[uz]=Манзиллар дафтарини мослаш
-Comment[xx]=xxConfigure the Address Bookxx
 Comment[zh_CN]=配置地址簿
 Keywords=kaddressbook, configure, settings
 Keywords[be]=K Адрасная кніга, настроіць, настройкі, kaddressbook, configure, settings
@@ -122,6 +124,7 @@
 Keywords[lt]=kaddressbook, configure, settings, konfigūravimas, nustatymai
 Keywords[ms]=,selaraskan, tetapan, kaddressbook, configure, settings
 Keywords[nb]=kaddressbook, sette opp, innstillinger
+Keywords[nds]=KAddressbook,KAdressbook,Adressbook,instellen
 Keywords[nl]=adresboek,KAB,kab,kaddressbook,instellingen,configuratie
 Keywords[nn]=adressebok, oppsett, innstillingar
 Keywords[pl]=kaddressbook, książka adresowa,adresy,konfiguracja,ustawienia,opcje
@@ -139,5 +142,4 @@
 Keywords[tr]=kadresdefteri, yapılandırma, ayarlar
 Keywords[uk]=kaddressbook, налаштування, параметри
 Keywords[uz]=kaddressbook, мослаш, мосламалар, манзиллар дафтари
-Keywords[xx]=xxkaddressbook, configure, settingsxx
 Keywords[zh_CN]=kaddressbook, configure, settings, 配置, 设置
Index: kaddressbook/kcmconfigs/kabldapconfig.desktop
===================================================================
--- kaddressbook/kcmconfigs/kabldapconfig.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/kcmconfigs/kabldapconfig.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -37,6 +37,7 @@
 Name[ja]=LDAP 検索
 Name[lt]=LDAP paieška
 Name[nb]=LDAP oppslag
+Name[nds]=LDAP-Naslaan
 Name[nl]=LDAP-zoekactie
 Name[nn]=LDAP oppslag
 Name[pa]=LDAP ਖੋਜ
@@ -44,7 +45,7 @@
 Name[pt]=Pesquisa na LDAP
 Name[pt_BR]=Procura LDAP
 Name[ro]=Căutare LDAP
-Name[ru]=Поиск в каталогах LDAP
+Name[ru]=Каталоги LDAP
 Name[sk]=LDAP hľadanie
 Name[sl]=Vpogled v LDAP
 Name[sr]=LDAP потрага
@@ -54,7 +55,6 @@
 Name[tg]=Ҷустуҷӯ дар каталогҳои LDAP
 Name[tr]=LDAP Tarama
 Name[uk]=Пошук через LDAP
-Name[xx]=xxLDAP Lookupxx
 Name[zh_CN]=LDAP 查询
 Comment=Configure the Address Book LDAP Settings
 Comment[bg]=Настройки на адресника за използване на сървър LDAP
@@ -78,6 +78,7 @@
 Comment[ja]=アドレス帳 LDAP 設定
 Comment[lt]=Konfigūruoti adresų knygelės LDAP nustatymus
 Comment[nb]=Sett opp LDAP-innstillinger for adresseboka
+Comment[nds]=LDAP-Instellen för KAdressbook
 Comment[nl]=Hier kunt u de LDAP-instellingen voor uw adresboek instellen
 Comment[nn]=Setja opp LDAP-innstillingar for adresseboka
 Comment[pl]=Konfiguracja ustawień LDAP dla Książki adresowej
@@ -94,7 +95,6 @@
 Comment[tr]=Adres Defteri LDAP Ayarlarını Yapılandır
 Comment[uk]=Налаштування параметрів LDAP для адресної книги
 Comment[uz]=LDAP манзиллар дафтарини мослаш
-Comment[xx]=xxConfigure the Address Book LDAP Settingsxx
 Comment[zh_CN]=配置地址簿 LDAP 设置
 Keywords=kaddressbook, configure, settings, LDAP
 Keywords[be]=K Адрасная кніга, настроіць, настройкі, kaddressbook, configure, settings, LDAP
@@ -122,6 +122,7 @@
 Keywords[lt]=kaddressbook, configure, settings, LDAP, nustatymai, konfigūruoti
 Keywords[ms]=selaraskan, tetapan, kaddressbook, configure, settings, LDAP
 Keywords[nb]=kaddressbook, sette opp, innstillinger, LDAP
+Keywords[nds]=KAdressbook,Adressbook,LDAP,instellen
 Keywords[nl]=adresboek,kaddressbook,LDAP
 Keywords[nn]=adressebok, oppsett, innstillingar, LDAP
 Keywords[pl]=kaddressbook, książka adresowa,konfiguracja,ustawienia,opcje, LDAP
@@ -139,5 +140,4 @@
 Keywords[tr]=adres defteri,yapılandırma,ayarlar,LDAP
 Keywords[uk]=kaddressbook, налаштування, параметри, LDAP
 Keywords[uz]=kaddressbook, мослаш, мосламалар, манзиллар дафтари, LDAP
-Keywords[xx]=xxkaddressbook, configure, settings, LDAPxx
 Keywords[zh_CN]=kaddressbook, configure, settings, LDAP, 配置, 设置
Index: kaddressbook/thumbnailcreator/ldifvcardthumbnail.desktop
===================================================================
--- kaddressbook/thumbnailcreator/ldifvcardthumbnail.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/thumbnailcreator/ldifvcardthumbnail.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,6 +24,7 @@
 Name[lt]=Elektroninės verslo kortelės bylos
 Name[ms]=Fail Kad Perniagaan Elektronik
 Name[nb]=Filer for elektroniske visittkort
+Name[nds]=Dateien mit elektroonsche Visitenkorten
 Name[nl]=Elektronische visitekaartbestanden
 Name[nn]=Filer for elektroniske visittkort
 Name[pl]=Pliki elektronicznych wizytówek
@@ -39,7 +40,6 @@
 Name[tg]=Файлҳои визиткаи электронӣ
 Name[tr]=Elektronik İş Kartı Dosyaları
 Name[uk]=файли електронних візитних карток
-Name[xx]=xxElectronic Business Card Filesxx
 Name[zh_CN]=电子名片文件
 ServiceTypes=ThumbCreator
 MimeTypes=text/x-vcard,text/x-ldif
Index: kaddressbook/imagewidget.cpp
===================================================================
--- kaddressbook/imagewidget.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/imagewidget.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,6 +24,7 @@
 #include <kabc/picture.h>
 #include <kdebug.h>
 #include <kdialog.h>
+#include <kfiledialog.h>
 #include <kglobalsettings.h>
 #include <kiconloader.h>
 #include <kimageio.h>
@@ -31,7 +32,6 @@
 #include <klocale.h>
 #include <kmessagebox.h>
 #include <kurldrag.h>
-#include <kurlrequester.h>
 #include <libkdepim/kpixmapregionselectordialog.h>
 
 #include <librss/loader.h>
@@ -39,37 +39,173 @@
 #include <librss/image.h>
 
 #include <qapplication.h>
-#include <qcheckbox.h>
 #include <qdragobject.h>
+#include <qeventloop.h>
 #include <qgroupbox.h>
 #include <qlabel.h>
 #include <qlayout.h>
 #include <qpixmap.h>
-#include <qtooltip.h>
+#include <qpopupmenu.h>
 
+#include <unistd.h>
+
 #include "imagewidget.h"
 
-ImageLabel::ImageLabel( const QString &title, QWidget *parent )
-  : QLabel( title, parent ), mReadOnly( false )
+ImageLoader::ImageLoader()
+  : QObject( 0, "ImageLoader" ),
+    mIsLoadingBlog( false )
 {
+}
+
+
+KABC::Picture ImageLoader::loadPicture( const KURL &url, bool *ok )
+{
+  KABC::Picture picture;
+  QString tempFile;
+
+  if ( url.isEmpty() )
+    return picture;
+
+  (*ok) = false;
+
+  QImage image;
+  if ( url.isLocalFile() ) {
+    image.load( url.path() );
+    picture.setData( image );
+    (*ok) = true;
+  } else if ( KIO::NetAccess::download( url, tempFile, 0 ) ) {
+    image.load( tempFile );
+    picture.setData( image );
+    (*ok) = true;
+    KIO::NetAccess::removeTempFile( tempFile );
+  }
+
+  if ( !(*ok) ) {
+    // image does not exist (any more)
+    KMessageBox::sorry( 0, i18n( "This contact's image cannot be found." ) );
+    return picture;
+  }
+
+  QPixmap pixmap = picture.data();
+
+  QPixmap selectedPixmap = KPIM::KPixmapRegionSelectorDialog::getSelectedImage( pixmap, 100, 140, 0 );
+  if ( selectedPixmap.isNull() ) {
+    (*ok) = false;
+    return picture;
+  }
+
+  image = selectedPixmap;
+  if ( image.height() != 140 || image.width() != 100 ) {
+    if ( image.height() > image.width() )
+      image = image.scaleHeight( 140 );
+    else
+      image = image.scaleWidth( 100 );
+  }
+
+  picture.setData( image );
+  (*ok) = true;
+
+  return picture;
+}
+
+KABC::Picture ImageLoader::loadBlog( const KURL &url, bool *ok )
+{
+  RSS::Loader *loader = RSS::Loader::create();
+  connect( loader, SIGNAL( loadingComplete( Loader*, Document, Status ) ),
+           this, SLOT( loadingComplete( Loader*, Document, Status ) ) );
+  loader->loadFrom( url, new RSS::FileRetriever );
+
+  mIsLoadingBlog = true;
+  while ( mIsLoadingBlog ) {
+    qApp->eventLoop()->processEvents( QEventLoop::ExcludeUserInput );
+    usleep( 500 );
+  }
+
+  if ( mPicture.data().isNull() ) {
+    KMessageBox::sorry( 0,
+        i18n( "Blog feed at '%1' does not contain an image." ).arg( url.url() ) );
+    (*ok) = false;
+  }
+  (*ok) = true;
+
+  return mPicture;
+}
+
+void ImageLoader::loadingComplete( RSS::Loader*,
+                                   RSS::Document doc,
+                                   RSS::Status status )
+{
+  mIsLoadingBlog = false;
+
+  if ( status != RSS::Success ) {
+    mPicture = KABC::Picture();
+    return;
+  }
+
+  if ( !doc.image() ) {
+    mPicture = KABC::Picture();
+    return;
+  }
+
+  bool ok = false;
+  KABC::Picture pic = loadPicture( doc.image()->url().url(), &ok );
+  if ( ok )
+    mPicture = pic;
+}
+
+ImageButton::ImageButton( const QString &title, QWidget *parent )
+  : QPushButton( title, parent ),
+    mReadOnly( false ), mImageLoader( 0 )
+{
   setAcceptDrops( true );
+
+  connect( this, SIGNAL( clicked() ), SLOT( load() ) );
 }
 
-void ImageLabel::setReadOnly( bool readOnly )
+void ImageButton::setReadOnly( bool readOnly )
 {
   mReadOnly = readOnly;
 }
 
-void ImageLabel::startDrag()
+void ImageButton::setPicture( const KABC::Picture &picture )
 {
-  if ( pixmap() && !pixmap()->isNull() ) {
-    QImageDrag *drag = new QImageDrag( pixmap()->convertToImage(), this );
+  mPicture = picture;
+  updateGUI();
+}
+
+KABC::Picture ImageButton::picture() const
+{
+  return mPicture;
+}
+
+void ImageButton::setImageLoader( ImageLoader *loader )
+{
+  mImageLoader = loader;
+}
+
+void ImageButton::setBlogFeed( const KURL &url )
+{
+  mBlogFeed = url;
+}
+
+void ImageButton::startDrag()
+{
+  if ( !mPicture.data().isNull() ) {
+    QImageDrag *drag = new QImageDrag( mPicture.data(), this );
     drag->dragCopy();
   }
 }
 
-void ImageLabel::dragEnterEvent( QDragEnterEvent *event )
+void ImageButton::updateGUI()
 {
+  if ( mPicture.data().isNull() )
+    setPixmap( KGlobal::iconLoader()->iconPath( "personal", KIcon::Desktop ) );
+  else
+    setPixmap( mPicture.data() );
+}
+
+void ImageButton::dragEnterEvent( QDragEnterEvent *event )
+{
   bool accepted = false;
 
   if ( QImageDrag::canDecode( event ) )
@@ -81,7 +217,7 @@
   event->accept( accepted );
 }
 
-void ImageLabel::dropEvent( QDropEvent *event )
+void ImageButton::dropEvent( QDropEvent *event )
 {
   if ( mReadOnly )
     return;
@@ -90,7 +226,8 @@
     QPixmap pm;
 
     if ( QImageDrag::decode( event, pm ) ) {
-      setPixmap( pm );
+      mPicture.setData( pm.convertToImage() );
+      updateGUI();
       emit changed();
     }
   }
@@ -104,18 +241,25 @@
       }
     }
 
-    emit urlDropped( urls.first() );
-    emit changed();
+    if ( mImageLoader ) {
+      bool ok = false;
+      KABC::Picture pic = mImageLoader->loadPicture( urls[ 0 ], &ok );
+      if ( ok ) {
+        mPicture = pic;
+        updateGUI();
+        emit changed();
+      }
+    }
   }
 }
 
-void ImageLabel::mousePressEvent( QMouseEvent *event )
+void ImageButton::mousePressEvent( QMouseEvent *event )
 {
   mDragStartPos = event->pos();
-  QLabel::mousePressEvent( event );
+  QPushButton::mousePressEvent( event );
 }
 
-void ImageLabel::mouseMoveEvent( QMouseEvent *event )
+void ImageButton::mouseMoveEvent( QMouseEvent *event )
 {
   if ( (event->state() & LeftButton) &&
        (event->pos() - mDragStartPos).manhattanLength() >
@@ -124,255 +268,100 @@
   }
 }
 
-
-ImageBaseWidget::ImageBaseWidget( const QString &title, QWidget *parent,
-                                  const char *name )
-  : QWidget( parent, name ), mReadOnly( false ), mRssLoader( 0 )
+void ImageButton::contextMenuEvent( QContextMenuEvent *event )
 {
-  QHBoxLayout *topLayout = new QHBoxLayout( this, KDialog::marginHint(),
-                                            KDialog::spacingHint() );
-  QGroupBox *box = new QGroupBox( 0, Qt::Vertical, title, this );
-  QGridLayout *boxLayout = new QGridLayout( box->layout(), 3, 3,
-                                            KDialog::spacingHint() );
-  boxLayout->setRowStretch( 3, 1 );
+  QPopupMenu menu( this );
+  menu.insertItem( i18n( "Reset" ), this, SLOT( clear() ) );
+  if ( mBlogFeed.isValid() )
+    menu.insertItem( i18n("Get From Blog"), this, SLOT( loadBlog() ) );
 
-  mImageLabel = new ImageLabel( i18n( "Picture" ), box );
-  mImageLabel->setFixedSize( 100, 140 );
-  mImageLabel->setFrameStyle( QFrame::Panel | QFrame::Sunken );
-  boxLayout->addMultiCellWidget( mImageLabel, 0, 3, 0, 0, AlignTop );
-
-  mImageUrl = new KURLRequester( box );
-  mImageUrl->setFilter( KImageIO::pattern() );
-  mImageUrl->setMode( KFile::File );
-  boxLayout->addWidget( mImageUrl, 0, 1 );
-
-  mClearButton = new QPushButton( box );
-  mClearButton->setSizePolicy( QSizePolicy( QSizePolicy::Minimum, QSizePolicy::Minimum ) );
-  mClearButton->setIconSet( SmallIconSet( QApplication::reverseLayout() ? "locationbar_erase" : "clear_left" ) );
-  mClearButton->setEnabled( false );
-  boxLayout->addWidget( mClearButton, 0, 2 );
-
-  mBlogButton = new QPushButton( i18n("Get From Blog"), box );
-  boxLayout->addMultiCellWidget( mBlogButton, 1, 1, 1, 2 );
-  connect( mBlogButton, SIGNAL( clicked() ), SLOT( getPictureFromBlog() ) );
-  showBlogButton( false );
-
-  mUseImageUrl = new QCheckBox( i18n( "Store as URL" ), box );
-  mUseImageUrl->setEnabled( false );
-  boxLayout->addMultiCellWidget( mUseImageUrl, 2, 2, 1, 2 );
-
-  topLayout->addWidget( box );
-
-  QToolTip::add( mClearButton, i18n( "Reset" ) );
-
-  connect( mImageLabel, SIGNAL( changed() ),
-           SIGNAL( changed() ) );
-  connect( mImageLabel, SIGNAL( urlDropped( const KURL& ) ),
-           SLOT( urlDropped( const KURL& ) ) );
-  connect( mImageUrl, SIGNAL( textChanged( const QString& ) ),
-           SIGNAL( changed() ) );
-  connect( mImageUrl, SIGNAL( urlSelected( const QString& ) ),
-           SLOT( loadImage() ) );
-  connect( mImageUrl, SIGNAL( urlSelected( const QString& ) ),
-           SIGNAL( changed() ) );
-  connect( mImageUrl, SIGNAL( urlSelected( const QString& ) ),
-           SLOT( updateGUI() ) );
-  connect( mUseImageUrl, SIGNAL( toggled( bool ) ),
-           SIGNAL( changed() ) );
-  // FIXME: Is there really no race condition with all these mImageUrl signals?
-  connect( mClearButton, SIGNAL( clicked() ),
-           SLOT( clear() ) );
+  menu.exec( event->globalPos() );
 }
 
-ImageBaseWidget::~ImageBaseWidget()
+void ImageButton::load()
 {
-}
-
-void ImageBaseWidget::setReadOnly( bool readOnly )
-{
-  mReadOnly = readOnly;
-  mImageLabel->setReadOnly( mReadOnly );
-  mImageUrl->setEnabled( !mReadOnly );
-  if ( !mBlogFeed.isEmpty() ) mBlogButton->setEnabled( !readOnly );
-}
-
-void ImageBaseWidget::showBlogButton( bool show )
-{
-  if ( show )
-    mBlogButton->show();
-  else
-    mBlogButton->hide();
-}
-
-void ImageBaseWidget::setBlogFeed( const QString &feed )
-{
-  mBlogFeed = feed;
-  mBlogButton->setEnabled( !feed.isEmpty() );
-}
-
-void ImageBaseWidget::setImage( const KABC::Picture &photo )
-{
-  bool blocked = signalsBlocked();
-  blockSignals( true );
-
-  if ( photo.isIntern() ) {
-    QPixmap px = photo.data();
-
-    if ( px.height() != 140 || px.width() != 100 ) {
-      if ( px.height() > px.width() )
-        px = px.convertToImage().scaleHeight( 140 );
-      else
-        px = px.convertToImage().scaleWidth( 100 );
+  KURL url = KFileDialog::getOpenURL( QString(), QString(), this );
+  if ( url.isValid() ) {
+    if ( mImageLoader ) {
+      bool ok = false;
+      KABC::Picture pic = mImageLoader->loadPicture( url, &ok );
+      if ( ok ) {
+        mPicture = pic;
+        updateGUI();
+        emit changed();
+      }
     }
-
-    mImageLabel->setPixmap( px );
-    mUseImageUrl->setChecked( false );
-  } else {
-    mImageUrl->setURL( photo.url() );
-    if ( !photo.url().isEmpty() )
-      mUseImageUrl->setChecked( true );
-    loadImage();
   }
-
-  blockSignals( blocked );
-
-  updateGUI();
 }
 
-KABC::Picture ImageBaseWidget::image() const
+void ImageButton::loadBlog()
 {
-  KABC::Picture photo;
-
-  if ( mUseImageUrl->isChecked() )
-    photo.setUrl( mImageUrl->url() );
-  else {
-    if ( mImageLabel->pixmap() ) {
-      photo.setData( mImageLabel->pixmap()->convertToImage() );
-    }
+  bool ok = false;
+  KABC::Picture pic = mImageLoader->loadBlog( mBlogFeed, &ok );
+  if ( ok ) {
+    mPicture = pic;
+    updateGUI();
+    emit changed();
   }
-
-  return photo;
 }
 
-void ImageBaseWidget::urlDropped( const KURL &url )
+void ImageButton::clear()
 {
-  mImageUrl->setURL( url.url() );
-  loadImage();
-  mImageUrl->setURL( url.url() );
+  mPicture = KABC::Picture();
+  updateGUI();
 
   emit changed();
 }
 
-void ImageBaseWidget::loadImage()
+ImageBaseWidget::ImageBaseWidget( const QString &title,
+                                  QWidget *parent, const char *name )
+  : QWidget( parent, name ), mReadOnly( false )
 {
-  QPixmap pixmap = loadPixmap( KURL( mImageUrl->url() ) );
-  if(! pixmap.isNull() )
-    mImageLabel->setPixmap( pixmap );
-}
+  mImageLoader = new ImageLoader();
 
-void ImageBaseWidget::updateGUI()
-{
-  if ( !mReadOnly ) {
-    mUseImageUrl->setEnabled( !mImageUrl->url().isEmpty() );
-    mClearButton->setEnabled( !mImageUrl->url().isEmpty() || ( mImageLabel->pixmap() && !mImageLabel->pixmap()->isNull() ) );
-  }
-}
+  QVBoxLayout *topLayout = new QVBoxLayout( this, KDialog::marginHint(),
+                                            KDialog::spacingHint() );
+  QGroupBox *box = new QGroupBox( 0, Qt::Vertical, title, this );
+  QVBoxLayout *layout = new QVBoxLayout( box->layout(), KDialog::spacingHint() );
 
-void ImageBaseWidget::clear()
-{
-  mImageLabel->clear();
-  mImageUrl->clear();
-  mUseImageUrl->setChecked( false );
+  mImageButton = new ImageButton( i18n( "Picture" ), box );
+  mImageButton->setFixedSize( 100, 140 );
+  mImageButton->setImageLoader( mImageLoader );
+  layout->addWidget( mImageButton );
 
-  updateGUI();
+  topLayout->addWidget( box );
 
-  emit changed();
+  connect( mImageButton, SIGNAL( changed() ), SIGNAL( changed() ) );
 }
 
-void ImageBaseWidget::imageChanged()
+ImageBaseWidget::~ImageBaseWidget()
 {
-  updateGUI();
-
-  emit changed();
+  delete mImageLoader;
+  mImageLoader = 0;
 }
 
-QPixmap ImageBaseWidget::loadPixmap( const KURL &url )
+void ImageBaseWidget::setReadOnly( bool readOnly )
 {
-  QString tempFile;
-  QPixmap pixmap;
-
-  if ( url.isEmpty() )
-    return pixmap;
-
-  if ( url.isLocalFile() )
-    pixmap = QPixmap( url.path() );
-  else if ( KIO::NetAccess::download( url, tempFile, this ) ) {
-    pixmap = QPixmap( tempFile );
-    KIO::NetAccess::removeTempFile( tempFile );
-  }
-
-  if ( pixmap.isNull() ) {
-    // image does not exist (any more)
-    KMessageBox::sorry( this, i18n( "This contact's image cannot be found." ) );
-    return pixmap;
-  }
-
-  QPixmap selectedPixmap = KPIM::KPixmapRegionSelectorDialog::getSelectedImage( pixmap, 100, 140, this );
-  if ( selectedPixmap.isNull() )
-    return QPixmap();
-  pixmap = selectedPixmap;
-  mImageUrl->clear();
-
-  if ( pixmap.height() != 140 || pixmap.width() != 100 ) {
-    if ( pixmap.height() > pixmap.width() )
-      pixmap = pixmap.convertToImage().scaleHeight( 140 );
-    else
-      pixmap = pixmap.convertToImage().scaleWidth( 100 );
-  }
-
-  return pixmap;
+  mReadOnly = readOnly;
+  mImageButton->setReadOnly( mReadOnly );
 }
 
-void ImageBaseWidget::getPictureFromBlog()
+void ImageBaseWidget::setBlogFeed( const QString &feed )
 {
-  if ( mRssLoader ) {
-    return;
-  }
-
-  mRssLoader = RSS::Loader::create();
-  connect( mRssLoader, SIGNAL( loadingComplete( Loader *, Document,
-    Status ) ),
-    SLOT( slotLoadingComplete( Loader *, Document, Status ) ) );
-  mRssLoader->loadFrom( mBlogFeed, new RSS::FileRetriever );
-
-  // TODO: Show progress for fetching image from blog.
+  mImageButton->setBlogFeed( feed );
 }
 
-void ImageBaseWidget::slotLoadingComplete( RSS::Loader *loader,
-  RSS::Document doc, RSS::Status status )
+void ImageBaseWidget::setImage( const KABC::Picture &photo )
 {
-  if ( status != RSS::Success ) {
-    KMessageBox::sorry( this,
-      i18n("Unable to retrieve blog feed from '%1': %2").arg( mBlogFeed )
-      .arg( loader->errorCode() ) );
-    return;
-  }
+  mImageButton->setPicture( photo );
+}
 
-  if ( !doc.image() ) {
-    KMessageBox::sorry( this,
-      i18n("Blog feed at '%1' does not contain an image.").arg( mBlogFeed ) );
-    return;
-  }
-
-  blockSignals( true );
-  mImageUrl->setURL( doc.image()->url().url() );
-  loadImage();
-  blockSignals( false );
-  imageChanged();
-
-  mRssLoader = 0;
+KABC::Picture ImageBaseWidget::image() const
+{
+  return mImageButton->picture();
 }
 
+
 ImageWidget::ImageWidget( KABC::AddressBook *ab, QWidget *parent, const char *name )
   : KAB::ContactEditorWidget( ab, parent, name )
 {
@@ -381,7 +370,6 @@
 
   mPhotoWidget = new ImageBaseWidget( KABC::Addressee::photoLabel(), this );
   layout->addWidget( mPhotoWidget );
-  mPhotoWidget->showBlogButton( true );
 
   mLogoWidget = new ImageBaseWidget( KABC::Addressee::logoLabel(), this );
   layout->addWidget( mLogoWidget );
Index: kaddressbook/features/distributionlist.desktop
===================================================================
--- kaddressbook/features/distributionlist.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/features/distributionlist.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -25,6 +25,7 @@
 Name[ja]=KAB 配布リストプラグイン
 Name[lt]=KAB platinimo sąrašo priedas
 Name[nb]=KAB tilleggsprogram for distribusjonslister
+Name[nds]=Verdeellist-Moduul för KAdressbook
 Name[nl]=KAB Distributielijst-plugin
 Name[nn]=Programtillegg for KAB distribusjonsliste
 Name[pl]=Wtyczka KAB do obsługi list wysyłkowych
@@ -41,12 +42,12 @@
 Name[tr]=KAB Dağıtım Listesi Eklentisi
 Name[uk]=Втулок списку розповсюдження KAB
 Name[uz]=Тарқатиш рўйхат плагини
-Name[xx]=xxKAB Distribution List Pluginxx
 Name[zh_CN]=KAB 分发列表插件
 Comment=Plugin for managing distribution lists
 Comment[ar]=ملحق لإدارة قوائم التوزيع
 Comment[be]=Дапаўненьне для кіраваньня сьпісамі распаўсюджваньня
 Comment[bg]=Приставка за управление на списъци
+Comment[br]=Lugent melestradur ar rolloù ingaladur
 Comment[bs]=Dodatak za upravljanje distribucionim listama
 Comment[ca]=Endollable per a gestionar llistes de distribució
 Comment[cs]=Modul pro správu distribučních seznamů
@@ -69,6 +70,7 @@
 Comment[lt]=Priedas platinimo sąrašų tvarkymui
 Comment[ms]=Plug masuk untuk pengurusan senarai edaran
 Comment[nb]=Tilleggsprogram for å håndtere distribusjonslister
+Comment[nds]=Moduul för't Plegen vun Verdeellisten
 Comment[nl]=Plugin voor het beheren van distributielijsten
 Comment[nn]=Programtillegg for handtering av distibusjonsliste
 Comment[pl]=Wtyczka do zarządzania listami wysyłkowymi
@@ -86,7 +88,6 @@
 Comment[tr]=Dağıtım listelerini yönetmek için eklenti
 Comment[uk]=Втулок для керування списками розповсюдження
 Comment[uz]=Тарқатиш рўйхатларни бошқариш учу плагин
-Comment[xx]=xxPlugin for managing distribution listsxx
 Comment[zh_CN]=管理分发列表的插件
 Type=Service
 ServiceTypes=KAddressBook/Extension
Index: kaddressbook/features/resourceselection.desktop
===================================================================
--- kaddressbook/features/resourceselection.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kaddressbook/features/resourceselection.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,6 +23,7 @@
 Name[ja]=住所録管理プラグイン
 Name[lt]=Adresų knygelės tvarkymo priedas
 Name[nb]=Programtillegg for adressebok behandling
+Name[nds]=Adressbookpleeg-Moduul
 Name[nl]=Plugin voor adresboekbeheer
 Name[nn]=Programtillegg for adressebokhandtering
 Name[pl]=Wtyczka zarządzania Książką adresową
@@ -38,11 +39,11 @@
 Name[tg]=Идоракунии китоби адресӣ
 Name[tr]=Adres Defteri Düzenleme Eklentisi
 Name[uk]=Втулок для керування адресною книгою
-Name[xx]=xxAddress Book Management Pluginxx
 Name[zh_CN]=地址簿管理插件
 Comment=Plugin for managing address books
 Comment[be]=Дапаўненьне для кіраваньня адраснамі кнігамі
 Comment[bg]=Приставка за управление на адресника
+Comment[br]=Lugent melestradur ar c'harnedoù chomlec'hioù
 Comment[bs]=Dodatak za upravljanje adresarima
 Comment[ca]=Endollable per gestionar llibretes d'adreces
 Comment[cs]=Modul pro správu knih adres
@@ -62,6 +63,7 @@
 Comment[ja]=住所録管理用プラグイン
 Comment[lt]=Priedas adresų knygelių tvarkymui
 Comment[nb]=Tilleggsprogram for å håndtere adressebøker
+Comment[nds]=Moduul för't Plegen vun Adressböker
 Comment[nl]=Plugin voor het beheren van adresboeken
 Comment[nn]=Programtillegg for handtering av adressebøker
 Comment[pl]=Wtyczka do zarządzania książkami adresowymi
@@ -77,7 +79,6 @@
 Comment[tg]=Идоракунии китобҳои адресӣ
 Comment[tr]=Adres defteterini düzenlemek için eklenti
 Comment[uk]=Втулок для керування адресними книгами
-Comment[xx]=xxPlugin for managing address booksxx
 Comment[zh_CN]=管理地址簿的插件
 Type=Service
 ServiceTypes=KAddressBook/Extension
Index: libkholidays/holidays/holiday_be
===================================================================
--- libkholidays/holidays/holiday_be	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkholidays/holidays/holiday_be	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -5,7 +5,7 @@
 : Adapted from Dutch holiday by Danny Backx <u27113@kb.be>
 :
 small	"Nieuwjaar"		weekend on 1.1.
-small	"Driekoningen"		weekend on 3.1
+small	"Driekoningen"		weekend on 6.1
 small	"Lichtmis"		weekend on 2.2
 small	"Vastenavond"		weekend on easter minus 47 days
 small	"Aswoensdag"		weekend on easter minus 46 days
Index: libkholidays/holidays/holiday_us
===================================================================
--- libkholidays/holidays/holiday_us	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkholidays/holidays/holiday_us	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -5,17 +5,17 @@
 :
 : Author: Ron Harichandran <harichan@cee.msu.edu>
 :
-small "New Year" weekend on 1/1
-small "M.L.King B'day" weekend on third monday in january
+: Federal holidays
+small "New Year's Day" weekend on 1/1
+small "Martin Luther King's Birthday" weekend on third monday in january
 small "President's Day" weekend on third monday in february
-small "Easter" weekend on easter
 small "Memorial Day" weekend on last monday in may
 small "Independence Day" weekend on july 4
 small "Labor Day" weekend on first monday in september
 small "Columbus Day" weekend on second monday in october
-small "Veteran's Day" weekend on november 11
+small "Veterans Day" weekend on november 11
 small "Thanksgiving" weekend on fourth thursday in november
-small "Christmas" weekend on december 25
+small "Christmas Day" weekend on december 25
 
 :
 : more holidays from Jeff Buhrt <jeff@amesbvap.ci.in.ameritech.com>
@@ -30,7 +30,6 @@
 small "Mother's Day" on second sunday in may
 small "Armed Forces Day" on third saturday in may
 : small "Victoria Day" on monday in may and 18 thru 24
-small "Memorial Day" weekend on last monday in may
 small "Father's Day" on third sunday in june
 small "Citizenship Day" on september 17
 small "Child Health Day" on first monday in september
@@ -41,6 +40,7 @@
 small "Wright Brothers' Day" on december 17
 
 : Easter related
+small "Easter" weekend on easter
 small "Ash Wednesday" on easter minus 46 days
 small "Pentecost" weekend on easter plus 49 days
 small "Ascension" on easter plus 40 days
Index: plugins/kmail/bodypartformatter/text_calendar.desktop
===================================================================
--- plugins/kmail/bodypartformatter/text_calendar.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ plugins/kmail/bodypartformatter/text_calendar.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,7 +23,6 @@
 Name[ta]=பயன்பாட்டு எண்மம்
 Name[tg]=Миқдори зиёди бинарии барномот
 Name[tr]=Uygulama Sekizli Akışı
-Name[xx]=xxApplication Octetstreamxx
 Name[zh_CN]=应用程序 Octetstream
 Comment=A bodypart formatter plugin for text/calendar
 Comment[bg]=Редактор с поддръжка на форматиране за текст/календар
@@ -37,9 +36,11 @@
 Comment[eu]=Testu/egutegientzako gorputz-zati formateatzaile bat
 Comment[fr]=Module de formatage pour le text/calendar
 Comment[hu]=Formázómodul text/calendar adatfolyamok kezeléséhez
+Comment[is]=Sniðmátstól fyrir text/calendar
 Comment[it]=Un plugin per formattare il corpo di text/calendar
 Comment[ja]=text/calendar 用の Bodypart フォーマッタ プラグイン
 Comment[nb]=En formaterer for meldingstekster i tekst/kalender
+Comment[nds]=En Hööftdeel-Formateermoduul för text/calendar
 Comment[nl]=Een opmaakplugin voor text/calendar
 Comment[nn]=Eit programtillegg for meldingstekstformatering i tekst/kalender
 Comment[pl]=Wtyczka formatująca dla typu text/calendar
@@ -55,7 +56,6 @@
 Comment[tg]=Модули ба андозадарории text/calendar
 Comment[tr]=text/calendar için bir gövde biçimleyici eklentisi
 Comment[uk]=Втулок форматування для text/calendar
-Comment[xx]=xxA bodypart formatter plugin for text/calendarxx
 Comment[zh_CN]=text/calendar 的格式化插件
 
 [Plugin]
Index: plugins/kmail/bodypartformatter/text_vcard.desktop
===================================================================
--- plugins/kmail/bodypartformatter/text_vcard.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ plugins/kmail/bodypartformatter/text_vcard.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,7 +23,6 @@
 Name[ta]=பயன்பாட்டு எண்மம்
 Name[tg]=Миқдори зиёди бинарии барномот
 Name[tr]=Uygulama Sekizli Akışı
-Name[xx]=xxApplication Octetstreamxx
 Name[zh_CN]=应用程序 Octetstream
 Comment=A bodypart formatter plugin for text/vcard
 Comment[bg]=Редактор с поддръжка на форматиране за текст/vcard
@@ -38,9 +37,11 @@
 Comment[eu]=Testu/vcard-en gorputz-zati formateatzaile bat
 Comment[fr]=Un formateur de partie de corps pour text/vcard
 Comment[hu]=Formázómodul text/vcard adatfolyamok kezeléséhez
+Comment[is]=Sniðmátstól fyrir text/vcard
 Comment[it]=Un plugin per formattare il corpo di text/vcard
 Comment[ja]=text/vcard 用の Bodypart フォーマッタ プラグイン
 Comment[nb]=Et programtilllegg for text/vcard for brødtekst-formatering
+Comment[nds]=En Hööftdeel-Formateermoduul för text/vcard
 Comment[nl]=Een opmaakplugin voor text/vcard
 Comment[nn]=Eit programtillegg for brødtekstformatering i tekst/vCard
 Comment[pl]=Wtyczka formatująca dla typu text/vcard
@@ -56,7 +57,6 @@
 Comment[tg]=Модули ба андозадарории text/vcard
 Comment[tr]=text/vcard için bir gövde biçimleyici eklentisi
 Comment[uk]=Втулок форматування для text/vcard
-Comment[xx]=xxA bodypart formatter plugin for text/vcardxx
 Comment[zh_CN]=text/vcard 的格式化插件
 
 [Plugin]
Index: plugins/kmail/bodypartformatter/text_xdiff.desktop
===================================================================
--- plugins/kmail/bodypartformatter/text_xdiff.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ plugins/kmail/bodypartformatter/text_xdiff.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,7 +23,6 @@
 Name[ta]=பயன்பாட்டு எண்மம்
 Name[tg]=Миқдори зиёди бинарии барномот
 Name[tr]=Uygulama Sekizli Akışı
-Name[xx]=xxApplication Octetstreamxx
 Name[zh_CN]=应用程序 Octetstream
 Comment=A bodypart formatter plugin for text/x-diff
 Comment[bg]=Редактор с поддръжка на форматиране за текст/x-diff
@@ -36,8 +35,11 @@
 Comment[eu]=Testu/x-diff-en gorputz-zati formateatzaile bat
 Comment[fr]=Un formateur de partie de corps pour text/x-diff
 Comment[hu]=Formázómodul text/x-diff adatok kezeléséhez
+Comment[is]=Sniðmátstól fyrir text/x-diff
 Comment[it]=Un plugin per formattare il corpo di text/x-diff
+Comment[ja]=text/x-diff 用の bodypart フォーマッタプラグイン
 Comment[nb]=Et programtilllegg for text/x-diff for brødtekst-formatering
+Comment[nds]=En Hööftdeel-Formateermoduul för text/x-diff
 Comment[nl]=Een opmaakplugin voor text/x-diff
 Comment[nn]=Eit programtilllegg for text/x-diff for brødtekstformatering
 Comment[pl]=Wtyczka formatująca dla text/x-diff
@@ -51,7 +53,6 @@
 Comment[ta]=text/x-diffக்கான ஒரு பகுதி வடிவமைப்பான் சொருகுப்பொருள்
 Comment[tr]=text/x-diff için bir gövde biçimleyici eklentisi
 Comment[uk]=Втулок форматування для text/x-diff
-Comment[xx]=xxA bodypart formatter plugin for text/x-diffxx
 Comment[zh_CN]=text/x-diff 的格式化插件
 [Plugin]
 Type=text/x-diff
Index: kitchensync/multisynk/multisynk.desktop
===================================================================
--- kitchensync/multisynk/multisynk.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/multisynk/multisynk.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -2,7 +2,6 @@
 Encoding=UTF-8
 Name=MultiSynK
 Name[sv]=Multisynk
-Name[xx]=xxMultiSynKxx
 GenericName=Synchronization
 GenericName[bg]=Синхронизация
 GenericName[ca]=Sincronització
@@ -23,6 +22,7 @@
 GenericName[it]=Sincronizzazione
 GenericName[lt]=Sinchronizacija
 GenericName[nb]=Synkronisering
+GenericName[nds]=Synkroniseren
 GenericName[nl]=Synchronisatie
 GenericName[nn]=Synkronisering
 GenericName[pl]=Synchronizacja
@@ -36,7 +36,6 @@
 GenericName[ta]=கூட்டிணைப்பு
 GenericName[tr]=Senkronizasyon
 GenericName[uk]=Синхронізація
-GenericName[xx]=xxSynchronizationxx
 GenericName[zh_CN]=同步
 Exec=multisynk
 Icon=multisynk
Index: kitchensync/kitchensync/debugger/debugger.desktop
===================================================================
--- kitchensync/kitchensync/debugger/debugger.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/kitchensync/debugger/debugger.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -9,6 +9,7 @@
 Name[cy]=Dadnamydd Kysylltydd
 Name[da]=Konnector-fejlretter
 Name[de]=Konnector-Debugger
+Name[el]=Αποσφαλματωτής του Konnector
 Name[es]=Konnector para depuración
 Name[et]=Konnectori siluja
 Name[eu]=Konnector araztailea
@@ -22,6 +23,7 @@
 Name[lt]=Konnector išriktuotojas
 Name[ms]=Nyah-ralat Konnector
 Name[nb]=Konnector feilfinner
+Name[nds]=Konnector-Debugger
 Name[nl]=Konnector-debugger
 Name[nn]=Konnector avlusar
 Name[pl]=Program do debugowania Konnectora
@@ -39,7 +41,6 @@
 Name[tg]=Тасҳеҳкунандаи Konnector
 Name[tr]=Konnector Hata Ayıklayıcı
 Name[uk]=Зневадник Konnector
-Name[xx]=xxKonnector Debuggerxx
 Name[zh_CN]=Konnector 调试程序
 Icon=
 ServiceTypes=KitchenSync/ActionPart
Index: kitchensync/kitchensync/syncerpart/syncerpart.desktop
===================================================================
--- kitchensync/kitchensync/syncerpart/syncerpart.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/kitchensync/syncerpart/syncerpart.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -20,6 +20,7 @@
 Name[ja]=同期パート
 Name[lt]=Sinchronizatoriaus komponentas
 Name[nb]=Synkroniseringsdel
+Name[nds]=Synkroniseer-Komponent
 Name[nl]=Synchronizer-part
 Name[nn]=Synkroniseringsdel
 Name[pl]=Część Synchronizatora
@@ -35,7 +36,6 @@
 Name[tg]=Қисмати синхронизатсия
 Name[tr]=Eşleyici (Syncronizer) Kısmı
 Name[uk]=Складова синхронізації
-Name[xx]=xxSynchronizer Partxx
 Name[zh_CN]=同步部件
 Icon=
 ServiceTypes=KitchenSync/ActionPart
Index: kitchensync/kitchensync/viewer/viewer.desktop
===================================================================
--- kitchensync/kitchensync/viewer/viewer.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/kitchensync/viewer/viewer.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -20,6 +20,7 @@
 Name[ja]=データ ビューア
 Name[lt]=Duomenų žiūryklė
 Name[nb]=Datavisning
+Name[nds]=Datenkieker
 Name[nl]=Gegevensweergave
 Name[nn]=Datavising
 Name[pl]=Przeglądarka danych
@@ -36,7 +37,6 @@
 Name[tg]=Намоиши маълумот
 Name[tr]=Veri Gösterici
 Name[uk]=Перегляд даних
-Name[xx]=xxData Viewerxx
 Name[zh_CN]=数据查看器
 Icon=
 ServiceTypes=KitchenSync/ActionPart
Index: kitchensync/kitchensync/plucker/kitchensync-pluck-rdf.desktop
===================================================================
--- kitchensync/kitchensync/plucker/kitchensync-pluck-rdf.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/kitchensync/plucker/kitchensync-pluck-rdf.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -9,6 +9,7 @@
 Name[cs]=Přidat do KitchenSync Plucker modulu
 Name[da]=Tilføj til køkkenvask plucker-plugin
 Name[de]=Zum KitchenSync Plucker Modul hinzufügen
+Name[el]=Προσθήκη στο πρόσθετο KitchenSync Plucker
 Name[es]=Añadir a la extensión Plucker de KitchenSync
 Name[et]=Lisa KitchenSynci Pluckeri pluginale
 Name[eu]=Gehitu KitchenSync-i Plucker plugin-a
@@ -16,8 +17,10 @@
 Name[hu]=Hozzáadás a KitchenSync Plucker bővítőmodulhoz
 Name[is]=Bæta við KitchenSync Plucker íforritið
 Name[it]=Aggiungi al plugin KitchenSync Plucker
+Name[ja]=KitchenSync Plucker プラグインに追加
 Name[lt]=KitchenSync Plucker priedo pridėlis
 Name[nb]=Programtillegg for KitchenSync-plukking
+Name[nds]=To KitchenSync-Pluckermoduul tofögen
 Name[nl]=Toevoegen aan KitchenSync Plucker Plugin
 Name[nn]=Legg til KitchenSync Plucker-programtillegg
 Name[pl]=Wtyczka dodania do KitchenSync Plucker
@@ -30,7 +33,6 @@
 Name[sv]=Lägg till i Kitchensyncs plockningsinsticksprogram
 Name[tr]=KitchenSync Plucker Eklentisine Ekle
 Name[uk]=Додати до втулку Plucker у KitchenSync
-Name[xx]=xxAdd to KitchenSync Plucker Pluginxx
 Name[zh_CN]=添加到 KitchenSync Plucker 插件
 Exec=dcop kitchensync PluckerInterface "addPluckerFeed(KURL)" %u
 Icon=knode
Index: kitchensync/kitchensync/plucker/kitchensync-pluck.desktop
===================================================================
--- kitchensync/kitchensync/plucker/kitchensync-pluck.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/kitchensync/plucker/kitchensync-pluck.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -9,6 +9,7 @@
 Name[cs]=Přidat do KitchenSync Plucker modulu
 Name[da]=Tilføj til køkkenvask plucker-plugin
 Name[de]=Zum KitchenSync Plucker Modul hinzufügen
+Name[el]=Προσθήκη στο πρόσθετο KitchenSync Plucker
 Name[es]=Añadir a la extensión Plucker de KitchenSync
 Name[et]=Lisa KitchenSynci Pluckeri pluginale
 Name[eu]=Gehitu KitchenSync-i Plucker plugin-a
@@ -16,8 +17,10 @@
 Name[hu]=Hozzáadás a KitchenSync Plucker bővítőmodulhoz
 Name[is]=Bæta við KitchenSync Plucker íforritið
 Name[it]=Aggiungi al plugin KitchenSync Plucker
+Name[ja]=KitchenSync Plucker プラグインに追加
 Name[lt]=KitchenSync Plucker priedo pridėlis
 Name[nb]=Programtillegg for KitchenSync-plukking
+Name[nds]=To KitchenSync-Pluckermoduul tofögen
 Name[nl]=Toevoegen aan KitchenSync Plucker Plugin
 Name[nn]=Legg til KitchenSync Plucker-programtillegg
 Name[pl]=Wtyczka dodania do KitchenSync Plucker
@@ -30,7 +33,6 @@
 Name[sv]=Lägg till i Kitchensyncs plockningsinsticksprogram
 Name[tr]=KitchenSync Plucker Eklentisine Ekle
 Name[uk]=Додати до втулку Plucker у KitchenSync
-Name[xx]=xxAdd to KitchenSync Plucker Pluginxx
 Name[zh_CN]=添加到 KitchenSync Plucker 插件
 Exec=dcop kitchensync PluckerInterface "addPluckerUrl(KURL)" %u
 Icon=knode
Index: kitchensync/kitchensync/plucker/plucker.desktop
===================================================================
--- kitchensync/kitchensync/plucker/plucker.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/kitchensync/plucker/plucker.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -11,8 +11,10 @@
 Name[he]=רכיב Plucker
 Name[hu]=Plucker objektum
 Name[is]=Plucker hluti
+Name[ja]=Plucker パート
 Name[lt]=Plucker komponentas
 Name[nb]=Plucker-del
+Name[nds]=Plucker-Komponent
 Name[nl]=Plucker part
 Name[nn]=Plucker-del
 Name[pl]=Część osadzalna Plucker
@@ -25,7 +27,6 @@
 Name[ta]=இழுக்கும் பகுதி
 Name[tr]=Plucker Kısmı
 Name[uk]=Компонент Plucker
-Name[xx]=xxPlucker Partxx
 Name[zh_CN]=Plucker 部件
 ServiceTypes=KitchenSync/ActionPart
 X-KDE-Library=libksync_pluckerpart
Index: kitchensync/kitchensync/backup/restore.desktop
===================================================================
--- kitchensync/kitchensync/backup/restore.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/kitchensync/backup/restore.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -7,6 +7,7 @@
 Name[cs]=Obnova konektoru
 Name[da]=Konnector genopret
 Name[de]=Konnector-Wiederherstellung
+Name[el]=Αποκατάσταση του Konnector
 Name[es]=Konnector para restauración
 Name[et]=Konnectori taastaja
 Name[eu]=Konnector leheneratu
@@ -18,6 +19,7 @@
 Name[ja]=Konnector 回復
 Name[lt]=Konnector atstatymas
 Name[nb]=Konnector gjenoppretting
+Name[nds]=Konnector-Wedderherstellen
 Name[nl]=Konnector-herstel
 Name[nn]=Konnector-gjenoppretting
 Name[pl]=Odtwarzanie dla Konnectora
@@ -32,7 +34,6 @@
 Name[tg]=Барқарор кардани Konnector
 Name[tr]=Konnector Geri Yükleme
 Name[uk]=Відновлення Konnector
-Name[xx]=xxKonnector Restorexx
 Name[zh_CN]=Konnector 恢复
 Icon=
 ServiceTypes=KitchenSync/ActionPart
Index: kitchensync/kitchensync/backup/backup.desktop
===================================================================
--- kitchensync/kitchensync/backup/backup.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/kitchensync/backup/backup.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -8,6 +8,7 @@
 Name[cy]=Copi-wrth-gefn Kysylltydd
 Name[da]=Konnector sikkerhedskopi
 Name[de]=Konnector-Sicherung
+Name[el]=Αντίγραφο ασφαλείας του Konnector
 Name[es]=Konnector para copia de seguridad
 Name[et]=Konnectori varukoopia
 Name[eu]=Konnector babes-kopia
@@ -21,6 +22,7 @@
 Name[ja]=Konnector バックアップ
 Name[lt]=Konnector atsarginės kopijos
 Name[nb]=Konnector sikkerhetskopiering
+Name[nds]=Konnector-Sekern
 Name[nl]=Konnector-reservekopie
 Name[nn]=Konnector tryggingskopi
 Name[pl]=Kopia zapasowa Konnectora
@@ -37,7 +39,6 @@
 Name[tg]=Нусхаи захиравии Konnector
 Name[tr]=Konnector Yedeği
 Name[uk]=Резервна копія Konnector
-Name[xx]=xxKonnector Backupxx
 Name[zh_CN]=Konnector 备份
 Icon=
 ServiceTypes=KitchenSync/ActionPart
Index: kitchensync/kitchensync/overview/overview.desktop
===================================================================
--- kitchensync/kitchensync/overview/overview.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/kitchensync/overview/overview.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,6 +24,7 @@
 Name[ms]=Bahagian OverView
 Name[mt]=Parti ta' sommarju
 Name[nb]=Oversiktsdel
+Name[nds]=OverView-Komponent
 Name[nl]=Overzicht-part
 Name[nn]=Oversiktsdel
 Name[nso]=Seripa sa Ponokakaretso
@@ -42,7 +43,6 @@
 Name[uk]=Складова OverView
 Name[ven]=Tshipida tsha mbonalelo
 Name[xh]=IndawanaYokujongwaNgaphezulu
-Name[xx]=xxOverView Partxx
 Name[zh_CN]=概览部件
 Name[zh_TW]=OverView 組件
 Name[zu]=Ingxenye yokufingqiwe
Index: kitchensync/kitchensync/lib/kitchensync.desktop
===================================================================
--- kitchensync/kitchensync/lib/kitchensync.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/kitchensync/lib/kitchensync.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,6 +23,7 @@
 Name[mk]=Kitchensynk манипулатор
 Name[ms]=Manipulasi KitchenSync
 Name[nb]=Allsynkroniseringsbehandler
+Name[nds]=KitchenSync-Hanterer
 Name[nl]=KitchenSync-manipulatieprogramma
 Name[nn]=Kjøkken-synkroniseringstjeneste
 Name[nso]=Modorisi wa KitchenSync
@@ -39,7 +40,6 @@
 Name[tg]=Мудири синхронизатсияи KitchenSync
 Name[uk]=Маніпулятор KitchenSync
 Name[ven]=Mufhiritanyi wa KitchenSyncsedzi
-Name[xx]=xxKitchenSync Manipulatorxx
 Name[zh_CN]=KitchenSync 操纵程序
 Name[zh_TW]=KitchenSync 操作器
 Name[zu]=Umsebenzisi we-KitchenSync
Index: kitchensync/kitchensync/fileview/fileview.desktop
===================================================================
--- kitchensync/kitchensync/fileview/fileview.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/kitchensync/fileview/fileview.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -14,6 +14,7 @@
 Name[lt]=Bylų peržiūros dalis
 Name[mk]=Разгледување датотеки
 Name[nb]=Filforhåndsvisning
+Name[nds]=Fileview-Komponent
 Name[nl]=Bestandsvoorbeeld-part
 Name[nn]=Filvisingsdel
 Name[nso]=Seripa sa Pono ya Faele
@@ -30,7 +31,6 @@
 Name[uk]=Складова Fileview
 Name[ven]=Tshipida tsha mbonalelo ya faela
 Name[xh]=IndawanaYefayileYokubona
-Name[xx]=xxFileviewPartxx
 Name[zh_CN]=文件预览部件
 Name[zu]=Ingxenye yombukiso wefayela
 Icon=konqeror
Index: kitchensync/libkonnector2/plugins/kabc/kabckonnector.desktop
===================================================================
--- kitchensync/libkonnector2/plugins/kabc/kabckonnector.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/libkonnector2/plugins/kabc/kabckonnector.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -21,6 +21,7 @@
 Name[it]=Konnector AddressBook
 Name[ja]=住所録 Konnector
 Name[nb]=Addressebok Konnector
+Name[nds]=Adressbook-Konnector
 Name[nl]=Adresboek Konnector
 Name[nn]=TIlkopling til adressebok
 Name[pl]=Konnector do Książki adresowej
@@ -37,7 +38,6 @@
 Name[tg]=Коннектор ба китоби адрес
 Name[tr]=Adres Defteri Konnector Bilşeni
 Name[uk]=Konnector до адресної книги
-Name[xx]=xxAddressBook Konnectorxx
 Name[zh_CN]=地址簿 Konnector
 Group=Test
 Vendor=KDE Team
Index: kitchensync/libkonnector2/plugins/threadedkonnector/threadedkonnector.desktop
===================================================================
--- kitchensync/libkonnector2/plugins/threadedkonnector/threadedkonnector.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/libkonnector2/plugins/threadedkonnector/threadedkonnector.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -10,6 +10,7 @@
 Name[cy]=Kysylltydd arddangosol ar gyfer weithredoliant edafeddedig
 Name[da]=Demo-konnector for en trådet implementation
 Name[de]=Demo-Konnector zur Implementierung von Threads
+Name[el]=Δοκιμαστικός Konnector για μια νηματική υλοποίηση
 Name[es]=Conector de demostración para una implementación con hilos
 Name[et]=Konnectori demo
 Name[eu]=Haridun inplementazioetzako eredu Konnector-a
@@ -17,7 +18,9 @@
 Name[hu]=Demókonnektor többszálú megvalósításra
 Name[is]=Prufu Konnector fyrir fjölþráða útfærslu
 Name[it]=Connettore demo per un'implementazione basata su thread
+Name[ja]=スレッド化された実装のための Demo Konnector
 Name[nb]=Demo konnector for en trådet implementering
+Name[nds]=Demo-Konnector för inbuute Threads
 Name[nl]=Demo-Konnector voor 'threaded' implementatie
 Name[nn]=Demo-Konnector for ein tråda implementering
 Name[pl]=Przykładowy Konnector dla implementacji wielowątkowej
@@ -30,7 +33,6 @@
 Name[sv]=Demonstration av Konnector för trådad implementering
 Name[ta]=இணைக்கப்பட்ட நடைமுறைக்கான இணைப்பான் காட்சி
 Name[uk]=Konnector для демонстрації реалізації через нитки
-Name[xx]=xxDemo Konnector for a Threaded Implementationxx
 Name[zh_CN]=线程实现的 Konnector 演示
 Group=Test
 Vendor=Mathias Fröhlich
Index: kitchensync/libkonnector2/plugins/kcal/kcalkonnector.desktop
===================================================================
--- kitchensync/libkonnector2/plugins/kcal/kcalkonnector.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/libkonnector2/plugins/kcal/kcalkonnector.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -22,6 +22,7 @@
 Name[it]=Konnector calendario
 Name[ja]=カレンダー Konnector
 Name[nb]=Kalender Konnector
+Name[nds]=Kalenner-Konnector
 Name[nl]=Agenda Konnector
 Name[nn]=Tilkopling til kalender
 Name[pl]=Konnector do Kalendarza
@@ -38,7 +39,6 @@
 Name[tg]=Конекктор
 Name[tr]=Takvim Konnector Bileşeni
 Name[uk]=Konnector до календаря
-Name[xx]=xxCalendar Konnectorxx
 Name[zh_CN]=日历 Konnector
 Group=Test
 Vendor=KDE Team
Index: kitchensync/libkonnector2/plugins/local/localkonnector.desktop
===================================================================
--- kitchensync/libkonnector2/plugins/local/localkonnector.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/libkonnector2/plugins/local/localkonnector.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,6 +24,7 @@
 Name[is]=Staðbundinn Konnector
 Name[ja]=ローカル Konnector
 Name[nb]=Lokal Konnector
+Name[nds]=Lokaal Konnector
 Name[nl]=Lokale Konnector
 Name[nn]=Lokal Konnector
 Name[pl]=Lokalny Konnector
@@ -40,7 +41,6 @@
 Name[tg]=Коннектори локалӣ
 Name[tr]=Yerel Konnector Bileşeni
 Name[uk]=Локальний Konnector
-Name[xx]=xxLocal Konnectorxx
 Name[zh_CN]=本地 Konnector
 Group=Test
 Vendor=KDE Team
Index: kitchensync/libkonnector2/plugins/dummy/dummykonnector.desktop
===================================================================
--- kitchensync/libkonnector2/plugins/dummy/dummykonnector.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/libkonnector2/plugins/dummy/dummykonnector.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,6 +23,7 @@
 Name[is]=Óekta Konnector
 Name[ja]=ダミー Konnector
 Name[nb]=Test-Konnector
+Name[nds]=Dummy-Konnector
 Name[nl]=Lege Konnector
 Name[nn]=Blind-Konnector
 Name[pl]=Nic nierobiący Konnector
@@ -39,7 +40,6 @@
 Name[tg]=Коннектори тасҳеҳкунанда
 Name[tr]=Hayali Konnector
 Name[uk]=Фіктивний Konnector
-Name[xx]=xxDummy Konnectorxx
 Name[zh_CN]=哑 Konnector
 Group=Test
 Vendor=KDE Team
Index: kitchensync/libkonnector2/plugins/remote/remotekonnector.desktop
===================================================================
--- kitchensync/libkonnector2/plugins/remote/remotekonnector.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/libkonnector2/plugins/remote/remotekonnector.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -22,6 +22,7 @@
 Name[it]=Konnector remoto
 Name[ja]=リモート Konnector
 Name[nb]=Ekstern Konnector
+Name[nds]=Feern-Konnector
 Name[nl]=Konnector op afstand
 Name[nn]=Ekstern tilkopling
 Name[pl]=Zdalny Konnector
@@ -37,7 +38,6 @@
 Name[tg]=Коннектори ҳузфшуда
 Name[tr]=Uzak Konnector Bileşeni
 Name[uk]=Віддалений Konnector
-Name[xx]=xxRemote Konnectorxx
 Name[zh_CN]=远程 Konnector
 Group=Test
 Vendor=KDE Team
Index: kitchensync/libkonnector2/plugins/qtopia/qtopia.desktop
===================================================================
--- kitchensync/libkonnector2/plugins/qtopia/qtopia.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/libkonnector2/plugins/qtopia/qtopia.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -15,6 +15,7 @@
 Name[ga]=Konnector Qtopia
 Name[hi]=क्यूटोपिया कनेक्टर
 Name[hu]=Qtopia-konnektor
+Name[nds]=Qtopia-Konnector
 Name[nso]=Mokgomaganyi wa Qtopia
 Name[pl]=Łącznik Qtopia
 Name[pt]=Konnector para o Qtopia
@@ -24,7 +25,6 @@
 Name[ta]=Qடோப்பியா இணைப்பான்
 Name[tg]=Коннектор ба Qtopia
 Name[tr]=Qtopia Konnector Bileşeni
-Name[xx]=xxQtopia Konnectorxx
 Group= PDA
 Vendor = Holger 'zecke' Freyther
 Id=Qtopia1.5
Index: kitchensync/libkonnector2/filter.desktop
===================================================================
--- kitchensync/libkonnector2/filter.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/libkonnector2/filter.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -16,8 +16,10 @@
 Comment[hu]=Szűrő a KitchenSync-csatolóhoz
 Comment[is]=Sía fyrir KitchenSync Konnector
 Comment[it]=Filtro per il Konnector KitchenSync
+Comment[ja]=KitchenSync Konnector 用フィルタ
 Comment[lt]=Filtras, skirtas KitchenSync Konnector
 Comment[nb]=Programtillegg for KitchenSync Konnector
+Comment[nds]=Filter för KitchenSync-Konnector
 Comment[nl]=Filter voor KitchenSync Konnector
 Comment[pl]=Filtr dla Konnectora KitchenSync
 Comment[pt]=Filtro para o Conector KitchenSync
@@ -30,7 +32,6 @@
 Comment[ta]=கிச்சன்கூட்டிணைப்பு இணைப்பானுக்கான அலங்காரம்
 Comment[tr]=KitchenSync Konnector için filtre
 Comment[uk]=Фільтр для KitchenSync Konnector
-Comment[xx]=xxFilter for KitchenSync Konnectorxx
 Comment[zh_CN]=KitchenSync Konnector 的过滤器
 Name=KitchenSyncFilter
 Name[bg]=Филтър за KitchenSync
@@ -38,10 +39,10 @@
 Name[et]=KitchenSynci filter
 Name[fr]=Filtre pour KitchenSync
 Name[hu]=KitchenSync-szűrő
+Name[nds]=KitchenSync-Filter
 Name[pt_BR]=Filtro KitchenSync
 Name[sv]=Kitchensync-filter
 Name[ta]=கிச்சன்சிங்க் அலங்காரம்
-Name[xx]=xxKitchenSyncFilterxx
 
 [PropertyDef::X-KDE-KitchenSyncFilterType]
 Type=QString
Index: kitchensync/libkonnector2/konnector_manager.desktop
===================================================================
--- kitchensync/libkonnector2/konnector_manager.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/libkonnector2/konnector_manager.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -9,6 +9,7 @@
 Name[fr]=Konnectors pour KitchenSync
 Name[he]=מחברי KitchenSync
 Name[hu]=KitchenSync-csatolók
+Name[nds]=KitchenSync-Konnectors
 Name[pl]=Konnectory KitchenSync
 Name[pt]=Conectores KitchenSync
 Name[pt_BR]=Konnectors do KitchenSync
@@ -20,7 +21,6 @@
 Name[ta]=கிச்சன்கூட்டிணைப்பு இணைப்பான்கள்
 Name[tr]=KitchenSync Konnector bileşenleri
 Name[uk]=Конектори KitchenSync
-Name[xx]=xxKitchenSync Konnectorsxx
 Type=Service
 ServiceTypes=KResources/Manager
 
Index: kitchensync/libkonnector2/filters/calendarfilter.desktop
===================================================================
--- kitchensync/libkonnector2/filters/calendarfilter.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/libkonnector2/filters/calendarfilter.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -12,27 +12,31 @@
 Name[cs]=Filtr kalendáře
 Name[da]=Kalenderfilter
 Name[de]=Filter für Kalender
+Name[el]=Φίλτρο ημερολογίου
 Name[es]=Filtro de calendario
 Name[et]=Kalendrifilter
+Name[eu]=Egutegiaren iragazkia
 Name[fr]=Filtre pour le calendrier
 Name[he]=מסנן לוח שנה
 Name[is]=Dagatalssía
 Name[it]=Filtro calendario
+Name[ja]=カレンダーフィルタ
 Name[lt]=Kalendoriaus filtras
 Name[nb]=Kalender filter
+Name[nds]=Kalenner-Filter
 Name[nl]=Agendafilter
 Name[nn]=Kalenderfilter
 Name[pl]=Filtr kalendarza
 Name[pt]=Filtro de Calendário
 Name[pt_BR]=Filtro de Calendário
 Name[ru]=Фильтр календаря
+Name[sl]=Filter za koledar
 Name[sr]=Филтер календара
 Name[sr@Latn]=Filter kalendara
 Name[sv]=Kalenderfilter
 Name[ta]=நாள்காட்டி அலங்காரம்
 Name[tr]=Takvim Süzgeci
 Name[uk]=Фільтр Календаря
-Name[xx]=xxCalendar Filterxx
 Name[zh_CN]=日历过滤器
 
 Comment=Filters events and todos in a calendar
@@ -40,25 +44,28 @@
 Comment[cs]=Filtruje události a úkoly v knize adres
 Comment[da]=Filtrerer begivenheder og gøremål i en kalender
 Comment[de]=Filtert Ereignisse und Aufgaben in einem Kalender
+Comment[el]=Φιλτράρει γεγονότα και προς υλοποίηση εργασίες σε ένα ημερολόγιο
 Comment[es]=Filtra los eventos y las tareas pendientes de un calendario
 Comment[et]=Kalendri sündmuste ja ülesannete filtreerimine
+Comment[eu]=Egutegian gertaerak eta egitekoak iragazten ditu
 Comment[fr]=Permet de filtrer les évènements et les tâches du calendrier
 Comment[he]=מסנן אירועים ומטלות בלוח השנה
 Comment[is]=Síar atburði og verkþætti í dagatali
 Comment[it]=Fltra gli eventi e le cose da fare in un calendario
 Comment[lt]=Filtruoja įvykius ir užduotis kalendoriuje
 Comment[nb]=Filtrerer hendelser og gjøremål i en kalender
+Comment[nds]=Filtert Begeefnissen un Opgaven binnen en Kalenner
 Comment[nl]=Filtert agenda-items uit een agenda
 Comment[nn]=Filtrerer hendingar og oppgåver i ein kalender
 Comment[pl]=Filtruje zdarzenia i zadania w kalendarzu
 Comment[pt]=Filtra eventos e a-fazeres num calendário
 Comment[pt_BR]=Filtra eventos e tarefas em um calendário
 Comment[ru]=Фильтр событий и задач календаря
+Comment[sl]=Filtrira dogodke in opravila v koledarju
 Comment[sr]=Филтрира догађаје и обавезе у календару
 Comment[sr@Latn]=Filtrira događaje i obaveze u kalendaru
 Comment[sv]=Filtrerar händelser och uppgifter i en kalender
 Comment[ta]=நாட்காட்டியில் செய்திகளையும் செய்யவேண்டியவைகளையும் வடிகட்டுகிறது
 Comment[tr]=Bir takvimdeki olayları ve yapılacakları süzer
 Comment[uk]=Фільтрує події і завдання в календарі
-Comment[xx]=xxFilters events and todos in a calendarxx
 Comment[zh_CN]=过滤日历中的事件和待办
Index: kitchensync/libkonnector2/filters/addressbookfilter.desktop
===================================================================
--- kitchensync/libkonnector2/filters/addressbookfilter.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/libkonnector2/filters/addressbookfilter.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -12,27 +12,31 @@
 Name[cs]=Filtr knihy adres
 Name[da]=Addressebogsfilter
 Name[de]=Filter für Adressbuch
+Name[el]=Φίλτρο του Βιβλίου διευθύνσεων
 Name[es]=Filtro de la libreta de direcciones
 Name[et]=Aadressiraamatu filter
+Name[eu]=Helbide-liburuaren iragazkia
 Name[fr]=Filtre pour le carnet d'adresses
 Name[he]=מסנן פנקס כתובות
 Name[is]=Sía fyrir vistfangaskrá
 Name[it]=Filtro rubrica indirizzi
+Name[ja]=アドレス帳フィルタ
 Name[lt]=Adresų knygelės filtras
 Name[nb]=Filter for adressebok
+Name[nds]=Adressbook-Filter
 Name[nl]=Adresboekfilter
 Name[nn]=Adressebokfilter
 Name[pl]=Filtr książki adresowej
 Name[pt]=Filtro de Livro de Endereço
 Name[pt_BR]=Filtro do Livro de Endereços
 Name[ru]=Фильтр адресной книги
+Name[sl]=Filter za adresar
 Name[sr]=Филтер адресара
 Name[sr@Latn]=Filter adresara
 Name[sv]=Adressboksfilter
 Name[ta]=முகவரி புத்தக அலங்காரம்
 Name[tr]=Adres Defteri Süzgeci
 Name[uk]=Фільтр адресної книги
-Name[xx]=xxAddress Book Filterxx
 Name[zh_CN]=地址簿过滤器
 
 Comment=Filters contacts in an address book
@@ -40,25 +44,29 @@
 Comment[cs]=Filtruje kontakty v knize adres
 Comment[da]=Filtrerer kontakter i en adressebog
 Comment[de]=Filtert Kontakte in einem Adressbuch
+Comment[el]=Φιλτράρει τις επαφές ενός βιβλίου διευθύνσεων
 Comment[es]=Filtra los contactos de la libreta de direcciones
 Comment[et]=Kontaktide filtreerimine aadressiraamatus
+Comment[eu]=Helbide-liburuko kontaktuak iragazten ditu
 Comment[fr]=Permet de filtrer les contacts du carnet d'adresses
 Comment[he]=מסנן אנשי קשר בפנקס הכתובות
 Comment[is]=Síar tengiliði í vistfangaskrá
 Comment[it]=Filtra i contatti di una rubrica indirizzi
+Comment[ja]=アドレス帳の連絡先をフィルタ
 Comment[lt]=Filtruoja kontaktus adresų knygelėje
 Comment[nb]=Filtrerer kontakter i en adressebok
+Comment[nds]=Filtert Kontakten binnen en Adressbook
 Comment[nl]=Filtert contactpersonen uit een adresboek
 Comment[nn]=Filtrerer kontaktar i ei adressebok
 Comment[pl]=Filtruje wizytówki w książce adresowej
 Comment[pt]=Filtra contactos num livros de endereços
 Comment[pt_BR]=Filtra contatos num livro de endereços
 Comment[ru]=Фильтр контактов адресной книги
+Comment[sl]=Filtrira stike v adresarju
 Comment[sr]=Филтрира контакте у адресару
 Comment[sr@Latn]=Filtrira kontakte u adresaru
 Comment[sv]=Filtrerar kontakter i en adressbok
 Comment[ta]=முகவரிப் புத்தகத்தில் தொடர்புகளை வடிகட்டு
 Comment[tr]=Bir adres defterindeki bağlantıları süzer
 Comment[uk]=Фільтрує контакти в адресній книзі
-Comment[xx]=xxFilters contacts in an address bookxx
 Comment[zh_CN]=过滤地址簿中的联系人
Index: kitchensync/libkonnector2/konnector.desktop
===================================================================
--- kitchensync/libkonnector2/konnector.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kitchensync/libkonnector2/konnector.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -26,6 +26,7 @@
 Comment[mk]=Konnector дефиниции
 Comment[mt]=Definizzjonijiet Konnector
 Comment[nb]=Konnector-definisjoner
+Comment[nds]=Konnector-Definitschonen
 Comment[nl]=Konnector-definities
 Comment[nn]=Konnector-definisjonar
 Comment[nso]=Dithlaloso tsa Mokgomaganyi
@@ -46,7 +47,6 @@
 Comment[uk]=Визначення Konnector
 Comment[ven]=Dzithalutshedzo dza Konnector
 Comment[xh]=Iinkcazelo ze Konnector
-Comment[xx]=xxKonnector Definitionsxx
 Comment[zh_CN]=Konnector 定义
 Comment[zh_TW]=Kontour 定義
 Comment[zu]=Izincazelo ze-Konnector
@@ -59,7 +59,6 @@
 Name[nso]=Mokgomaganyi
 Name[pl]=Łącznik
 Name[ta]=இணைப்பான்
-Name[xx]=xxKonnectorxx
 [PropertyDef::Group]
 Type=QString
 
Index: libkdepim/komposer/plugins/default/defaulteditor.desktop
===================================================================
--- libkdepim/komposer/plugins/default/defaulteditor.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkdepim/komposer/plugins/default/defaulteditor.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -32,6 +32,7 @@
 Name[hu]=Komposer szerkesztő
 Name[is]=Komposer ritill
 Name[it]=Editor Komposer
+Name[ja]=Komposer エディタ
 Name[lt]=Komposer redaktorius
 Name[nb]=Komposer-redigering
 Name[nl]=Komposer-editor
@@ -47,7 +48,6 @@
 Name[ta]=கம்போசர் தொகுப்பான்
 Name[tr]=Komposer Düzenleyicisi
 Name[uk]=Редактор Komposer
-Name[xx]=xxKomposer Editorxx
 Name[zh_CN]=Komposer 编辑器
 Comment=Komposer default editor
 Comment[bg]=Подразбиращ се редактор за Komposer
@@ -65,8 +65,10 @@
 Comment[hu]=A Komposer alapértelmezett szerkesztője
 Comment[is]=Sjálfgefinn ritill Komposer
 Comment[it]=Editor di default per Komposer
+Comment[ja]=Komposer 標準エディタ
 Comment[lt]=Komposer numatytasis redaktorius
 Comment[nb]=Komposer standard-redigerer
+Comment[nds]=Komposer-Standardeditor
 Comment[nl]=Komposer standaardeditor
 Comment[nn]=Komposer standard-redigeringsprogram
 Comment[pl]=Domyślny edytor Komposera
@@ -80,5 +82,4 @@
 Comment[ta]=கம்போசர் முன்னிருப்பு தொகுப்பான்
 Comment[tr]=Öntanımlı Komposer düzenleyicisi
 Comment[uk]=Типовий редактор Komposer
-Comment[xx]=xxKomposer default editorxx
 Comment[zh_CN]=Komposer 默认编辑器
Index: libkdepim/komposer/core/komposerplugin.desktop
===================================================================
--- libkdepim/komposer/core/komposerplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkdepim/komposer/core/komposerplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -27,6 +27,7 @@
 Name[ja]=Komposer プラグイン
 Name[lt]=Komposer priedas
 Name[nb]=Komposer-programtillegg
+Name[nds]=Komposer-Moduul
 Name[nn]=Komposer-programtillegg
 Name[pl]=Wtyczka Komposer
 Name[pt]='Plugin' do Kompositor
@@ -42,7 +43,6 @@
 Name[tg]=Модули Komposer
 Name[tr]=Komposer Eklentisi
 Name[uk]=Втулок Komposer
-Name[xx]=xxKomposer Pluginxx
 Name[zh_CN]=Komposer 插件
 
 [PropertyDef::X-Komposer-Version]
Index: libkdepim/komposer/core/komposerconfig.desktop
===================================================================
--- libkdepim/komposer/core/komposerconfig.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkdepim/komposer/core/komposerconfig.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -16,7 +16,6 @@
 Name[hi]=कम्पोज़र
 Name[pt]=Kompositor
 Name[ta]=கம்போசர்
-Name[xx]=xxKomposerxx
 Comment=KDE Komposer
 Comment[bg]=Писане на форматиран текст
 Comment[br]=Komposer KDE
@@ -27,6 +26,7 @@
 Comment[fr]=Komposer KDE
 Comment[ga]=Komposer KDE
 Comment[hi]=केडीई कम्पोज़र
+Comment[nds]=Nettbreef-Editor vun KDE
 Comment[nn]=KDE, tekstredigerar for e-post
 Comment[pl]=Komposer dla KDE
 Comment[pt]=Kompositor do KDE
@@ -34,7 +34,6 @@
 Comment[ru]=Композитор KDE
 Comment[ta]=கேடிஇ கம்போசர்
 Comment[tg]=Композитори KDE
-Comment[xx]=xxKDE Komposerxx
 Keywords=komposer
 Keywords[bg]=редактор, съставител, форматиране, текст, komposer
 Keywords[ca]=compositor
@@ -42,6 +41,7 @@
 Keywords[da]=brevskriver
 Keywords[de]=Komposer
 Keywords[hi]=कम्पोज़र
+Keywords[nds]=Komposer
 Keywords[nl]=komposer,opstellen
 Keywords[nn]=komposer,tekstredigerar,epost
 Keywords[ru]=komposer,ноты
@@ -49,4 +49,3 @@
 Keywords[sr@Latn]=komposer,sastavljač
 Keywords[ta]=கம்போசர்
 Keywords[tg]=komposer,нотаҳо
-Keywords[xx]=xxkomposerxx
Index: libkdepim/komposer/core/komposereditor.desktop
===================================================================
--- libkdepim/komposer/core/komposereditor.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkdepim/komposer/core/komposereditor.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,6 +24,7 @@
 Comment[ja]=Komposer,エディタ
 Comment[lt]=Komposer redaktorius
 Comment[nb]=Komposer redigerer
+Comment[nds]=Komposer-Editor
 Comment[nl]=Komposer-editor
 Comment[nn]=Komposer redigerar
 Comment[pl]=Edytor Komposer
@@ -39,7 +40,6 @@
 Comment[tg]=Муҳаррири Komposer
 Comment[tr]=Komposer Düzenleyicisi
 Comment[uk]=Редактор Komposer
-Comment[xx]=xxKomposer Editorxx
 Comment[zh_CN]=Komposer 编辑器
 
 [PropertyDef::X-Komposer-Weight]
Index: libkdepim/addresseelineedit.cpp
===================================================================
--- libkdepim/addresseelineedit.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkdepim/addresseelineedit.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -805,7 +805,7 @@
   if ( ( obj == this ) &&
      ( e->type() == QEvent::AccelOverride ) ) {
     QKeyEvent *ke = static_cast<QKeyEvent*>( e );
-    if ( ke->key() == Key_Up || ke->key() == Key_Down ) {
+    if ( ke->key() == Key_Up || ke->key() == Key_Down || ke->key() == Key_Tab ) {
       ke->accept();
       return true;
     }
@@ -834,7 +834,7 @@
         }
         return true;
       }
-    } else if ( ke->key() == Key_Down ) {
+    } else if ( ke->key() == Key_Down || ke->key() == Key_Tab ) {
       // same strategy for downwards
       //kdDebug() << "EVENTFILTER: Key_Down. currentIndex=" << currentIndex << endl;
       QListBoxItem *itemBelow = completionBox()->item( currentIndex + 1 );
Index: libkcal/localdir.desktop
===================================================================
--- libkcal/localdir.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkcal/localdir.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,6 +24,7 @@
 Name[ja]=ローカルディレクトリのカレンダー
 Name[lt]=Kalendorius vietiniame aplanke
 Name[nb]=Kalender i lokal katalog
+Name[nds]=Kalenner in lokaal Orner
 Name[nl]=Agenda in lokale map
 Name[nn]=Kalender i lokal mappe
 Name[pl]=Kalendarz w katalogu lokalnym
@@ -40,7 +41,6 @@
 Name[tg]=Тақвимот дар каталоги локалӣ
 Name[tr]=Yerel Dizindeki Takvim
 Name[uk]=Календар у локальному каталозі
-Name[xx]=xxCalendar in Local Directoryxx
 Name[zh_CN]=本地目录中的日历
 X-KDE-Library=kcal_localdir
 Type=Service
Index: libkcal/local.desktop
===================================================================
--- libkcal/local.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkcal/local.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,6 +24,7 @@
 Name[ja]=ローカルファイルのカレンダー
 Name[lt]=Kalendorius vietinėje byloje
 Name[nb]=Kalender i lokal fil
+Name[nds]=Kalenner as lokaal Datei
 Name[nl]=Agenda in lokaal bestand
 Name[nn]=Kalender i lokal fil
 Name[pl]=Kalendarz w pliku lokalnym
@@ -40,7 +41,6 @@
 Name[tg]=Тақвимот дар файли локалӣ
 Name[tr]=Yerel Dosyadaki Takvim
 Name[uk]=Календар у локальному файлі
-Name[xx]=xxCalendar in Local Filexx
 Name[zh_CN]=本地文件中的日历
 X-KDE-Library=kcal_local
 Type=Service
Index: libkcal/freebusy.cpp
===================================================================
--- libkcal/freebusy.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkcal/freebusy.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -145,7 +145,7 @@
   return mDtEnd;
 }
 
-QValueList<Period> FreeBusy::busyPeriods() const
+PeriodList FreeBusy::busyPeriods() const
 {
   return mBusyPeriods;
 }
@@ -180,48 +180,32 @@
   return true;
 }
 
-FreeBusy::FreeBusy(QValueList<Period> busyPeriods)
+FreeBusy::FreeBusy( PeriodList busyPeriods)
 {
   mBusyPeriods = busyPeriods;
 }
 
 void FreeBusy::sortList()
 {
-  typedef QValueList<Period> PeriodList;
+  qHeapSort( mBusyPeriods );
+  return;
+}
 
-  PeriodList::Iterator tmpPeriod, earlyPeriod;
-  PeriodList sortedList;
-  QDateTime earlyTime;
-
-  while( mBusyPeriods.count() > 0 ) {
-    earlyTime=(*mBusyPeriods.begin()).start();
-    for ( tmpPeriod = mBusyPeriods.begin(); tmpPeriod != mBusyPeriods.end(); ++tmpPeriod ) {
-      if (earlyTime.secsTo((*tmpPeriod).start()) <= 0) {
-        earlyTime=(*tmpPeriod).start();
-        earlyPeriod=tmpPeriod;
-      }
-    }
-    //Move tmpPeriod to sortedList
-    Period tmpPeriod = (*earlyPeriod);
-    sortedList.append( tmpPeriod );
-    mBusyPeriods.remove( earlyPeriod );
-  }
-  mBusyPeriods=sortedList;
+void FreeBusy::addPeriods(const PeriodList &list )
+{
+  mBusyPeriods += list;
+  sortList();
 }
 
 void FreeBusy::addPeriod(const QDateTime &start, const QDateTime &end)
 {
-  Period p(start, end);
-  mBusyPeriods.append( p );
-
+  mBusyPeriods.append( Period(start, end) );
   sortList();
 }
 
 void FreeBusy::addPeriod( const QDateTime &start, const Duration &dur )
 {
-  Period p(start, dur);
-  mBusyPeriods.append( p );
-
+  mBusyPeriods.append( Period(start, dur) );
   sortList();
 }
 
Index: libkcal/kcal_manager.desktop
===================================================================
--- libkcal/kcal_manager.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkcal/kcal_manager.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -26,6 +26,7 @@
 Name[ja]=カレンダ
 Name[lt]=Kalendorius
 Name[nb]=Kalender
+Name[nds]=Kalenner
 Name[nl]=Agenda
 Name[nn]=Kalender
 Name[pa]=ਕੈਲੰਡਰ
@@ -44,7 +45,6 @@
 Name[tr]=Takvim
 Name[uk]=Календар
 Name[uz]=Календар
-Name[xx]=xxCalendarxx
 Name[zh_CN]=日历
 Type=Service
 ServiceTypes=KResources/Manager
Index: libkcal/freebusy.h
===================================================================
--- libkcal/freebusy.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkcal/freebusy.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -33,6 +33,7 @@
 
 namespace KCal {
 
+  typedef QValueList<Period> PeriodList;
 /**
   This class provides information about free/busy time of a calendar user.
 */
@@ -43,7 +44,7 @@
     FreeBusy( const QDateTime &start, const QDateTime &end );
     FreeBusy( Calendar *calendar, const QDateTime &start,
               const QDateTime &end );
-    FreeBusy( QValueList<Period> busyPeriods );
+    FreeBusy( PeriodList busyPeriods );
 
     ~FreeBusy();
     
@@ -52,10 +53,15 @@
     virtual QDateTime dtEnd() const;
     bool setDtEnd( const QDateTime &end );
 
-    QValueList<Period> busyPeriods() const;
+    PeriodList busyPeriods() const;
 
+    /** Adds a period to the freebusy list and sorts the list.  */
     void addPeriod( const QDateTime &start, const QDateTime &end );
     void addPeriod( const QDateTime &start, const Duration &dur );
+    /** Adds a list of periods to the freebusy object and then sorts
+     * that list. Use this if you are adding many items, instead of the
+     * addPeriod method, to avoid sorting repeatedly.  */
+    void addPeriods( const PeriodList & );
     void sortList();
 
     void merge( FreeBusy *freebusy );
@@ -66,7 +72,7 @@
     bool addLocalPeriod( const QDateTime &start, const QDateTime &end );
 
     QDateTime mDtEnd;
-    QValueList<Period> mBusyPeriods;
+    PeriodList mBusyPeriods;
     Calendar *mCalendar;
 
     class Private;
Index: libkcal/icalformatimpl.cpp
===================================================================
--- libkcal/icalformatimpl.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkcal/icalformatimpl.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -804,7 +804,7 @@
       QStringList attachments = alarm->mailAttachments();
       if (attachments.count() > 0) {
         for (QStringList::Iterator at = attachments.begin();  at != attachments.end();  ++at) {
-          icalattach_new_from_url(QFile::encodeName( *at ).data());
+          attach = icalattach_new_from_url(QFile::encodeName( *at ).data());
           icalcomponent_add_property(a,icalproperty_new_attach(attach));
         }
       }
@@ -1018,6 +1018,7 @@
   icalproperty *p = icalcomponent_get_first_property(vfreebusy,ICAL_ANY_PROPERTY);
 
   icaltimetype icaltime;
+  PeriodList periods;
 
   while (p) {
     icalproperty_kind kind = icalproperty_isa(p);
@@ -1038,10 +1039,10 @@
         QDateTime period_start = readICalDateTime(icalperiod.start);
         if ( !icaltime_is_null_time(icalperiod.end) ) {
           QDateTime period_end = readICalDateTime(icalperiod.end);
-          freebusy->addPeriod( period_start, period_end );
+          periods.append( Period(period_start, period_end) );
         } else {
           Duration duration = readICalDuration( icalperiod.duration );
-          freebusy->addPeriod( period_start, duration );
+          periods.append( Period(period_start, duration) );
         }
         break;}
 
@@ -1052,6 +1053,7 @@
     }
     p = icalcomponent_get_next_property(vfreebusy,ICAL_ANY_PROPERTY);
   }
+  freebusy->addPeriods( periods );
 
   return freebusy;
 }
Index: libkcal/htmlexport.cpp
===================================================================
--- libkcal/htmlexport.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkcal/htmlexport.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -223,6 +223,10 @@
   *ts << "    <th class=\"sum\">" << i18n("Start Time") << "</th>\n";
   *ts << "    <th>" << i18n("End Time") << "</th>\n";
   *ts << "    <th>" << i18n("Event") << "</th>\n";
+  if ( mSettings->eventLocation() ) {
+    *ts << "    <th>" << i18n("Location") << "</th>\n";
+    ++columns;
+  }
   if ( mSettings->eventCategories() ) {
     *ts << "    <th>" << i18n("Categories") << "</th>\n";
     ++columns;
@@ -285,6 +289,12 @@
   }
   *ts << "    </td>\n";
 
+  if ( mSettings->eventLocation() ) {
+    *ts << "  <td>\n";
+    formatLocation( ts, event );
+    *ts << "  </td>\n";
+  }
+
   if ( mSettings->eventCategories() ) {
     *ts << "  <td>\n";
     formatCategories( ts, event );
@@ -346,6 +356,10 @@
     *ts << "    <th>" << i18n("Due Date") << "</th>\n";
     ++columns;
   }
+  if ( mSettings->taskLocation() ) {
+    *ts << "    <th>" << i18n("Location") << "</th>\n";
+    ++columns;
+  }
   if ( mSettings->taskCategories() ) {
     *ts << "    <th>" << i18n("Categories") << "</th>\n";
     ++columns;
@@ -451,6 +465,14 @@
     *ts << "  </td>\n";
   }
 
+  if ( mSettings->taskLocation() ) {
+    *ts << "  <td";
+    if (completed) *ts << " class=\"done\"";
+    *ts << ">\n";
+    formatLocation(ts,todo);
+    *ts << "  </td>\n";
+  }
+
   if ( mSettings->taskCategories() ) {
     *ts << "  <td";
     if (completed) *ts << " class=\"done\"";
@@ -502,6 +524,15 @@
   return false;
 }
 
+void HtmlExport::formatLocation (QTextStream *ts,Incidence *event)
+{
+  if (!event->location().isEmpty()) {
+    *ts << "    " << cleanChars(event->location()) << "\n";
+  } else {
+    *ts << "    &nbsp;\n";
+  }
+}
+
 void HtmlExport::formatCategories (QTextStream *ts,Incidence *event)
 {
   if (!event->categoriesStr().isEmpty()) {
Index: libkcal/htmlexportsettings.kcfg
===================================================================
--- libkcal/htmlexportsettings.kcfg	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkcal/htmlexportsettings.kcfg	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -78,6 +78,10 @@
       <default code="true">i18n("Calendar")</default>
     </entry>
 
+    <entry type="Bool" name="EventLocation" key="Export Location">
+      <label>Export location of the events</label>
+      <default>true</default>
+    </entry>
     <entry type="Bool" name="EventCategories" key="Export Categories">
       <label>Export categories of the events</label>
       <default>true</default>
@@ -103,6 +107,10 @@
       <label>Export due dates of the to-dos</label>
       <default>true</default>
     </entry>
+    <entry type="Bool" name="TaskLocation" key="Export Location">
+      <label>Export location of the to-dos</label>
+      <default>true</default>
+    </entry>
     <entry type="Bool" name="TaskCategories" key="Export Categories">
       <label>Export categories of the to-dos</label>
       <default>true</default>
Index: libkcal/period.cpp
===================================================================
--- libkcal/period.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkcal/period.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -45,6 +45,12 @@
   mHasDuration = true;
 }
 
+
+bool Period::operator<( const Period& other )
+{
+  return start() < other.start();
+}
+
 QDateTime Period::start() const
 {
   return mStart;
Index: libkcal/htmlexport.h
===================================================================
--- libkcal/htmlexport.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkcal/htmlexport.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -69,17 +69,18 @@
     void createFreeBusyView( QTextStream *ts );
 
     void createTodo( QTextStream *ts, Todo *todo);
-    void createEvent( QTextStream *ts, Event *event, QDate date, 
+    void createEvent( QTextStream *ts, Event *event, QDate date,
                       bool withDescription = true);
     void createFooter( QTextStream *ts );
 
     bool checkSecrecy( Incidence * );
 
+    void formatLocation( QTextStream *ts, Incidence *event );
     void formatCategories( QTextStream *ts, Incidence *event );
     void formatAttendees( QTextStream *ts, Incidence *event );
- 
+
     QString breakString( const QString &text );
-    
+
     QDate fromDate() const;
     QDate toDate() const;
     QString styleSheet() const;
Index: libkcal/incidence.cpp
===================================================================
--- libkcal/incidence.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkcal/incidence.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -668,7 +668,7 @@
 QString Incidence::statusName(Incidence::Status status)
 {
   switch (status) {
-    case StatusTentative:    return i18n("Tentative");
+    case StatusTentative:    return i18n("incidence status", "Tentative");
     case StatusConfirmed:    return i18n("Confirmed");
     case StatusCompleted:    return i18n("Completed");
     case StatusNeedsAction:  return i18n("Needs-Action");
Index: libkcal/period.h
===================================================================
--- libkcal/period.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkcal/period.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -39,6 +39,9 @@
     Period( const QDateTime &start, const QDateTime &end );
     Period( const QDateTime &start, const Duration &duration );
 
+    /** Returns true if this element is smaller than the @param other one */
+    bool operator<( const Period& other );
+
     QDateTime start() const;
     QDateTime end() const;
     Duration duration();
Index: libkcal/attendee.cpp
===================================================================
--- libkcal/attendee.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ libkcal/attendee.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -80,7 +80,7 @@
       return i18n("Declined");
       break;
     case Tentative:
-      return i18n("Tentative");
+      return i18n("attendee status", "Tentative");
       break;
     case Delegated:
       return i18n("Delegated");
Index: kpilot/conduits/sysinfoconduit/sysinfo_conduit.desktop
===================================================================
--- kpilot/conduits/sysinfoconduit/sysinfo_conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/conduits/sysinfoconduit/sysinfo_conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -21,6 +21,7 @@
 Comment[it]=QUesto conduit scrive in un file informazioni sul tuo palmare.
 Comment[ja]=このコンジットはあなたのハンドヘルドの情報を書き出し、ファイルに同期します。
 Comment[nb]=Denne kanalen skriver informasjon om PDA-en og synkroniseringen til en fil.
+Comment[nds]=De Kanaal schrifft Informatschonen över den Handreekner un de Synkroniseren na en Datei.
 Comment[nl]=Dit conduit slaat informatie over uw handheld en de synchronisatie op in een bestand.
 Comment[nn]=Denne koplinga skriv informasjon om den handheldte eininga di og synkroniseringa til ei fil.
 Comment[pl]=Ten łącznik zapisuje informacje o twoim palmtopie i przebiegu synchronizacji do pliku.
@@ -36,7 +37,6 @@
 Comment[tg]=Канали таҳвили иттилооти системавӣ аз Pilot ва қайдкунӣ ба файл
 Comment[tr]=Bu bileşen, el bilgisayarınızın bilgilerini bir dosyaya yazar.
 Comment[uk]=Цей акведук записує інформацію про кишеньковий пристрій і синхронізацію у файл.
-Comment[xx]=xxThis conduit writes information about your handheld and the sync to a file.xx
 Comment[zh_CN]=此管道写入您手持设备的信息，并同步至一文件。
 Name=System Information
 Name[be]=Сыстэмная інфармацыя
@@ -62,6 +62,7 @@
 Name[ja]=システム情報
 Name[lt]=Sistemos informacija
 Name[nb]=Systeminformasjon
+Name[nds]=Systeem-Informatschoon
 Name[nl]=Systeeminformatie
 Name[nn]=Systeminformasjon
 Name[pl]=Informacja systemowa
@@ -80,7 +81,6 @@
 Name[tr]=Sistem Bilgisi
 Name[uk]=Системна інформація
 Name[uz]=Тизим ҳақида маълумот
-Name[xx]=xxSystem Informationxx
 Name[zh_CN]=系统信息
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/notepadconduit/notepad-conduit.desktop
===================================================================
--- kpilot/conduits/notepadconduit/notepad-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/conduits/notepadconduit/notepad-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -17,7 +17,6 @@
 Name[sv]=Anteckningar
 Name[ta]=நோட்பேட்
 Name[tg]=Эзоҳот
-Name[xx]=xxNotePadxx
 Name[zh_CN]=记事本
 Comment=This conduit backs up NotePad drawings to a local folder.
 Comment[bg]=Създаване на архивни копия на изображенията създадени с NotePad в локална директория.
@@ -32,8 +31,10 @@
 Comment[hu]=Bővítőmodul NotePad-rajzok helyi könyvtárba való lementéséhez.
 Comment[is]=Þessi rás afritar NotePad teikningar í staðbundna möppu.
 Comment[it]=Questo conduit archivia i disegni NotePad drawings in una cartella locale.
+Comment[ja]=このコンジットは NotePad の絵をローカルのフォルダにバックアップする。
 Comment[lt]=Šis kanalas padaro NotePad piešinių atsargines kopijas į vietinį aplanką.
 Comment[nb]=Denne kanalen tar sikkerhetskopi av NotePad tegninger til en lokal mappe.
+Comment[nds]=Sekert NotePad-Teken binnen en lokaal Orner.
 Comment[nl]=Dit conduit maakt een backup van de notitie-aantekeningen naar een lokale map.
 Comment[pl]=Ten łącznik robi kopię zapasową rysunków z Notatnika do lokalnego katalogu.
 Comment[pt]=Esta conduta salvaguarda desenhos NotePad para uma pasta local.
@@ -46,7 +47,6 @@
 Comment[ta]=இது நோட்பேடின் வரைபடங்களை உள்ளடைவுக்கு சேமிக்கிறது
 Comment[tr]=Bu bileşen, NotePad çizimlerini yerel bir dosyaya aktarır veya alır.
 Comment[uk]=Цей акведук створює резервну копію нотаток у локальній теці.
-Comment[xx]=xxThis conduit backs up NotePad drawings to a local folder.xx
 Comment[zh_CN]=此管道将记事本的绘图保存到本地文件夹。
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/memofileconduit/memofile-conduit.desktop
===================================================================
--- kpilot/conduits/memofileconduit/memofile-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/conduits/memofileconduit/memofile-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -14,8 +14,10 @@
 Name[hu]=Memófájl
 Name[is]=Minnismiðaskrá
 Name[it]=File appunti
+Name[ja]=メモファイル
 Name[lt]=Memo byla
 Name[nb]=Notatfil
+Name[nds]=Notiz-Datei
 Name[nl]=Memobestand
 Name[nn]=Memofil
 Name[pl]=Plik notatki
@@ -27,7 +29,6 @@
 Name[ta]=மெமோ கோப்பு
 Name[tr]=Hatırlatma Dosyası
 Name[uk]=Файл примітки
-Name[xx]=xxMemo Filexx
 Name[zh_CN]=备忘文件
 Comment=This conduit syncs your handheld memos with a local directory.
 Comment[bg]=Синхронизация на бележките на КДЕ с мобилни устройства.
@@ -42,8 +43,10 @@
 Comment[hu]=Ezzel a csatolóval egy kézi számítógép memóit lehet szinkronizálni a helyi címjegyzékkel.
 Comment[is]=Þessi rás samstillir minnismiða lófatölvunnar þinnar við staðbundna möppu.
 Comment[it]=Questo condotto sincronizza gli appunti del tuo palmare con una cartella locale.
+Comment[ja]=このコンジットはハンドヘルドのメモとローカルのディレクトリを同期させます。
 Comment[lt]=Šis kanalas sinchronizuoja Jūsų užrašus su vietiniu aplanku.
 Comment[nb]=Denne kanalen synkroniserer PDA-ens notater med en lokal mappe.
+Comment[nds]=Synkroniseert de Notizen op den Handreekner mit en lokaal Orner.
 Comment[nl]=Dit conduit synchroniseert de memo's van uw handheld met een lokale map.
 Comment[pl]=Ten łącznik synchronizuje notatki z palmtopa z lokalnym katalogiem.
 Comment[pt]=Esta conduta sincroniza os memorandos do seu PDA com uma pasta local.
@@ -56,7 +59,6 @@
 Comment[ta]=இந்த குழாய் கையில் உள்ள முகவரிப்புத்தகத்தை கேடிஇயின் முகவரிப்புத்தகத்தோடு ஒத்திசைக்கிறது
 Comment[tr]=Bu bileşen el bilgisayarı hatırlatmalarını yerel bir dosyaya aktarır veya alır.
 Comment[uk]=Цей акведук синхронізує примітки кишенькового пристрою з локальним каталогом.
-Comment[xx]=xxThis conduit syncs your handheld memos with a local directory.xx
 Comment[zh_CN]=此管道会将您手持设备中的备忘与本地目录同步。
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/timeconduit/time_conduit.desktop
===================================================================
--- kpilot/conduits/timeconduit/time_conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/conduits/timeconduit/time_conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -21,6 +21,7 @@
 Comment[it]=Questo conduit imposta l'ora sul tuo palmare prendendola dall'orologio del PC
 Comment[ja]=このコンジットはハンドヘルドの時間をPCの時間に合わせます。
 Comment[nb]=Denne kanalen stiller klokka på PDA-en fra PC-klokka.
+Comment[nds]=Synkroniseert stellt Handreekner-Klock na de PC-Klock.
 Comment[nl]=Dit conduit stelt de tijd van uw handheld in aan de hand van de pc-klok.
 Comment[nn]=Denne koplinga set tida på den handheldte eininga di frå PC-klokka.
 Comment[pl]=Ten łącznik ustawia zegar na palmtopie zgodnie z zegarem komputera.
@@ -36,7 +37,6 @@
 Comment[tg]=Канали синзронизатсияи муддат
 Comment[tr]=Bu bileşen, el bilgisayarınızın saatini PC saatine bakarak ayarlar.
 Comment[uk]=Цей акведук синхронізує час у кишеньковому пристрої з часом комп'ютера.
-Comment[xx]=xxThis conduit sets the time on your handheld from the PC clock.xx
 Comment[zh_CN]=此管道把您手持设备的时间与电脑同步。
 Name=Time Synchronization
 Name[be]=Сынхранізацыя часу
@@ -61,6 +61,7 @@
 Name[ja]=時間同期
 Name[lt]=Laiko sinchronizavimas
 Name[nb]=Tidsynkronisering
+Name[nds]=Tietsynkroniseren
 Name[nl]=Tijdsynchronisatie
 Name[nn]=Tidsynkronisering
 Name[pl]=Synchronizacja czasu
@@ -77,7 +78,6 @@
 Name[tg]=Синхронизатсияи муддат
 Name[tr]=Zaman Senkronizasyonu
 Name[uk]=Синхронізація часу
-Name[xx]=xxTime Synchronizationxx
 Name[zh_CN]=时间同步
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/perlconduit/perl-conduit.desktop
===================================================================
--- kpilot/conduits/perlconduit/perl-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/conduits/perlconduit/perl-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -20,6 +20,7 @@
 Name[ja]=Perl (例)
 Name[lt]=Perl (pavyzdys)
 Name[nb]=Perl (prøve)
+Name[nds]=Perl (Bispeel)
 Name[nl]=Perl (voorbeeld)
 Name[nn]=Perl (prøve)
 Name[pl]=Perl (Przykład)
@@ -36,7 +37,6 @@
 Name[tg]=Perl (намуна)
 Name[tr]=Perl (Örnek)
 Name[uk]=Perl (зразок)
-Name[xx]=xxPerl (Sample)xx
 Name[zh_CN]=Perl (例子)
 Comment=This sample conduit runs a Perl interpreter.
 Comment[bg]=Пример за изпълнение на интерпретатора на Perl
@@ -56,6 +56,7 @@
 Comment[ja]=このサンプルはPerlインタープリタを実行します。
 Comment[lt]=Šis pavyzdinis kanalas vykdo Perl interpretatorių.
 Comment[nb]=Denne kanalen kjører en Perl tolker.
+Comment[nds]=Disse Bispeelkanaal start en Perl-Interpreter
 Comment[nl]=Dit voorbeeld-conduit start een Perl-interpreteerder.
 Comment[nn]=Denne kanalen køyrer ein Perl-tolkar.
 Comment[pl]=Ten przykładowy łącznik uruchamia interpreter Perla.
@@ -71,7 +72,6 @@
 Comment[tg]=Канали ба кор андозии ҳуруфотҳои Perl.
 Comment[tr]=Bu bileşen, bir Perl yorumlayıcısını çalıştırır.
 Comment[uk]=Цей акведук запускає інтерпретатор Perl.
-Comment[xx]=xxThis sample conduit runs a Perl interpreter.xx
 Comment[zh_CN]=此示例管道运行 Perl 解释器。
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/docconduit/kpalmdoc.desktop
===================================================================
--- kpilot/conduits/docconduit/kpalmdoc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/conduits/docconduit/kpalmdoc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -5,7 +5,6 @@
 Name[hi]=के-पॉम-डॉक
 Name[sv]=Kpalm DOC
 Name[ta]=கேகைdoc
-Name[xx]=xxKPalmDOCxx
 GenericName=PalmDOC Converter
 GenericName[bg]=Конвертиране на PalmDOC
 GenericName[bs]=PalmDOC konverter
@@ -29,6 +28,7 @@
 GenericName[ja]= PalmDOC コンバータ
 GenericName[lt]=PalmDOC konverteris
 GenericName[nb]=PalmDOC-konvertering
+GenericName[nds]=PalmDOC-Ümwanneln
 GenericName[nl]=PalmDOC-conversie
 GenericName[nn]=PalmDOC-omformar
 GenericName[pl]=Konwerter formatu PalmDOC
@@ -45,7 +45,6 @@
 GenericName[tg]=Конвертёри PalmDOC
 GenericName[tr]=PalmDOC Çevirici
 GenericName[uk]=Перетворювач PalmDOC
-GenericName[xx]=xxPalmDOC Converterxx
 GenericName[zh_CN]=PalmDOC 转换器
 Exec=kpalmdoc
 Icon=kpalmdoc
Index: kpilot/conduits/docconduit/doc_conduit.desktop
===================================================================
--- kpilot/conduits/docconduit/doc_conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/conduits/docconduit/doc_conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -15,8 +15,10 @@
 Comment[hu]=Szöveges fájlok hozzáadása a kézi számítógéphez, DOC-olvasók számára.
 Comment[is]=Bætir textaskrám, sem hægt er að lesa í DOC lesara, við lófatölvuna þína.
 Comment[it]=Aggiunge file di testo al tuo Pilot, adatti per lettori DOC.
+Comment[ja]=テキストファイルを DOC リーダに適した形式でハンドヘルドに追加する。
 Comment[lt]=Prideda teksto bylas prie Jūsų nešiojamos knygelės, tinka DOC skaityklėms.
 Comment[nb]=Legger til tekstfiler på PDA-en, som passer for DOC-lesere.
+Comment[nds]=Föögt Textdateien op den Handreekner to, de för DOC-Kiekers passt.
 Comment[nl]=Voegt tekstvelden toe aan uw handheld, geschikt voor DOC-lezers.
 Comment[nn]=Legg til tekstfiler på den handhaldne, passar til DOC-lesarar.
 Comment[pl]=Dodaje pliki tekstowe do Twojego palmtopa, w postaci odpowiedniej dla przeglądarek DOC.
@@ -30,16 +32,15 @@
 Comment[ta]=DOC  படிப்பவர்களுக்கு பொருத்தமான உங்கள் பைலட்டுக்குரிய உரை கோப்புகளை சேர்க்கும்
 Comment[tr]=Metin dosyalarını el bilgisayarınıza ekler, DOC biçimi okuyucuları için uygundur.
 Comment[uk]=Додає текстові файли до вашого кишенькового пристрою так, що вони читатимуться у переглядачах DOC.
-Comment[xx]=xxAdds text files to your handheld, suitable for DOC readers.xx
 Comment[zh_CN]=将文本文件添加到您的手持设备中，以便适合 DOC 阅读程序。
 Name=Palm DOC
 Name[ca]=DOC de Palm
 Name[cy]=DOC Palm
 Name[de]=Palm-DOC
 Name[hi]=पॉम डॉक
+Name[nds]=Palm-DOC
 Name[pt]=DOC do Palm
 Name[ta]=பாம் ஆவணம்
-Name[xx]=xxPalm DOCxx
 Implemented=file
 ServiceTypes=KPilotConduit
 X-KDE-Library=conduit_doc
Index: kpilot/conduits/malconduit/mal_conduit.desktop
===================================================================
--- kpilot/conduits/malconduit/mal_conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/conduits/malconduit/mal_conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,6 +23,7 @@
 Name[lt]=MAL (AvantGo) kanalas
 Name[mk]=МAL (AvantGo) спој
 Name[nb]=MAL (AvantGo) kanal
+Name[nds]=MAL(AvantGo)-Synkroniseren
 Name[nn]=MAL-kopling (AvantGo)
 Name[nso]=Conduit ya MAL (AvantGo)
 Name[pl]=Łącznik do MAL (AvantGo)
@@ -39,7 +40,6 @@
 Name[tg]=Канали MAL (AvantGo)
 Name[tr]=MAL (AvantGo) Kanalı
 Name[uk]=Акведук MAL (AvantGo)
-Name[xx]=xxMAL (AvantGo) Conduitxx
 Name[zh_CN]=MAL (AvantGo) 管道
 Comment=Syncronize AvantGo (or generally a MAL server's content) to the handheld. This allows you to view web-pages offline on the handheld, like your cinema or TV schedule, or any other web page.
 Comment[bg]=Синхронизиране на AvantGo към мобилно устройство. Тази приставка Ви позволява да разглеждате уеб страници без връзка с Мрежата.
@@ -55,8 +55,10 @@
 Comment[hu]=AvantGo (vagy MAL-kiszolgáló) adatainak szinkronizálása a kézi számítógéppel. Lehetővé teszi weboldalak offline módban való megtekintését, például a mozi- vagy tévéműsort, vagy bármi mást.
 Comment[is]=Samstillir AvantGo (eða venjulega innihald MAL þjóns) við lófatölvuna. Þetta gerir þér kleyft að skoða vefsíður þegar þú ert ótengd(ur) vefnum, t.d. kvikmynda eða sjónvarpsdagskrá.
 Comment[it]=Sincronizza AvantGo (o il contenuto di un generico server MAL) con il palmare. In questo modo potrai visualizzare le pagine web offline sul palmare come per esempio la programmazione di un cinema o una TV o qualsiasi altra pagina web.
+Comment[ja]=AvantGo (又は一般に MAL サーバのコンテンツ) をハンドヘルドと同期させる。これにより、ハンドヘルドで、映画や TV 番組表や他のウェブページのようなウェブページをオフラインで閲覧可能になる。
 Comment[lt]=Sinchronizuoti AvantGo (ar MAL serverio turinį apskritai) su nešiojamu įrenginiu. Tai leis jums peržiūrėti žiniatinklio puslapius nešiojamame įrenginyje, tokius kaip kino teatro ar TV programas, bei bet kokį kitą puslapį, neprisijungus prie Interneto.
 Comment[nb]=Synkroniser AvantGo (eller generelt innholdet i en MAL-tjener) til PDA-en. På denne måten kan du se nettsider frakoblet på PDA-en. slik som TV-programlister, kinoprogrammer eller andre nettsider.
+Comment[nds]=Synkroniseert den Inholt vun AvantGo oder jichtenseen anner MAL-Server ("Mobile Application Link") mit den Handreekner. So kannst Du Nettsieden ahn Verbinnen op den Handreekner ankieken, t.B. dat Kino- oder Feernsehprogramm.
 Comment[nl]=Avantgo met de handheld synchroniseren (of eigenlijk met de inhoud van een MAL-server). Dit maakt het mogelijk om een webpagina offline op uw handheld te bekijken. Dit is handig voor allerlei zaken als bijvoorbeeld de TV-gids.
 Comment[pl]=Synchronizuje AvantGo (lub ogólnie zawartość serwera MAL) z palmtopem. Pozwala to przeglądać bez połączenia z siecią strony WWW na palmtopie, np. repertuar kin lub program telewizyjny.
 Comment[pt]=Sincroniza o AvantGo (ou, genericamente, o conteúdo de um servidor de MAL) para o dispositivo móvel. Isto permite-lhe ver as páginas Web no dispositivo móvel sem estar ligado, como o seu horário de cinema ou TV ou ainda qualquer outra página Web.
@@ -69,7 +71,6 @@
 Comment[ta]=AvantGoஐ கையில் வைத்திருப்பதில் கூட்டிணைக்கவும் (அல்லது ஒரு MAL சேவகனின் உள்ளடக்கத்திற்கு). இதன்மூலம் கையில் இருப்பதிலேயே  வலைப்பக்கங்களை பார்க்கலாம், அதாவது சினிமா, தொலைக்காட்டி அட்டவ்ணை, அல்லது ஏதாவது ஒரு வலைப்பக்கம்.
 Comment[tr]=AvantGo içeriğini (ya da genel olarak MAL sunucuları içeriğini) el bilgisayarı ile birleştirir. Bu, web sayfalarını el bilgisayarınızda çevirim dışı olarak görüntülemenizi sağlar.
 Comment[uk]=Синхронізація AvantGo (або вміст серверів MAL) на кишеньковий пристрій . Це дозволяє переглядати веб-сторінки на кишеньковому пристрої без з'єднання з Інтернетом.
-Comment[xx]=xxSyncronize AvantGo (or generally a MAL server's content) to the handheld. This allows you to view web-pages offline on the handheld, like your cinema or TV schedule, or any other web page.xx
 Comment[zh_CN]=将 AvantGo(或 MAL 服务器的内容)同步到手持设备中。这允许您在手持设备中脱机查看 Web 页，比如影讯、电视节目时间表或任何其它网页。
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/popmail/popmail-conduit.desktop
===================================================================
--- kpilot/conduits/popmail/popmail-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/conduits/popmail/popmail-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -15,8 +15,10 @@
 Comment[hu]=Ezzel a csatolóval kézi számítógépről lehet levelet küldeni a KMailen keresztül.
 Comment[is]=Sendu tölvupóst frá lófatölvunni þinni gegnum KMail.
 Comment[it]=Invia la posta dal tuo palmare tramite KMail.
+Comment[ja]=KMail 経由ハンドヘルドからメールを送信
 Comment[lt]=Siųsti paštą iš nešiojamo įrenginio per KMail.
 Comment[nb]=Send e-post fra PDA-en gjennom KMail.
+Comment[nds]=Nettbreven vun Dien Handreekner över KMail afsennen
 Comment[nl]=Dit conduit verzendt mail van uw handheld met behulp van KMail.
 Comment[pl]=Wysyła pocztę z palmtopa za pomocą KMail.
 Comment[pt]=Enviar e-mail do seu dispositivo móvel através do KMail.
@@ -29,7 +31,6 @@
 Comment[ta]=இந்த காப்புக்குழாய் உங்கள் கையேட்டில் இருந்து தேதி புத்தகத்தை கேஅமைபாளருக்கு ஒத்திசைக்கிறது
 Comment[tr]=El bilgisayarınızdan KMail aracılığı ile e-posta gönderir.
 Comment[uk]=Відсилання пошти з кишенькового пристрою через KMail.
-Comment[xx]=xxSend mail from your handheld through KMail.xx
 Comment[zh_CN]=通过 KMail 从您的手持设备发送邮件。
 Name=Mail
 Name[be]=Пошта
@@ -55,6 +56,7 @@
 Name[ja]=メール
 Name[lt]=Paštas
 Name[nb]=E-post
+Name[nds]=Nettpost
 Name[nl]=E-mail
 Name[nn]=E-post
 Name[pa]=ਪੱਤਰ
@@ -74,7 +76,6 @@
 Name[tr]=Posta
 Name[uk]=Пошта
 Name[uz]=Хат-хабар
-Name[xx]=xxMailxx
 Name[zh_CN]=邮件
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/knotes/knotes-conduit.desktop
===================================================================
--- kpilot/conduits/knotes/knotes-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/conduits/knotes/knotes-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -22,6 +22,7 @@
 Comment[ja]=このコンジットはKNotes とメモ帳を同期させます。
 Comment[lt]=Šis kanalas sinchronizuoja Memo Pad programą su KNotes.
 Comment[nb]=Denne kanalen synkroniserer notatblokk-programmet med KNotes.
+Comment[nds]=Synkroniseert dat Palm-Programm "Memo Pad" mit KNotes.
 Comment[nl]=Dit conduit synchroniseert de Memo Pad met KNotes.
 Comment[nn]=Denne koplinga synkroniserer «Memo Pad»-applikasjonen med KNotes.
 Comment[pl]=Ten łącznik synchronizuje program Memo Pad palmtopa z KNotes (notatkami).
@@ -38,7 +39,6 @@
 Comment[tg]=Канали синхронизатсияи қайдоти Pilot ва KDE.
 Comment[tr]=Bu kanal KNotes ile el bilgisayarınızı senkronize etmenize olanak sağlar
 Comment[uk]=Цей акведук синхронізує Memo Pad з тижневиком KNotes.
-Comment[xx]=xxThis conduit syncs the Memo Pad application with KNotes.xx
 Comment[zh_CN]=此管道将会将您的备忘程序与 KNotes 同步。
 Name=KNotes / Memos
 Name[be]=K Нататкі
@@ -56,6 +56,7 @@
 Name[is]=KNotes / minnisblöð
 Name[it]=KNotes / Memo
 Name[lt]=KNotes / Memo
+Name[nds]=KNotes / Notizen
 Name[nl]=KNotes / memo's
 Name[nn]=KNotes / Memoar
 Name[pl]=KNotes / Notatki
@@ -68,7 +69,6 @@
 Name[ta]=கேகுறிப்புகள்/குறிப்பாணைகள்
 Name[tg]=KNotes / Қайдот
 Name[tr]=KNotlar / Hatırlatmalar
-Name[xx]=xxKNotes / Memosxx
 Name[zh_CN]=KNotes / 备忘
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/pythonconduit/python-conduit.desktop
===================================================================
--- kpilot/conduits/pythonconduit/python-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/conduits/pythonconduit/python-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -20,6 +20,7 @@
 Name[ja]=Python (例)
 Name[lt]=Python (Pavyzdys)
 Name[nb]=Python (prøve)
+Name[nds]=Python (Bispeel)
 Name[nl]=Python (voorbeeld)
 Name[nn]=Python (prøve)
 Name[pl]=Python (Przykład)
@@ -36,7 +37,6 @@
 Name[tg]=Python (намуна)
 Name[tr]=Python (Örnek)
 Name[uk]=Python (зразок)
-Name[xx]=xxPython (Sample)xx
 Name[zh_CN]=Python (例子)
 Comment=This sample conduit runs a Python interpreter.
 Comment[bg]=Пример за изпълнение на интерпретатора на Python
@@ -56,6 +56,7 @@
 Comment[ja]=このサンプルは Python インタープリタを実行します。
 Comment[lt]=Šis pavyzdinis kanalas vykdo Python interpretatorių.
 Comment[nb]=Denne prøvekanalen kjører en Python tolker.
+Comment[nds]=Disse Bispeelkanaal start en Python-Interpreter
 Comment[nl]=Dit voorbeeld-conduit start een Python-interpreteerder.
 Comment[nn]=Denne prøvekanalen køyrer en Python-tolkar.
 Comment[pl]=Ten przykładowy łącznik uruchamia interpreter Pythona.
@@ -71,7 +72,6 @@
 Comment[tg]=Канали ба кор андозии ҳуруфотҳои Python
 Comment[tr]=Bu bileşen, bir Python yorumlayıcısını çalıştırır.
 Comment[uk]=Цей акведук запускає інтерпретатор Python.
-Comment[xx]=xxThis sample conduit runs a Python interpreter.xx
 Comment[zh_CN]=此示例管道运行 Python 解释器。
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/null/null-conduit.desktop
===================================================================
--- kpilot/conduits/null/null-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/conduits/null/null-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -7,7 +7,6 @@
 Name[sk]=NIČ
 Name[ta]=வெற்று மதிப்பு
 Name[tr]=BOŞ
-Name[xx]=xxNULLxx
 Comment=This conduit does nothing.
 Comment[bg]=Това нещо прави нищо
 Comment[bs]=Ovaj conduit ne radi ništa.
@@ -29,6 +28,7 @@
 Comment[ja]=このコンジットは未知です。
 Comment[lt]=Šis kanalas nieko neatlieka.
 Comment[nb]=Denne kanalen gjør ingenting.
+Comment[nds]=Disse Kanaal deit gor nix.
 Comment[nl]=Dit conduit doet niets.
 Comment[nn]=Denne koplinga gjer ingenting.
 Comment[pl]=Ten łącznik nic nie robi.
@@ -45,7 +45,6 @@
 Comment[tg]=Канале, ки дар ҳолати шурӯъ нест.
 Comment[tr]=Bu kanal herhangi bir işlem yapmaz.
 Comment[uk]=Цей акведук нічого не робить.
-Comment[xx]=xxThis conduit does nothing.xx
 Comment[zh_CN]=此管道不做任何事。
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/vcalconduit/todo-conduit.desktop
===================================================================
--- kpilot/conduits/vcalconduit/todo-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/conduits/vcalconduit/todo-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -9,7 +9,7 @@
 Comment[cy]=Mae'r cwndid yma yn cydamseru'r rhestr I-Wneud o'ch llawiadur i KTrefnydd.
 Comment[da]=Denne conduit synkroniserer din gøremålsliste fra din håndholdte til KOrganizer.
 Comment[de]=Abgleich der Aufgabenlisten von Taschencomputer und KOrganizer
-Comment[el]=Αυτός ο σύνδεσμος συγχρονίζει τη λίστα προς-υλοποίηση από τον υπολογιστή παλάμης σας στο KOrganizer.
+Comment[el]=Αυτός ο σύνδεσμος συγχρονίζει τη λίστα προς υλοποίηση από τον υπολογιστή παλάμης σας στο KOrganizer.
 Comment[es]=Este conducto sincroniza la lista de tareas pendientes de su agenda electrónica con KOrganizer.
 Comment[et]=See kanal sünkroniseerib pihuarvuti ja KOrganizeri ülesannete nimekirja.
 Comment[eu]=Kanal honek zure agenda elektronikoko egitekoen zerrenda KOrganizer-era sinkronizatzen du.
@@ -21,6 +21,7 @@
 Comment[it]=Questo condotto sincronizza il tuo Pilot con la lista delle cose da fare di KOrganizer.
 Comment[ja]=このコンジットはハンドヘルドの Todo と KOrganizerを同期させます。
 Comment[nb]=Denne kanalen synkroniserer gjørelista fra PDA-en til KOrganizer.
+Comment[nds]=Synkroniseert de Opgavenlist vun den Handreekner mit KOrganizer.
 Comment[nl]=Dit conduit synchroniseert de takenlijst van uw handheld met KOrganizer.
 Comment[nn]=Denne koplinga synkroniserer oppgåvelista frå den handheldte eininga di til KOrganizer.
 Comment[pl]=Ten łącznik synchronizuje listę zadań z palmtopa z KOrganizerem.
@@ -36,7 +37,6 @@
 Comment[tg]=Канали синхронизатсияи рӯйхати вазифоти Pilot ва органайзери KDE.
 Comment[tr]=Bu bileşen el bilgisayarınızdaki Yapılacaklar Listesini KOrganizer ile birleştirir.
 Comment[uk]=Цей акведук синхронізує список завдань кишенькового пристрою з тижневиком KOrganizer.
-Comment[xx]=xxThis conduit syncs the ToDo list from your handheld to KOrganizer.xx
 Comment[zh_CN]=此管道会将您的待办列表与 KOrganizer 同步。
 Name=ToDos (KOrganizer)
 Name[be]=Заданьні (K Арганізатар)
@@ -45,7 +45,7 @@
 Name[cs]=Úkoly (KOrganizer)
 Name[da]=Gøremål (KOrganizer)
 Name[de]=Aufgaben (KOrganizer)
-Name[el]=Προς υλοποίηση (KOrganizer)
+Name[el]=Προς υλοποίηση εργασίες (KOrganizer)
 Name[es]=Tareas pendientes (KOrganizer)
 Name[et]=Ülesanded (KOrganizer)
 Name[eu]=Egitekoak (KOrganizer)
@@ -57,6 +57,7 @@
 Name[it]=Cose da fare (KOrganizer)
 Name[lt]=Darbai (KOrganizer)
 Name[nb]=Gjøreliste (KOrganizer)
+Name[nds]=Opgaven (KOrganizer)
 Name[nl]=Taken (KOrganizer)
 Name[nn]=Oppgåveliste (KOrganizer)
 Name[pl]=Do zrobienia (Organizator)
@@ -73,7 +74,6 @@
 Name[tg]=Вазифот (KOrganizer)
 Name[tr]=Yapılacaklar (KOrganizer)
 Name[uk]=Завдання (KOrganizer)
-Name[xx]=xxToDos (KOrganizer)xx
 Name[zh_CN]=待办事项 (KOrganizer)
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/vcalconduit/vcal-conduit.desktop
===================================================================
--- kpilot/conduits/vcalconduit/vcal-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/conduits/vcalconduit/vcal-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -22,6 +22,7 @@
 Name[ja]=カレンダー (KOrganizer)
 Name[lt]=Kalendorius (KOrganizer)
 Name[nb]=Kalender (KOrganizer)
+Name[nds]=Kalenner (KOrganizer)
 Name[nl]=Agenda (KOrganizer)
 Name[nn]=Kalender (KOrganizer)
 Name[pl]=Kalendarz (Organizator)
@@ -38,7 +39,6 @@
 Name[tg]=Тақвимот (KOrganizer)
 Name[tr]=Takvim (KOrganizer)
 Name[uk]=Календар (KOrganizer)
-Name[xx]=xxCalendar (KOrganizer)xx
 Name[zh_CN]=日历 (KOrganizer)
 Comment=This conduit synchronizes your handheld with the KOrganizer datebook.
 Comment[bg]=Синхронизация на календара на мобилно устройство с организатора в КДЕ.
@@ -55,7 +55,9 @@
 Comment[hu]=Ezzel a csatolóval szinkronizálhatók a kézi számítógép és a KOrganizer dátumai.
 Comment[is]=Þessi rás samstillir lófatölvuna þína við dagbók KOrganizer.
 Comment[it]=Questo conduit sincronizza il tuo palmare con il calendario di KOrganizer.
+Comment[ja]=このコンジットはハンドヘルドと KOrganizer のデータブックを同期させます。
 Comment[nb]=Denne kanalen synkroniserer PDA-en med KOrganizers almanakk.
+Comment[nds]=Synkroniseert den Mötenkalenner vun den Handreekner mit KOrganizer.
 Comment[nl]=Dit conduit synchroniseert uw handheld met KOrganizer's datumboek.
 Comment[pl]=Ten łącznik synchronizuje palmtopa z terminarzem KOrganizera.
 Comment[pt]=Esta conduta sincroniza o seu dispositivo móvel com a agenda do KOrganizer.
@@ -68,7 +70,6 @@
 Comment[ta]=இந்த குழாய் உங்கள் பைலட்டை கேஅமைப்பாளர் தேதிபுத்தகத்துடன் ஒத்திசைக்கிறது
 Comment[tr]=Bu bileşen el bilgisayarınızı KOrganizer'daki randevu defteriyle senkronize eder.
 Comment[uk]=Цей акведук синхронізує ваш кишеньковий пристрій з тижневиком KOrganizer.
-Comment[xx]=xxThis conduit synchronizes your handheld with the KOrganizer datebook.xx
 Comment[zh_CN]=此管道会将您的手持设备与 KOrganizer 的日程安排同步。
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/abbrowserconduit/abbrowser_conduit.desktop
===================================================================
--- kpilot/conduits/abbrowserconduit/abbrowser_conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/conduits/abbrowserconduit/abbrowser_conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -22,6 +22,7 @@
 Comment[ja]=このコンジットはKOrganizer日付帳とPilotを同期させます。
 Comment[lt]=Šis kanalas sinchronizuoja nešiojamą adresų knygelę su KDE adresų knygele.
 Comment[nb]=Denne kanalen synkroniserer Pilotens adressebok med KDEs adressebok.
+Comment[nds]=Synkroniseert de Adressböker vun Handreekners un KDE.
 Comment[nl]=Dit conduit synchroniseert uw handheld met KDE's adresboek.
 Comment[nn]=Denne koplinga synkroniserer den handheldte adresseboka med med KDE-adresseboka.
 Comment[pl]=Ten łącznik synchronizuje książkę adresową palmtopa z książką adresową KDE.
@@ -37,7 +38,6 @@
 Comment[tg]=Канали синхронизатсияи китоби адресии Pilot ва KDE.
 Comment[tr]=Bu bileşen el bilgisayarı adres defteri ile KDE'ninkini birleştirir.
 Comment[uk]=Цей акведук синхронізує адресну книгу кишенькового пристрою з адресною книгою KDE.
-Comment[xx]=xxThis conduit syncs the handheld addressbook with KDE's addressbook.xx
 Comment[zh_CN]=此管道会将您的手持设备与 KDE 的地址簿同步。
 Name=Addressbook
 Name[ar]=دفتر العناوين
@@ -67,6 +67,7 @@
 Name[ja]=アドレス帳
 Name[lt]=Adresų knygelė
 Name[nb]=Addressebok
+Name[nds]=Adressbook
 Name[nl]=Adresboek
 Name[nn]=Adressebok
 Name[pl]=Książka adresowa
@@ -85,7 +86,6 @@
 Name[tr]=Adresdefteri
 Name[uk]=Адресна книга
 Name[uz]=Манзиллар дафтари
-Name[xx]=xxAddressbookxx
 Name[zh_CN]=地址簿
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/kpilot/kpilot_config.desktop
===================================================================
--- kpilot/kpilot/kpilot_config.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/kpilot/kpilot_config.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -32,6 +32,7 @@
 Name[ja]=KPilotの設定
 Name[lt]=Kpilot konfigūracija
 Name[nb]=KPilot oppsett
+Name[nds]=KPilot instellen
 Name[nl]=KPilot instellingen
 Name[nn]=KPilot-oppsett
 Name[pl]=konfiguracja KPilota
@@ -48,7 +49,6 @@
 Name[tg]=Танзимоти KPilot
 Name[tr]=KPilot Yapılandırması
 Name[uk]=Налаштування KPilot
-Name[xx]=xxKPilot Configurationxx
 Name[zh_CN]=KPilot 配置
 Comment=KPilot Main Configuration
 Comment[bg]=Главни настройки на KPilot
@@ -70,6 +70,7 @@
 Comment[ja]=KPilot 主要設定
 Comment[lt]=KPilot bendrasis konfigūravimas
 Comment[nb]=KPilot hovedoppsett
+Comment[nds]=Hööftinstellen för KPilot
 Comment[nl]=KPilot algemene instellingen
 Comment[nn]=KPilot hovudoppsett
 Comment[pl]=Główna konfiguracja KPilota
@@ -85,7 +86,6 @@
 Comment[tg]=Параметрҳои умумии KPilot
 Comment[tr]=KPilot Ana Yapılandırması
 Comment[uk]=Загальні параметри KPilot
-Comment[xx]=xxKPilot Main Configurationxx
 Comment[zh_CN]=KPilot 主要配置
 Keywords=kpilot,main
 Keywords[bg]=главни, настройки, мобилен, мобилни, устройство, устройства, kpilot, main
@@ -107,6 +107,7 @@
 Keywords[ja]=kpilot,主要
 Keywords[lt]=kpilot,main,pagrindinis
 Keywords[nb]=kpilot,hoved
+Keywords[nds]=KPilot,Hööft,Hööftinstellen,instellen
 Keywords[nl]=kpilot,algemeen
 Keywords[nn]=kpilot,hovud
 Keywords[pl]=kpilot,główna,konfiguracja
@@ -121,5 +122,4 @@
 Keywords[ta]=கேபைலட்,முக்கிய
 Keywords[tg]=kpilot,main,умумӣ,танзимот
 Keywords[tr]=kpilot,ana
-Keywords[xx]=xxkpilot,mainxx
 Keywords[zh_CN]=kpilot,main,主要
Index: kpilot/kpilot/kpilot.desktop
===================================================================
--- kpilot/kpilot/kpilot.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/kpilot/kpilot.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -11,7 +11,6 @@
 Name[sv]=Kpilot
 Name[ta]=கேபைலட்
 Name[ven]=Mufhufhisi wa K
-Name[xx]=xxKPilotxx
 Name[zu]=KUmshayeli webhanoyi
 GenericName=PalmPilot Tool
 GenericName[af]=Palmpilot Program
@@ -46,6 +45,7 @@
 GenericName[mk]=Алатка за Palm Pilot
 GenericName[mt]=Għodda għall-Palm Pilot
 GenericName[nb]=PalmPilot-verktøy
+GenericName[nds]=PalmPilot-Warktüüch
 GenericName[nl]=Palm Pilot-synchronisatie
 GenericName[nn]=Palm Pilot-verktøy
 GenericName[nso]=Sebereka sa PalmPilot
@@ -67,7 +67,6 @@
 GenericName[ven]=Tshishimuswa tsha mureili wa palm
 GenericName[vi]=Công cụ PalmPilot
 GenericName[xh]=Isixhobo se PalmPilot
-GenericName[xx]=xxPalmPilot Toolxx
 GenericName[zh_CN]=PalmPilot 工具
 GenericName[zh_TW]=PalmPilot 工具
 GenericName[zu]=Ithuluzi lesandla soMshayeli webhanoyi
Index: kpilot/kpilot/kpilotconduit.desktop
===================================================================
--- kpilot/kpilot/kpilotconduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/kpilot/kpilotconduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -33,6 +33,7 @@
 Comment[lv]=KPilot Ķēde
 Comment[mk]=KPilot спој
 Comment[nb]=KPilot-kanal
+Comment[nds]=KPilot-Kanaal (Synkroniseren)
 Comment[nn]=KPilot-kopling
 Comment[nso]=Conduit ya KPilot
 Comment[pl]=Łącznik KPilota
@@ -51,6 +52,5 @@
 Comment[uk]=Акведук KPilot
 Comment[ven]=Conduit ya mureili wa K
 Comment[vi]=Truyền dẫn KPilot 
-Comment[xx]=xxKPilot Conduitxx
 Comment[zh_CN]=KPilot 管道
 Comment[zu]=KUmshayeli webhanoyi Conduit
Index: kpilot/kpilot/kpilotdaemon.desktop
===================================================================
--- kpilot/kpilot/kpilotdaemon.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kpilot/kpilot/kpilotdaemon.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -19,6 +19,7 @@
 Name[lt]=KPilot tarnyba
 Name[lv]=KPilotDēmons
 Name[mk]=KPilot демон
+Name[nds]=KPilot-Dämoon
 Name[nso]=Daemon ya KPilot
 Name[pl]=demon KPilota
 Name[pt_BR]=Servidor do KPilot
@@ -31,7 +32,6 @@
 Name[ta]=கேபைலட் டெமன்
 Name[tg]=Демони KPilot
 Name[ven]=Daemon ya Mureili wa K
-Name[xx]=xxKPilotDaemonxx
 Name[zu]=KUmshayeli webhanoyi Daemon
 Exec=kpilotDaemon
 NoDisplay=true
Index: knotes/knotesnetrecv.h
===================================================================
--- knotes/knotesnetrecv.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knotes/knotesnetrecv.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -35,14 +35,17 @@
 #include <qobject.h>
 
 class QTimer;
-class QExtendedSocket;
 
+namespace KNetwork {
+    class KBufferedSocket;
+}
 
+
 class KNotesNetworkReceiver : public QObject
 {
     Q_OBJECT
 public:
-    KNotesNetworkReceiver( KExtendedSocket * );
+    KNotesNetworkReceiver( KNetwork::KBufferedSocket * );
     ~KNotesNetworkReceiver();
 
 signals:
@@ -50,15 +53,15 @@
 
 private slots:
     void slotDataAvailable();
-    void slotConnectionClosed( int );
-
     void slotReceptionTimeout();
+    void slotConnectionClosed();
+    void slotError( int err );
 
 private:
     QTimer *m_timer;       // to avoid memory and connection floods
 
     QByteArray *m_buffer;
-    KExtendedSocket *m_sock;
+    KNetwork::KBufferedSocket *m_sock;
 
     QString m_titleAddon;
 };
Index: knotes/resourcelocal.cpp
===================================================================
--- knotes/resourcelocal.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knotes/resourcelocal.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -2,7 +2,7 @@
  This file is part of KNotes.
 
  Copyright (c) 2004, Bo Thorsen <bo@sonofthor.dk>
-               2004, 2005, Michael Brade <brade@kde.org>
+               2004-2006, Michael Brade <brade@kde.org>
 
  This program is free software; you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
@@ -44,29 +44,26 @@
 
 
 
-ResourceLocal::ResourceLocal( const KConfig* config )
+ResourceLocal::ResourceLocal( const KConfig *config )
     : ResourceNotes( config ), mCalendar( QString::fromLatin1( "UTC" ) )
 {
     kdDebug(5500) << "ResourceLocal::ResourceLocal()" << endl;
     setType( "file" );
-    if ( !config )
+    mURL = KGlobal::dirs()->saveLocation( "data", "knotes/" ) + "notes.ics";
+
+    if ( config )
     {
-        kdDebug(5500) << "No config, setting default notes.ics" << endl;
-        mURL = KGlobal::dirs()->saveLocation( "data" ) + "knotes/notes.ics";
+        KURL u = config->readPathEntry( "NotesURL" );
+        if ( !u.isEmpty() )
+            mURL = u;
     }
-    else
-    {
-        mURL = config->readPathEntry( "NotesURL" );
-        if (mURL.isEmpty())
-            mURL = KGlobal::dirs()->saveLocation( "data" ) + "knotes/notes.ics";
-    }
 }
 
 ResourceLocal::~ResourceLocal()
 {
 }
 
-void ResourceLocal::writeConfig( KConfig* config )
+void ResourceLocal::writeConfig( KConfig *config )
 {
     KRES::Resource::writeConfig( config );
     config->writePathEntry( "NotesURL", mURL.prettyURL() );
@@ -99,13 +96,13 @@
     return true;
 }
 
-bool ResourceLocal::addNote( KCal::Journal* journal )
+bool ResourceLocal::addNote( KCal::Journal *journal )
 {
     mCalendar.addJournal( journal );
     return true;
 }
 
-bool ResourceLocal::deleteNote( KCal::Journal* journal )
+bool ResourceLocal::deleteNote( KCal::Journal *journal )
 {
     mCalendar.deleteJournal( journal );
     return true;
Index: knotes/knotesapp.h
===================================================================
--- knotes/knotesapp.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knotes/knotesapp.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,7 +1,7 @@
 /*******************************************************************
  KNotes -- Notes for the KDE project
 
- Copyright (c) 1997-2005, The KNotes Developers
+ Copyright (c) 1997-2006, The KNotes Developers
 
  This program is free software; you can redistribute it and/or
  modify it under the terms of the GNU General Public License
@@ -40,7 +40,6 @@
 class KGlobalAccel;
 class KXMLGUIFactory;
 class KXMLGUIBuilder;
-class KExtendedSocket;
 class KNotesAlarm;
 class KNotesResourceManager;
 
@@ -48,7 +47,11 @@
     class Journal;
 }
 
+namespace KNetwork {
+    class KServerSocket;
+}
 
+
 class KNotesApp : public QLabel, public KSessionManaged, virtual public KXMLGUIClient,
     virtual public KNotesAppIface
 {
@@ -127,7 +130,7 @@
     KNotesResourceManager *m_manager;
 
     KNotesAlarm     *m_alarm;
-    KExtendedSocket *m_listener;
+    KNetwork::KServerSocket   *m_listener;
 
     QDict<KNote>    m_noteList;
     KNoteActionList m_noteActions;
Index: knotes/knote.cpp
===================================================================
--- knotes/knote.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knotes/knote.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,7 +1,7 @@
 /*******************************************************************
  KNotes -- Notes for the KDE project
 
- Copyright (c) 1997-2005, The KNotes Developers
+ Copyright (c) 1997-2006, The KNotes Developers
 
  This program is free software; you can redistribute it and/or
  modify it under the terms of the GNU General Public License
@@ -171,6 +171,7 @@
     m_tool = static_cast<KToolBar*>(factory.container( "note_tool", this ));
     m_tool->setIconSize( 10 );
     m_tool->setFixedHeight( 16 );
+    m_tool->setIconText( KToolBar::IconOnly );
 
     // if there was just a way of making KComboBox adhere the toolbar height...
     QObjectList *list = m_tool->queryList( "KComboBox" );
@@ -283,16 +284,6 @@
     height = m_config->height();
     resize( width, height );
 
-    if ( m_config->keepAbove() )
-        m_keepAbove->setChecked( true );
-    else if ( m_config->keepBelow() )
-        m_keepBelow->setChecked( true );
-    else
-    {
-        m_keepAbove->setChecked( false );
-        m_keepBelow->setChecked( false );
-    }
-
     // let KWin do the placement if the position is illegal--at least 10 pixels
     // of a note need to be visible
     const QPoint& position = m_config->position();
@@ -351,6 +342,17 @@
     m_readOnly->setChecked( m_config->readOnly() );
     slotUpdateReadOnly();
 
+    if ( m_config->keepAbove() )
+        m_keepAbove->setChecked( true );
+    else if ( m_config->keepBelow() )
+        m_keepBelow->setChecked( true );
+    else
+    {
+        m_keepAbove->setChecked( false );
+        m_keepBelow->setChecked( false );
+    }
+    slotUpdateKeepAboveBelow();
+
     // HACK: update the icon color - again after showing the note, to make kicker aware of the new colors
     KIconEffect effect;
     QPixmap icon = effect.apply( kapp->icon(), KIconEffect::Colorize, 1, m_config->bgColor(), false );
@@ -369,10 +371,11 @@
 void KNote::slotKill( bool force )
 {
     if ( !force &&
-         KMessageBox::warningContinueCancel( this,
-            i18n("<qt>Do you really want to delete note <b>%1</b>?</qt>")
-                .arg( m_label->text() ),
-            i18n("Confirm Delete"), KGuiItem( i18n("&Delete"), "editdelete") )
+         KMessageBox::warningContinueCancel( this, 
+             i18n("<qt>Do you really want to delete note <b>%1</b>?</qt>").arg( m_label->text() ),
+             i18n("Confirm Delete"), KGuiItem( i18n("&Delete"), "editdelete" ),
+             "ConfirmDeleteNote"
+         )
          != KMessageBox::Continue )
     {
         return;
@@ -622,9 +625,11 @@
     actionCollection()->action( "insert_date" )->setEnabled( !readOnly );
     actionCollection()->action( "delete_note" )->setEnabled( !readOnly );
 
-    // TODO: replace the menu
+    actionCollection()->action( "edit_undo" )->setEnabled( !readOnly && m_editor->isUndoAvailable() );
+    actionCollection()->action( "edit_redo" )->setEnabled( !readOnly && m_editor->isRedoAvailable() );
+    actionCollection()->action( "edit_cut" )->setEnabled( !readOnly && m_editor->hasSelectedText() );
+    actionCollection()->action( "edit_paste" )->setEnabled( !readOnly );
     actionCollection()->action( "edit_clear" )->setEnabled( !readOnly );
-    actionCollection()->action( "edit_paste" )->setEnabled( !readOnly );
 
     updateFocus();
 }
@@ -1226,11 +1231,15 @@
 
 void KNote::dragEnterEvent( QDragEnterEvent *e )
 {
-    e->accept( KColorDrag::canDecode( e ) );
+    if ( !m_config->readOnly() )
+        e->accept( KColorDrag::canDecode( e ) );
 }
 
 void KNote::dropEvent( QDropEvent *e )
 {
+    if ( m_config->readOnly() )
+        return;
+
     QColor bg;
     if ( KColorDrag::decode( e, bg ) )
     {
@@ -1291,6 +1300,15 @@
             return true;
         }
 
+#if KDE_IS_VERSION( 3, 5, 1 )
+        if ( ev->type() == QEvent::MouseButtonRelease )
+        {
+            NETRootInfo wm_root( qt_xdisplay(), NET::WMMoveResize );
+            wm_root.moveResizeRequest( winId(), e->globalX(), e->globalY(), NET::MoveResizeCancel );
+            return false;
+        }
+#endif
+
         if ( m_menu && ( ev->type() == QEvent::MouseButtonPress )
             && ( e->button() == RightButton ) )
         {
Index: knotes/local.desktop
===================================================================
--- knotes/local.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knotes/local.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -22,6 +22,7 @@
 Name[ja]=ローカルファイルの記録
 Name[lt]=Užrašai vietinėje byloje
 Name[nb]=Notater i lokal fil
+Name[nds]=Notizen in lokaal Datei
 Name[nl]=Notities in lokaal bestand
 Name[nn]=Notat i lokal fil
 Name[pl]=Notatki w pliku lokalnym
@@ -37,7 +38,6 @@
 Name[tg]=Хабарҳо дар файли локалӣ
 Name[tr]=Yerel Dosyadaki Notlar
 Name[uk]=Нотатки у локальному файлі
-Name[xx]=xxNotes in Local Filexx
 Name[zh_CN]=本地文件中的笔记
 X-KDE-Library=knotes_local
 Type=Service
Index: knotes/knotesnetsend.cpp
===================================================================
--- knotes/knotesnetsend.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knotes/knotesnetsend.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -2,7 +2,7 @@
  KNotes -- Notes for the KDE project
 
  Copyright (c) 2003, Daniel Martin <daniel.martin@pirack.com>
-               2004, Michael Brade <brade@kde.org>
+               2004, 2006, Michael Brade <brade@kde.org>
 
  This program is free software; you can redistribute it and/or
  modify it under the terms of the GNU General Public License
@@ -32,25 +32,26 @@
 
 #include <klocale.h>
 #include <kmessagebox.h>
-#include <ksockaddr.h>
 
 #include "knotesnetsend.h"
 
-// This comes in seconds!
-#define CONNECT_TIMEOUT 10
+#define CONNECT_TIMEOUT 10000
 
 
 KNotesNetworkSender::KNotesNetworkSender( const QString& hostname, int port )
-  : KExtendedSocket( hostname, port )
+  : KBufferedSocket( hostname, QString::number( port ) ),
+    m_note( 0 ), m_title( 0 ), m_sender( 0 ), m_index( 0 )
 {
     enableRead( false );
     enableWrite( false );
-    setBlockingMode( true );    // Recommended by documentation.
     setTimeout( CONNECT_TIMEOUT );
 
-    QObject::connect( this, SIGNAL(connectionSuccess()), SLOT(slotConnected()) );
-    QObject::connect( this, SIGNAL(connectionFailed( int )), SLOT(slotError( int )) );
-    QObject::connect( this, SIGNAL(closed( int )), SLOT(slotClosed( int )) );
+    // QObject:: prefix needed, otherwise the KStreamSocket::connect()
+    // mehtod is called!!!
+    QObject::connect( this, SIGNAL(connected( const KResolverEntry& )), 
+                            SLOT(slotConnected( const KResolverEntry& )) );
+    QObject::connect( this, SIGNAL(gotError( int )), SLOT(slotError( int )) );
+    QObject::connect( this, SIGNAL(closed()), SLOT(slotClosed()) );
     QObject::connect( this, SIGNAL(readyWrite()), SLOT(slotReadyWrite()) );
 }
 
@@ -61,14 +62,14 @@
 
 void KNotesNetworkSender::setNote( const QString& title, const QString& text )
 {
-    // TODO: support for unicode and richtext.
+    // TODO: support for unicode and rich text.
     // Mmmmmm... how to behave with such heterogeneous environment?
     // AFAIK, ATnotes does not allow UNICODE.
     m_title = title.ascii();
     m_note = text.ascii();
 }
 
-void KNotesNetworkSender::slotConnected()
+void KNotesNetworkSender::slotConnected( const KResolverEntry& )
 {
     if ( m_sender.isEmpty() )
         m_note.prepend( m_title + "\n");
@@ -84,19 +85,20 @@
 
     // If end of text reached, close connection
     if ( m_index == m_note.length() )
-        closeNow();
+        close();
 }
 
-void KNotesNetworkSender::slotError( int errorCode )
+void KNotesNetworkSender::slotError( int err )
 {
-    KMessageBox::sorry( 0, i18n("Communication error: %1").arg(
-                                strError( status(), errorCode ) ) );
-    slotClosed( 0 );
+    KMessageBox::sorry( 0, i18n("Communication error: %1")
+           .arg( errorString( static_cast<KSocketBase::SocketError>(err) ) )
+    );
+    slotClosed();
 }
 
-void KNotesNetworkSender::slotClosed( int /*state*/ )
+void KNotesNetworkSender::slotClosed()
 {
-    delete this;
+    deleteLater();
 }
 
 #include "knotesnetsend.moc"
Index: knotes/main.cpp
===================================================================
--- knotes/main.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knotes/main.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,7 +1,7 @@
 /*******************************************************************
  KNotes -- Notes for the KDE project
 
- Copyright (c) 1997-2005, The KNotes Developers
+ Copyright (c) 1997-2006, The KNotes Developers
 
  This program is free software; you can redistribute it and/or
  modify it under the terms of the GNU General Public License
Index: knotes/knotesnetrecv.cpp
===================================================================
--- knotes/knotesnetrecv.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knotes/knotesnetrecv.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -2,7 +2,7 @@
  KNotes -- Notes for the KDE project
 
  Copyright (c) 2003, Daniel Martin <daniel.martin@pirack.com>
-               2004, Michael Brade <brade@kde.org>
+               2004, 2006, Michael Brade <brade@kde.org>
 
  This program is free software; you can redistribute it and/or
  modify it under the terms of the GNU General Public License
@@ -35,8 +35,9 @@
 #include <qregexp.h>
 #include <qcstring.h>
 
-#include <kextsock.h>
-#include <ksockaddr.h>
+#include <kdebug.h>
+#include <kbufferedsocket.h>
+#include <ksocketaddress.h>
 #include <klocale.h>
 #include <kglobal.h>
 
@@ -53,8 +54,10 @@
 // Small buffer's size
 #define SBSIZE 512
 
+using namespace KNetwork;
 
-KNotesNetworkReceiver::KNotesNetworkReceiver( KExtendedSocket *s )
+
+KNotesNetworkReceiver::KNotesNetworkReceiver( KBufferedSocket *s )
   : QObject(),
     m_buffer( new QByteArray() ), m_sock( s )
 {
@@ -63,19 +66,19 @@
     // Add the remote IP or hostname and the date to the title, to help the
     // user guess who wrote it.
     m_titleAddon = QString(" [%1, %2]")
-                   .arg( m_sock->peerAddress()->nodeName() )
+                   .arg( m_sock->peerAddress().nodeName() )
                    .arg( date );
 
-    // Setup the timer
-    m_timer = new QTimer( this );
-    connect( m_timer, SIGNAL(timeout()), SLOT(slotReceptionTimeout()) );
-
     // Setup the communications
     connect( m_sock, SIGNAL(readyRead()), SLOT(slotDataAvailable()) );
-    connect( m_sock, SIGNAL(closed( int )), SLOT(slotConnectionClosed( int )) );
+    connect( m_sock, SIGNAL(closed()), SLOT(slotConnectionClosed()) );
+    connect( m_sock, SIGNAL(gotError( int )), SLOT(slotError( int )) );
+
     m_sock->enableRead( true );
 
-    // Go!
+    // Setup the timer
+    m_timer = new QTimer( this );
+    connect( m_timer, SIGNAL(timeout()), SLOT(slotReceptionTimeout()) );
     m_timer->start( MAXTIME, true );
 }
 
@@ -92,12 +95,14 @@
 
     do
     {
-        // Append to "big buffer", only if we have some space left.
+        // Append to "big buffer" only if we have some space left.
         int curLen = m_buffer->count();
 
         smallBufferLen = m_sock->readBlock( smallBuffer, SBSIZE );
-        if ( smallBufferLen > MAXBUFFER - curLen )
-            smallBufferLen = ( MAXBUFFER - curLen );   // Limit max transfer over buffer, to avoid overflow.
+
+        // Limit max transfer over buffer, to avoid overflow.
+        smallBufferLen = kMin( smallBufferLen, MAXBUFFER - curLen );
+        
         if ( smallBufferLen > 0 )
         {
             m_buffer->resize( curLen + smallBufferLen );
@@ -108,13 +113,18 @@
 
     // If we are overflowing, close connection.
     if ( m_buffer->count() == MAXBUFFER )
-        m_sock->closeNow();
+        m_sock->close();
     else
         m_timer->changeInterval( MAXTIME );
 }
 
-void KNotesNetworkReceiver::slotConnectionClosed( int /*state*/ )
+void KNotesNetworkReceiver::slotReceptionTimeout()
 {
+    m_sock->close();
+}
+
+void KNotesNetworkReceiver::slotConnectionClosed()
+{
     if ( m_timer->isActive() )
     {
         QString noteText = QString( *m_buffer ).stripWhiteSpace();
@@ -129,12 +139,14 @@
             emit sigNoteReceived( noteTitle, noteText );
     }
 
-    delete this;
+    deleteLater();
 }
 
-void KNotesNetworkReceiver::slotReceptionTimeout()
+void KNotesNetworkReceiver::slotError( int err )
 {
-    m_sock->closeNow();
+    kdWarning() << k_funcinfo
+                << m_sock->errorString( static_cast<KSocketBase::SocketError>(err) ) 
+                << endl;
 }
 
 #include "knotesnetrecv.moc"
Index: knotes/knotesapp.cpp
===================================================================
--- knotes/knotesapp.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knotes/knotesapp.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,7 +1,7 @@
 /*******************************************************************
  KNotes -- Notes for the KDE project
 
- Copyright (c) 1997-2005, The KNotes Developers
+ Copyright (c) 1997-2006, The KNotes Developers
 
  This program is free software; you can redistribute it and/or
  modify it under the terms of the GNU General Public License
@@ -38,7 +38,8 @@
 #include <kglobalaccel.h>
 #include <ksimpleconfig.h>
 #include <kwin.h>
-#include <kextsock.h>
+#include <kbufferedsocket.h>
+#include <kserversocket.h>
 
 #include <libkcal/journal.h>
 #include <libkcal/calendarlocal.h>
@@ -53,7 +54,9 @@
 
 #include "knotes/resourcemanager.h"
 
+using namespace KNetwork;
 
+
 class KNotesKeyDialog : public KDialogBase
 {
 public:
@@ -196,8 +199,8 @@
     m_alarm = new KNotesAlarm( m_manager, this );
 
     // create the socket and possibly start listening for connections
-    m_listener = new KExtendedSocket();
-    m_listener->setSocketFlags( KExtendedSocket::passiveSocket | KExtendedSocket::inetSocket );
+    m_listener = new KServerSocket();
+    m_listener->setResolutionEnabled( true );
     connect( m_listener, SIGNAL(readyAccept()), SLOT(acceptConnection()) );
     updateNetworkListener();
 
@@ -573,11 +576,13 @@
 void KNotesApp::acceptConnection()
 {
     // Accept the connection and make KNotesNetworkReceiver do the job
-    KExtendedSocket *s;
-    m_listener->accept( s );
-    KNotesNetworkReceiver *recv = new KNotesNetworkReceiver( s );
-    connect( recv, SIGNAL(sigNoteReceived( const QString &, const QString & )),
-             this, SLOT(newNote( const QString &, const QString & )) );
+    KBufferedSocket *s = static_cast<KBufferedSocket *>(m_listener->accept());
+    if ( s )
+    {
+        KNotesNetworkReceiver *recv = new KNotesNetworkReceiver( s );
+        connect( recv, SIGNAL(sigNoteReceived( const QString &, const QString & )),
+                 this, SLOT(newNote( const QString &, const QString & )) );
+    }
 }
 
 void KNotesApp::saveNotes()
@@ -660,11 +665,12 @@
 
 void KNotesApp::updateNetworkListener()
 {
-    m_listener->reset();
+    m_listener->close();
 
     if ( KNotesGlobalConfig::receiveNotes() )
     {
-        m_listener->setPort( KNotesGlobalConfig::port() );
+        m_listener->setAddress( QString::number( KNotesGlobalConfig::port() ) );
+        m_listener->bind();
         m_listener->listen();
     }
 }
Index: knotes/ChangeLog
===================================================================
--- knotes/ChangeLog	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knotes/ChangeLog	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,6 +1,42 @@
 ChangeLog for KNotes
 ====================
 
+2006/01/16  Michael Brade <brade@kde.org>
+
+    * fixed #119980: the knotes directory wasn't created in Kontact/KNotes
+    * new version number: 3.6
+
+2006/01/09  Michael Brade <brade@kde.org>
+
+    rewrote the networking code to use KNetwork:
+    * fixed #110915: KNetwork has better error reporting than the previous
+      code, now it says "connection actively refused" instead of "No such
+      file or directory"
+    * fixed #110838: this one was caused by an uninitialize variable, so it
+      wasn't reproducible
+
+2006/01/06  Michael Brade <brade@kde.org>
+
+    * fixed #103780: separate "Clear" action visually from Cut/Copy/Paste
+      since it's not doing anything with the clipboard
+    * fixed #110672: added a "Do not show again" box to the delete note dialog
+    * fixed #113223: actually set the "Keep Above/Below" bit when creating a
+      note on startup
+
+2006/01/06  Michael Brade <brade@kde.org>
+
+    * fix enabling/disabling of font and font size combos. Needed especially
+      for Kontact where the toolbar is not hidden for non-RichText notes.
+
+2006/01/04  Michael Brade <brade@kde.org>
+
+    * never show the text of the tool buttons
+    * don't accept color drops on a locked note
+
+2005/12/30  Michael Brade <brade@kde.org>
+
+    * more correct enabling of edit actions when (un)locking a note
+
 2005/09/06  Michael Brade <brade@kde.org>
 
     * make note colors in Kicker work again for new notes and on start-up.
Index: knotes/knotesui.rc
===================================================================
--- knotes/knotesui.rc	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knotes/knotesui.rc	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,6 +1,6 @@
 <!DOCTYPE kpartgui SYSTEM "kpartgui.dtd">
 
-<kpartgui name="KNotes" version="8">
+<kpartgui name="KNotes" version="9">
 
 <Menu name="note_context" noMerge="1">
     <Action name="insert_date"/>
@@ -50,6 +50,7 @@
     <Action name="edit_cut"/>
     <Action name="edit_copy"/>
     <Action name="edit_paste"/>
+    <Separator/>
     <Action name="edit_clear"/>
     <Separator/>
     <Action name="edit_select_all"/>
Index: knotes/knotes_manager.desktop
===================================================================
--- knotes/knotes_manager.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knotes/knotes_manager.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -22,6 +22,7 @@
 Name[is]=Minnismiðar
 Name[it]=Note
 Name[lt]=Užrašai
+Name[nds]=Notizen
 Name[nl]=Notities
 Name[nn]=Notat
 Name[pl]=Notatki
@@ -40,7 +41,6 @@
 Name[tr]=Notlar
 Name[uk]=Примітки
 Name[uz]=Ёзма хотира
-Name[xx]=xxNotesxx
 Name[zh_CN]=便笺
 Type=Service
 ServiceTypes=KResources/Manager
Index: knotes/knoteedit.cpp
===================================================================
--- knotes/knoteedit.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knotes/knoteedit.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -447,6 +447,8 @@
 void KNoteEdit::enableRichTextActions()
 {
     m_textColor->setEnabled( true );
+    m_textFont->setEnabled( true );
+    m_textSize->setEnabled( true );
 
     m_textBold->setEnabled( true );
     m_textItalic->setEnabled( true );
@@ -469,6 +471,8 @@
 void KNoteEdit::disableRichTextActions()
 {
     m_textColor->setEnabled( false );
+    m_textFont->setEnabled( false );
+    m_textSize->setEnabled( false );
 
     m_textBold->setEnabled( false );
     m_textItalic->setEnabled( false );
Index: knotes/knotesnetsend.h
===================================================================
--- knotes/knotesnetsend.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knotes/knotesnetsend.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -2,7 +2,7 @@
  KNotes -- Notes for the KDE project
 
  Copyright (c) 2003, Daniel Martin <daniel.martin@pirack.com>
-               2004, Michael Brade <brade@kde.org>
+               2004, 2006, Michael Brade <brade@kde.org>
 
  This program is free software; you can redistribute it and/or
  modify it under the terms of the GNU General Public License
@@ -35,22 +35,24 @@
 
 #include <qcstring.h>
 
-#include <kextsock.h>
+#include <kbufferedsocket.h>
+#include <ksocketaddress.h>
 
+using namespace KNetwork;
 
-class KNotesNetworkSender : public KExtendedSocket
+class KNotesNetworkSender : public KNetwork::KBufferedSocket
 {
     Q_OBJECT
 public:
-    KNotesNetworkSender( const QString &host, int port );
+    KNotesNetworkSender( const QString& host, int port );
 
     void setSenderId( const QString& sender );
-    void setNote( const QString &title, const QString &text );
+    void setNote( const QString& title, const QString& text );
 
 protected slots:
-    void slotConnected();
+    void slotConnected( const KResolverEntry& );
     void slotError( int );
-    void slotClosed( int );
+    void slotClosed();
 
     void slotReadyWrite();
 
Index: knotes/knotes.desktop
===================================================================
--- knotes/knotes.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knotes/knotes.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -36,6 +36,7 @@
 GenericName[mk]=Скокачки пораки
 GenericName[mt]=Noti żgħar
 GenericName[nb]=Oppsprett-notater
+GenericName[nds]=Opduk-Notizen
 GenericName[nl]=Notities
 GenericName[nn]=Oppsprettnotat
 GenericName[nso]=Ditshwao tsa Thlarogo
@@ -56,7 +57,6 @@
 GenericName[uk]=Вигулькні нотатки
 GenericName[vi]=Ghi chép Popup
 GenericName[xh]=Ivelisa iincwadana
-GenericName[xx]=xxPopup Notesxx
 GenericName[zh_CN]=弹出式记事本
 GenericName[zh_TW]=彈出式筆記本
 GenericName[zu]=Amapheshana Abhaliwe Aziphumelayo
@@ -78,7 +78,6 @@
 Name[sv]=Knotes
 Name[ta]=கேகுறிப்புகள்
 Name[th]=บันทึกช่วยจำ
-Name[xx]=xxKNotesxx
 
 X-KDE-StartupNotify=true
 X-DCOP-ServiceType=Unique

Property changes on: knotes/icons/cr16-action-knotes_delete.png
___________________________________________________________________
Name: svn:executable
   - *

Index: knotes/version.h
===================================================================
--- knotes/version.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ knotes/version.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,2 +1,2 @@
 // The version has to be a double!
-#define KNOTES_VERSION 3.5
+#define KNOTES_VERSION 3.6
Index: kontact/plugins/test/kptestplugin.desktop
===================================================================
--- kontact/plugins/test/kptestplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/test/kptestplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -33,6 +33,7 @@
 Comment[ja]=Kontact テストプラグイン
 Comment[lt]=Kontact bandymo priedas
 Comment[nb]=Kontact test-programtillegg
+Comment[nds]=Test-Moduul för Kontact
 Comment[nl]=Kontact Test-plugin
 Comment[nn]=Kontact, test-programtillegg
 Comment[pl]=Wtyczka Kontact do testowania
@@ -50,7 +51,6 @@
 Comment[tr]=Kontact Test Eklentisi
 Comment[uk]=Тестовий втулок Kontact
 Comment[uz]=Kontact учун синаш плагини
-Comment[xx]=xxKontact Test Pluginxx
 Comment[zh_CN]=Kontact Test 插件
 Name=TestPlugin
 Name[be]=Тэставае дапаўненьне
@@ -69,6 +69,7 @@
 Name[ja]=テストプラグイン
 Name[mk]=ПробенДодаток
 Name[nb]=Test-programtillegg
+Name[nds]=Testmoduul
 Name[nl]=Test-plugin
 Name[nn]=Test-programtillegg
 Name[nso]=Plugin ya Teko
@@ -87,5 +88,4 @@
 Name[tr]=Test Eklentisi
 Name[uk]=Тестовий втулок
 Name[ven]=Lingani Plugin
-Name[xx]=xxTestPluginxx
 Name[zh_CN]=Test 插件
Index: kontact/plugins/test/test_plugin.cpp
===================================================================
--- kontact/plugins/test/test_plugin.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/test/test_plugin.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -35,7 +35,7 @@
 K_EXPORT_COMPONENT_FACTORY( libkptestplugin, TestPluginFactory( "kptestplugin" ) )
 
 TestPlugin::TestPlugin(Kontact::Core *_core, const char *name, const QStringList &)
-  : Kontact::Plugin(i18n("Test"), "test", _core, _core, name)
+  : Kontact::Plugin(_core, _core, name)
 {
   setInstance(TestPluginFactory::instance());
 
Index: kontact/plugins/akregator/akregatorplugin.desktop
===================================================================
--- kontact/plugins/akregator/akregatorplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/akregator/akregatorplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -31,8 +31,10 @@
 Comment[hu]=Akregator bővítőmodul
 Comment[is]=Akregator íforrit
 Comment[it]=Plugin aKregator
+Comment[ja]=Akregator プラグイン
 Comment[lt]=Akregator priedas
 Comment[nb]=Akgregator-programtillegg
+Comment[nds]=Akregator-Moduul
 Comment[nl]=Akregatorplugin
 Comment[nn]=Akregator-programtillegg
 Comment[pl]=Wtyczka Akregatora
@@ -46,7 +48,7 @@
 Comment[ta]=Akregator சொருகுப்பொருள்
 Comment[tr]=Akregator Eklentisi
 Comment[uk]=Втулок Akregator
-Comment[xx]=xxAkregator Pluginxx
+Comment[uz]=Akregator плагини
 Comment[zh_CN]=Akregator 插件
 Name=Feeds
 Name[bg]=Новини
@@ -54,7 +56,7 @@
 Name[cs]=Kanály
 Name[da]=Kilder
 Name[de]=Nachrichten
-Name[el]=Ροές
+Name[el]=Εισροές
 Name[es]=Orígenes
 Name[et]=Kanalid
 Name[eu]=Iturriak
@@ -64,8 +66,10 @@
 Name[hu]=Hírforrások
 Name[is]=Fréttastraumar
 Name[it]=Fonti
+Name[ja]=フィード
 Name[lt]=Kanalai
 Name[nb]=Kanaler
+Name[nds]=Narichtenströöm
 Name[nn]=Kanalar
 Name[pl]=Kanały
 Name[pt]=Fontes
@@ -78,6 +82,5 @@
 Name[ta]=உள்ளீடுகள்
 Name[tr]=Haberler
 Name[uk]=Подачі
-Name[xx]=xxFeedsxx
 Name[zh_CN]=种子
 
Index: kontact/plugins/akregator/akregatorplugin3.2.desktop
===================================================================
--- kontact/plugins/akregator/akregatorplugin3.2.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/akregator/akregatorplugin3.2.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -30,8 +30,10 @@
 Comment[hu]=Akregator bővítőmodul
 Comment[is]=Akregator íforrit
 Comment[it]=Plugin aKregator
+Comment[ja]=Akregator プラグイン
 Comment[lt]=Akregator priedas
 Comment[nb]=Akgregator-programtillegg
+Comment[nds]=Akregator-Moduul
 Comment[nl]=Akregatorplugin
 Comment[nn]=Akregator-programtillegg
 Comment[pl]=Wtyczka Akregatora
@@ -45,7 +47,7 @@
 Comment[ta]=Akregator சொருகுப்பொருள்
 Comment[tr]=Akregator Eklentisi
 Comment[uk]=Втулок Akregator
-Comment[xx]=xxAkregator Pluginxx
+Comment[uz]=Akregator плагини
 Comment[zh_CN]=Akregator 插件
 Name=Feeds
 Name[bg]=Новини
@@ -53,7 +55,7 @@
 Name[cs]=Kanály
 Name[da]=Kilder
 Name[de]=Nachrichten
-Name[el]=Ροές
+Name[el]=Εισροές
 Name[es]=Orígenes
 Name[et]=Kanalid
 Name[eu]=Iturriak
@@ -63,8 +65,10 @@
 Name[hu]=Hírforrások
 Name[is]=Fréttastraumar
 Name[it]=Fonti
+Name[ja]=フィード
 Name[lt]=Kanalai
 Name[nb]=Kanaler
+Name[nds]=Narichtenströöm
 Name[nn]=Kanalar
 Name[pl]=Kanały
 Name[pt]=Fontes
@@ -77,6 +81,5 @@
 Name[ta]=உள்ளீடுகள்
 Name[tr]=Haberler
 Name[uk]=Подачі
-Name[xx]=xxFeedsxx
 Name[zh_CN]=种子
 
Index: kontact/plugins/kitchensync/kitchensync.desktop
===================================================================
--- kontact/plugins/kitchensync/kitchensync.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/kitchensync/kitchensync.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -37,6 +37,7 @@
 Comment[ja]=KitchenSync プラグイン
 Comment[lt]=KitchenSync priedas
 Comment[nb]=Programtillegg for KitchenSync
+Comment[nds]=KitchenSync-Moduul
 Comment[nl]=KitchenSync-plugin
 Comment[nn]=KitchenSync-programtillegg
 Comment[pl]=Wtyczka KitchenSync
@@ -53,7 +54,6 @@
 Comment[tg]=Модули KitchenSync
 Comment[tr]=KitchenSync Eklentisi
 Comment[uk]=Втулок KitchenSync
-Comment[xx]=xxKitchenSync Pluginxx
 Comment[zh_CN]=KitchenSync 插件
 Name=Synchronization
 Name[ar]=تزامن
@@ -80,6 +80,7 @@
 Name[ja]=同期
 Name[lt]=Sinchronizacija
 Name[nb]=Synkronisering
+Name[nds]=Synkroniseren
 Name[nl]=Sync
 Name[nn]=Synkronisering
 Name[pa]=ਸਮਕਾਲੀ
@@ -99,5 +100,4 @@
 Name[tr]=Senkronizasyon
 Name[uk]=Синхронізація
 Name[uz]=Тенглаштириш
-Name[xx]=xxSynchronizationxx
 Name[zh_CN]=同步
Index: kontact/plugins/karm/karmplugin.desktop
===================================================================
--- kontact/plugins/karm/karmplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/karm/karmplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -15,29 +15,35 @@
 
 Comment=KArm Plugin
 Comment[bg]=Приставка за KArm
+Comment[br]=Lugent KArm
 Comment[cs]=Modul KArm
 Comment[da]=KArm-plugin
 Comment[de]=KArm-Modul
+Comment[el]=Πρόσθετο του KArm
 Comment[es]=Extensión KArm
 Comment[et]=KArmi plugin
+Comment[eu]=KArm plugina
 Comment[fr]=Module pour KArm
 Comment[ga]=Breiseán KArm
 Comment[is]=KArm íforrit
 Comment[it]=Plugin KArm
+Comment[ja]=KArm プラグイン
 Comment[lt]=KArm priedas
 Comment[nb]=KArm-programtillegg
+Comment[nds]=KArm-Moduul
 Comment[nl]=KArm-plugin
 Comment[nn]=KArm-programtillegg
 Comment[pl]=Wtyczka KArm
 Comment[pt]='Plugin' KArm
 Comment[pt_BR]=Plugin do KArm
 Comment[ru]=Модуль KArm
+Comment[sl]=Vstavek KArm
 Comment[sr]=Прикључак KArm-а
 Comment[sr@Latn]=Priključak KArm-a
 Comment[sv]=Karm-insticksprogram
 Comment[tr]=KArm Eklentisi
 Comment[uk]=Втулок KArm
-Comment[xx]=xxKArm Pluginxx
+Comment[uz]=KArm плагини
 Comment[zh_CN]=KArm 插件
 
 Name=KArm
@@ -49,4 +55,3 @@
 Name[sv]=Karm
 Name[ta]=Kஅம்
 Name[xh]=KAlrm
-Name[xx]=xxKArmxx
Index: kontact/plugins/summary/kcmkontactsummary.desktop
===================================================================
--- kontact/plugins/summary/kcmkontactsummary.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/summary/kcmkontactsummary.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -26,8 +26,10 @@
 Name[hu]=Komponensek
 Name[is]=Einingar
 Name[it]=Componenti
+Name[ja]=コンポーネント
 Name[lt]=Komponentai
 Name[nb]=Komponenter
+Name[nds]=Komponenten
 Name[nl]=Componenten
 Name[nn]=Komponentar
 Name[pl]=Składniki
@@ -41,7 +43,7 @@
 Name[ta]=பகுதிகள்
 Name[tr]=Bileşenler
 Name[uk]=Компоненти
-Name[xx]=xxComponentsxx
+Name[uz]=Қисмлар
 Name[zh_CN]=组件
 Comment=General Configuration of Kontact's Summary View
 Comment[bg]=Настройка на обобщението
@@ -62,6 +64,7 @@
 Comment[ja]=Kontactの要約表示の一般的な設定
 Comment[lt]=Kontact Santraukos vaizdo bendrasis konfigūravimas
 Comment[nb]=Generelt oppsett av Kontact's sammendragsoversikt
+Comment[nds]=Allgemeen Instellen för de Översichtansicht von Kontact
 Comment[nl]=Algemene instellingen van Kontact's overzichtsweergave
 Comment[nn]=Generelt oppsett av samandragsvisinga i Kontact
 Comment[pl]=Ogólna konfiguracja widoku podsumowania w Kontact
@@ -77,5 +80,4 @@
 Comment[tg]=Танзимотҳои умумии дайджести Kontact
 Comment[tr]=Kontact'ın Özet Görünümü için Genel Yapılandırma
 Comment[uk]=Загальні параметри підсумків Kontact
-Comment[xx]=xxGeneral Configuration of Kontact's Summary Viewxx
 Comment[zh_CN]=Kontact 概览视图的常规配置
Index: kontact/plugins/summary/summaryplugin.desktop
===================================================================
--- kontact/plugins/summary/summaryplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/summary/summaryplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -34,6 +34,7 @@
 Comment[ja]=Kontact サマリビュープラグイン
 Comment[lt]=Kontact Santraukos vaizdo priedas
 Comment[nb]=Kontact programtillegg for sammendragsvisning
+Comment[nds]=Översichtansicht-Moduul för Kontact
 Comment[nl]=Kontact SummaryView-plugin
 Comment[nn]=Kontact, programtillegg for samandragsvising
 Comment[pl]=Wtyczka Kontact do wyświetlania podsumowania
@@ -50,7 +51,6 @@
 Comment[tg]=Модули дайджести Kontact
 Comment[tr]=Kontact Özet Gösterim Eklentisi
 Comment[uk]=Втулок Kontact для перегляду зведень
-Comment[xx]=xxKontact SummaryView Pluginxx
 Comment[zh_CN]=Kontact 概览视图插件
 Name=Summary
 Name[br]=Diverrañ
@@ -76,6 +76,7 @@
 Name[ja]=要約
 Name[lt]=Santrauka
 Name[nb]=Sammendrag
+Name[nds]=Översicht
 Name[nl]=Overzicht
 Name[nn]=Samandrag
 Name[pl]=Podsumowanie
@@ -94,7 +95,6 @@
 Name[tr]=Özet
 Name[uk]=Зведення
 Name[uz]=Ҳисобот
-Name[xx]=xxSummaryxx
 Name[zh_CN]=概览
 #Always last
 InitialPreference=0
Index: kontact/plugins/kmail/kmailplugin.desktop
===================================================================
--- kontact/plugins/kmail/kmailplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/kmail/kmailplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -43,6 +43,7 @@
 Comment[ja]=Kontact KMail プラグイン
 Comment[lt]=Kontact KMail priedas
 Comment[nb]=Kontact programtillegg for KMail
+Comment[nds]=KMail-Moduul för Kontact
 Comment[nl]=Kontact KMail-plugin
 Comment[nn]=Kontact-programtillegg for KMail
 Comment[pl]=Wtyczka Kontact do współpracy z KMail
@@ -60,7 +61,6 @@
 Comment[tr]=Kontact KMail Eklentisi
 Comment[uk]=Втулок електронної пошти Kontact
 Comment[uz]=Kontact учун KMail плагини
-Comment[xx]=xxKontact KMail Pluginxx
 Comment[zh_CN]=Kontact KMail 插件
 Name=Mail
 Name[be]=Пошта
@@ -86,6 +86,7 @@
 Name[ja]=メール
 Name[lt]=Paštas
 Name[nb]=E-post
+Name[nds]=Nettpost
 Name[nl]=E-mail
 Name[nn]=E-post
 Name[pa]=ਪੱਤਰ
@@ -105,5 +106,4 @@
 Name[tr]=Posta
 Name[uk]=Пошта
 Name[uz]=Хат-хабар
-Name[xx]=xxMailxx
 Name[zh_CN]=邮件
Index: kontact/plugins/kmail/kcmkmailsummary.desktop
===================================================================
--- kontact/plugins/kmail/kcmkmailsummary.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/kmail/kcmkmailsummary.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -35,6 +35,7 @@
 Name[ja]=メール
 Name[lt]=Paštas
 Name[nb]=E-post
+Name[nds]=Nettpost
 Name[nl]=E-mail
 Name[nn]=E-post
 Name[pa]=ਪੱਤਰ
@@ -54,7 +55,6 @@
 Name[tr]=Posta
 Name[uk]=Пошта
 Name[uz]=Хат-хабар
-Name[xx]=xxMailxx
 Name[zh_CN]=邮件
 Comment=Mail Summary Setup
 Comment[bg]=Настройки на обобщението на писмата
@@ -75,6 +75,7 @@
 Comment[ja]=メール 要約の設定
 Comment[lt]=Pašto santraukos nustatymai
 Comment[nb]=E-post sammendrag oppsett
+Comment[nds]=Nettpost-Översicht instellen
 Comment[nl]=E-mail Overzichts-instellingen
 Comment[nn]=Oppsett av e-postsamandrag
 Comment[pl]=Ustawienia podsumowania poczty
@@ -91,7 +92,6 @@
 Comment[tg]=Танзимоти дайджести почта
 Comment[tr]=E-posta Özeti Yapılandırması
 Comment[uk]=Налаштування підсумку пошти
-Comment[xx]=xxMail Summary Setupxx
 Comment[zh_CN]=邮件摘要设置
 Keywords=email, summary, configure, settings
 Keywords[bg]=резюме, общо, обобщение, пощенски, клиент, е-поща, email, summary, configure, settings
@@ -113,6 +113,7 @@
 Keywords[ja]=メール,要約,設定,設定
 Keywords[lt]=email, summary, configure, settings, e. paštas, santrauka, konfigūruoti, nustatymai
 Keywords[nb]=e-post, sammendrag, oppsett, innstillinger
+Keywords[nds]=Nettpost,Nettbreef,Översicht,instellen
 Keywords[nl]=email,e-mail,overzicht,samenvatting,instellingen,configuratie
 Keywords[nn]=e-post,samandrag,oppsett,innstillingar
 Keywords[pl]=email,list,podsumowanie,konfiguracja,ustawienia
@@ -128,5 +129,4 @@
 Keywords[tg]=email, summary, configure, settings,танзимот, дайджест,почта
 Keywords[tr]=e-posta, özet, yapılandır, yapılandırma
 Keywords[uk]=пошта, підсумок, налаштування, параметри
-Keywords[xx]=xxemail, summary, configure, settingsxx
 Keywords[zh_CN]=email, summary, configure, settings, 电子邮件, 摘要, 配置, 设置
Index: kontact/plugins/weather/weatherplugin.desktop
===================================================================
--- kontact/plugins/weather/weatherplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/weather/weatherplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -39,6 +39,7 @@
 Comment[ja]=Kontact 天気プラグイン
 Comment[lt]=Kontact orų pranešėjo priedas
 Comment[nb]=Kontact vær-programtillegg
+Comment[nds]=Wedder-Moduul för Kontact
 Comment[nl]=Kontact Weerplugin
 Comment[nn]=Kontact, programtillegg for vêrmelding
 Comment[pl]=Wtyczka Kontact do wyświetlania pogody
@@ -57,7 +58,6 @@
 Comment[tr]=Kontact Hava Durumu Eklentisi
 Comment[uk]=Втулок погоди Kontact
 Comment[uz]=Kontact учун об-ҳаво плагини
-Comment[xx]=xxKontact Weather Pluginxx
 Comment[zh_CN]=Kontact 天气插件
 Name=Weather Service
 Name[br]=Servij an amzer
@@ -65,25 +65,29 @@
 Name[cy]=GwasanaethTywydd
 Name[da]=Vejrtjeneste
 Name[de]=Wetterdienst
+Name[el]=Υπηρεσία πρόβλεψης Καιρού
 Name[es]=Servicio meteorológico
 Name[et]=Ilmateade
+Name[eu]=Eguraldiaren zerbitzua
 Name[fr]=KWeatherService
 Name[ga]=Seirbhís Aimsire
 Name[is]=Veðurþjónusta
 Name[it]=Servizio meteorologico
+Name[ja]=気象サービス
 Name[lt]=Orų tarnyba
 Name[nb]=Værtjeneste
+Name[nds]=Wedderdeenst
 Name[nl]=Weerbericht
 Name[nn]=Vêrmelding
 Name[pl]=Pogoda
 Name[pt]=Serviço Meteorológico
 Name[pt_BR]=Serviço de Previsão do Tempo
 Name[ru]=Погода
+Name[sl]=Vremenska napoved
 Name[sr]=Време
 Name[sr@Latn]=Vreme
 Name[sv]=Väderleksprognos
 Name[tr]=Hava Durumu Servisi
 Name[uk]=Служба погоди
 Name[uz]=Об-ҳаво хизмати
-Name[xx]=xxWeather Servicexx
 Name[zh_CN]=天气服务
Index: kontact/plugins/multisynk/multisynk.desktop
===================================================================
--- kontact/plugins/multisynk/multisynk.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/multisynk/multisynk.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -28,8 +28,10 @@
 Comment[hu]=MultiSynk bővítőmodul
 Comment[is]=MultiSynk íforrit
 Comment[it]=Plugin MultiSync
+Comment[ja]=MultiSynk プラグイン
 Comment[lt]=MultiSynk priedas
 Comment[nb]=Programtillegg for MultiSynk
+Comment[nds]=MultiSynk-Moduul
 Comment[nl]=MultiSynk-plugin
 Comment[nn]=MultiSynk-programtillegg
 Comment[pl]=Wtyczka MultiSynk
@@ -43,7 +45,7 @@
 Comment[ta]=பலவிதகூட்டிணைப்பு சொருகுப்பொருள்
 Comment[tr]=MultiSynk Eklentisi
 Comment[uk]=Втулок MultiSynk
-Comment[xx]=xxMultiSynk Pluginxx
+Comment[uz]=MultiSynk плагини
 Comment[zh_CN]=MultiSynk 插件
 Name=Synchronization
 Name[ar]=تزامن
@@ -70,6 +72,7 @@
 Name[ja]=同期
 Name[lt]=Sinchronizacija
 Name[nb]=Synkronisering
+Name[nds]=Synkroniseren
 Name[nl]=Sync
 Name[nn]=Synkronisering
 Name[pa]=ਸਮਕਾਲੀ
@@ -89,5 +92,4 @@
 Name[tr]=Senkronizasyon
 Name[uk]=Синхронізація
 Name[uz]=Тенглаштириш
-Name[xx]=xxSynchronizationxx
 Name[zh_CN]=同步
Index: kontact/plugins/knode/knodeplugin.desktop
===================================================================
--- kontact/plugins/knode/knodeplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/knode/knodeplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -39,6 +39,7 @@
 Comment[ja]=Kontact KNode プラグイン
 Comment[lt]=Kontact KNode priedas
 Comment[nb]=Kontact programtillegg for KNode
+Comment[nds]=KNode-Moduul för Kontact
 Comment[nl]=Kontact KNode-plugin
 Comment[nn]=Kontact-programtillegg for KNode
 Comment[pl]=Wtyczka Kontact do współpracy z KNode
@@ -57,7 +58,6 @@
 Comment[tr]=Kontact KNode Eklentisi
 Comment[uk]=Втулок новин (KNode) Kontact
 Comment[uz]=Kontact учун KNode плагини
-Comment[xx]=xxKontact KNode Pluginxx
 Comment[zh_CN]=Kontact KNode 插件
 Name=News
 Name[be]=Навіны
@@ -82,6 +82,7 @@
 Name[is]=Fréttir
 Name[lt]=Naujienos
 Name[nb]=Njus
+Name[nds]=Narichten
 Name[nl]=Nieuws
 Name[nn]=Nyheiter
 Name[pa]=ਖ਼ਬਰਾਂ
@@ -101,5 +102,4 @@
 Name[tr]=Haberler
 Name[uk]=Новини
 Name[uz]=Янгиликлар
-Name[xx]=xxNewsxx
 Name[zh_CN]=新闻
Index: kontact/plugins/specialdates/kcmsdsummary.desktop
===================================================================
--- kontact/plugins/specialdates/kcmsdsummary.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/specialdates/kcmsdsummary.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -27,8 +27,10 @@
 Name[hu]=Fontos dátumok
 Name[is]=Sérstakir dagar
 Name[it]=Date speciali
+Name[ja]=特別な日
 Name[lt]=Ypatingos datos
 Name[nb]=Spesielle datoer
+Name[nds]=Besünner Daag
 Name[nl]=Speciale data
 Name[nn]=Spesielle datoar
 Name[pl]=Daty specjalne
@@ -43,7 +45,6 @@
 Name[tr]=Özel Tarihler
 Name[uk]=Особливі дати
 Name[uz]=Махсус кунлар
-Name[xx]=xxSpecial Datesxx
 Name[zh_CN]=特殊日期
 Comment=Special Dates Summary Setup
 Comment[bg]=Настройки на специалните случаи
@@ -59,8 +60,10 @@
 Comment[hu]=A fontos dátumok áttekintőjének beállításai
 Comment[is]=Yfirlitsuppsetning sérstakra daga
 Comment[it]=Impostazioni per le date speciali
+Comment[ja]=特別な日の要約設定
 Comment[lt]=Ypatingų datų santraukos sąranka
 Comment[nb]=Sammendragsoppsett for spesielle datoer
+Comment[nds]=Översicht över besünner Daag instellen
 Comment[nl]=Instellingen voor speciale data in overzicht
 Comment[nn]=Oppsett av samandrag for spesielle datoar
 Comment[pl]=Ustawienia podsumowania dat specjalnych
@@ -74,7 +77,6 @@
 Comment[ta]=விசேஷ தேதிகள் சுருக்க அமைப்பு
 Comment[tr]=Özel Tarih Özeti Yapılandırması
 Comment[uk]=Налаштування підсумку особливих дат
-Comment[xx]=xxSpecial Dates Summary Setupxx
 Comment[zh_CN]=特殊日期摘要设置
 Keywords=birthday, anniversary, holiday, configure, settings
 Keywords[bg]=рождени, рожден, дни, ден, годишнина, годишнини, обобщение, birthday, anniversary, configure, settings
@@ -82,7 +84,7 @@
 Keywords[cs]=narozeniny,výročí,nastavení,nastavit,svátek
 Keywords[da]=fødselsdag, årsdag, helligdage, indstil, opsætning
 Keywords[de]=Geburtstag,Jahrestag,Feiertag,einstellen,Einstellungen
-Keywords[el]=γεννέθλια, επέτειος, εορτή, ρύθμιση, ρυθμίσεις
+Keywords[el]=γενέθλια, επέτειος, εορτή, ρύθμιση, ρυθμίσεις
 Keywords[es]=cumpleaños, aniversario, vacaciones, configurar, preferencias
 Keywords[et]=sünnipäev, tähtpäev, pidupäev, seadistamine, seadistused
 Keywords[eu]=urtebetezea, urteurrena, jaia, konfiguratu, ezarpenak
@@ -91,8 +93,10 @@
 Keywords[hu]=születésnap,évforduló,szabadság,konfigurálás,beállítások
 Keywords[is]=afmæli, frídagar, stillingar, stilla
 Keywords[it]=compleanno, anniversario, vacanze, configura, impostazioni
+Keywords[ja]=誕生日,記念日,休日,設定,設定
 Keywords[lt]=birthday, anniversary, holiday, configure, settings, konfigūruoti, nustatymai, gimtadieniai, išeiginės,sukaktys
 Keywords[nb]=fødselsdag, jubileum, ferie, sette opp, innstillinger
+Keywords[nds]=Geboortsdag,Johrdag,Fierdag,instellen
 Keywords[nl]=verjaardag,jubileum,vakantie,instellingen,configuratie,feestdag
 Keywords[nn]=fødselsdag,bursdag,gebursdag,jubileum,ferie,helgedag,merkedag,oppsett,innstillingar
 Keywords[pl]=urodziny,rocznica,rocznice,wakacje,urlop,konfiguracja,ustawienia
@@ -106,5 +110,4 @@
 Keywords[ta]=பிறந்தநாள், ஆண்டுவிழா, விடுமுறை, வடிவமைப்பு, அமைப்புகள்
 Keywords[tr]=doğumgünü, evlilik yıldönümü, tatil, yapılandır, ypılandırma
 Keywords[uk]=birthday, anniversary, holiday, configure, settings, день народження, ювілей, свято, налаштування, параметри
-Keywords[xx]=xxbirthday, anniversary, holiday, configure, settingsxx
 Keywords[zh_CN]=birthday, anniversary, holiday, configure, settings, 周年纪念, 配置, 设置, 假日
Index: kontact/plugins/specialdates/specialdatesplugin.desktop
===================================================================
--- kontact/plugins/specialdates/specialdatesplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/specialdates/specialdatesplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -30,8 +30,10 @@
 Name[hu]=Fontos dátumok
 Name[is]=Sérstakir dagar
 Name[it]=Date speciali
+Name[ja]=特別な日
 Name[lt]=Ypatingos datos
 Name[nb]=Spesielle datoer
+Name[nds]=Besünner Daag
 Name[nl]=Speciale data
 Name[nn]=Spesielle datoar
 Name[pl]=Daty specjalne
@@ -46,7 +48,6 @@
 Name[tr]=Özel Tarihler
 Name[uk]=Особливі дати
 Name[uz]=Махсус кунлар
-Name[xx]=xxSpecial Datesxx
 Name[zh_CN]=特殊日期
 Comment=Special Dates Plugin
 Comment[bg]=Приставка за специални случаи
@@ -62,8 +63,10 @@
 Comment[hu]=Fontos dátumok bővítőmodul
 Comment[is]=Sérstakir dagar íforrit
 Comment[it]=Plugin per le date speciali
+Comment[ja]=特別な日プラグイン
 Comment[lt]=Ypatingų dienų priedas
 Comment[nb]=Programtillegg for spesielle datoer
+Comment[nds]=Moduul för besünner Daag
 Comment[nl]=Plugin voor speciale data
 Comment[nn]=Programtillegg for spesielle datoar
 Comment[pl]=Wtyczka specjalnych dat
@@ -77,5 +80,4 @@
 Comment[ta]=விசேஷ தேதிகள் சொருகுப்பொருள்
 Comment[tr]=Özel Tarihler Eklentisi
 Comment[uk]=Втулок особливих дат
-Comment[xx]=xxSpecial Dates Pluginxx
 Comment[zh_CN]=特殊日期插件
Index: kontact/plugins/specialdates/sdsummarywidget.cpp
===================================================================
--- kontact/plugins/specialdates/sdsummarywidget.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/specialdates/sdsummarywidget.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -79,7 +79,7 @@
 
 SDSummaryWidget::SDSummaryWidget( Kontact::Plugin *plugin, QWidget *parent,
                                     const char *name )
-  : Kontact::Summary( parent, name ), mPlugin( plugin ), mCalendar( 0 )
+  : Kontact::Summary( parent, name ), mPlugin( plugin ), mCalendar( 0 ), mHolidays( 0 )
 {
   // Create the Summary Layout
   QVBoxLayout *mainLayout = new QVBoxLayout( this, 3, 3 );
@@ -170,13 +170,9 @@
   KConfig hconfig( "korganizerrc" );
   hconfig.setGroup( "Time & Date" );
   QString location = hconfig.readEntry( "Holidays" );
-  if ( !location.isNull() ) {
-    if ( location != mLastLocation ) {
-      if ( !mLastLocation.isNull() && !mLastLocation.isEmpty() )
-        delete mHolidays;
-      mLastLocation = location;
-      mHolidays = new KHolidays::KHolidays( location );
-    }
+  if ( !location.isEmpty() ) {
+    if ( mHolidays ) delete mHolidays;
+    mHolidays = new KHolidays( location );
     return true;
   }
   return false;
Index: kontact/plugins/specialdates/sdsummarywidget.h
===================================================================
--- kontact/plugins/specialdates/sdsummarywidget.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/specialdates/sdsummarywidget.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -78,7 +78,6 @@
     bool mShowHolidays;
     bool mShowSpecialsFromCal;
 
-    QString mLastLocation;
     KHolidays::KHolidays *mHolidays;
 };
 
Index: kontact/plugins/kpilot/kpilotplugin.desktop
===================================================================
--- kontact/plugins/kpilot/kpilotplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/kpilot/kpilotplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -38,6 +38,7 @@
 Comment[ja]=Kontact ＫPilot プラグイン
 Comment[lt]=Kontact KPilot priedas
 Comment[nb]=Kontact programtillegg for KPilot
+Comment[nds]=KPilot-Moduul för Kontact
 Comment[nl]=Kontact KPilot-plugin
 Comment[nn]=Kontact-programtillegg for KPilot
 Comment[pl]=Wtyczka KPilota do Kontact
@@ -54,7 +55,7 @@
 Comment[tg]=Модули Kontact барои дастрасӣ ба KPilot
 Comment[tr]=Kontact KPilot Eklentisi
 Comment[uk]=Втулок Kontact для KPilot
-Comment[xx]=xxKontact KPilot Pluginxx
+Comment[uz]=Kontact учун KPilot плагини
 Comment[zh_CN]=Kontact KPilot 插件
 Name=KPilot Configuration
 Name[be]=Канфігурацыя KPilot
@@ -77,6 +78,7 @@
 Name[ja]=KPilotの設定
 Name[lt]=Kpilot konfigūracija
 Name[nb]=KPilot oppsett
+Name[nds]=KPilot instellen
 Name[nl]=KPilot instellingen
 Name[nn]=KPilot-oppsett
 Name[pl]=konfiguracja KPilota
@@ -93,5 +95,4 @@
 Name[tg]=Танзимоти KPilot
 Name[tr]=KPilot Yapılandırması
 Name[uk]=Налаштування KPilot
-Name[xx]=xxKPilot Configurationxx
 Name[zh_CN]=KPilot 配置
Index: kontact/plugins/knotes/knotes_part.cpp
===================================================================
--- kontact/plugins/knotes/knotes_part.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/knotes/knotes_part.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,7 +1,7 @@
 /*
    This file is part of the KDE project
    Copyright (C) 2002-2003 Daniel Molkentin <molkentin@kde.org>
-   Copyright (C) 2004 Michael Brade <brade@kde.org>
+   Copyright (C) 2004-2006 Michael Brade <brade@kde.org>
 
    This program is free software; you can redistribute it and/or
    modify it under the terms of the GNU General Public
@@ -63,6 +63,8 @@
   mNotesView->setSelectionMode( QIconView::Extended );
   mNotesView->setItemsMovable( false );
   mNotesView->setResizeMode( QIconView::Adjust );
+  mNotesView->setAutoArrange( true );
+  mNotesView->setSorting( true );
 
   connect( mNotesView, SIGNAL( executed( QIconViewItem* ) ),
            this, SLOT( editNote( QIconViewItem* ) ) );
@@ -150,12 +152,13 @@
     }
   }
 
+  mManager->addNewNote( journal );
+  mManager->save();
+
   KNotesIconViewItem *note = mNoteList[ journal->uid() ];
   mNotesView->ensureItemVisible( note );
   mNotesView->setCurrentItem( note );
 
-  mManager->addNewNote( journal );
-  mManager->save();
   return journal->uid();
 }
 
@@ -177,7 +180,8 @@
    if ( note && !force && KMessageBox::warningContinueCancelList( mNotesView,
         i18n( "Do you really want to delete this note?" ),
         mNoteList[ id ]->text(), i18n( "Confirm Delete" ),
-        KStdGuiItem::del() ) == KMessageBox::Continue ) {
+        KStdGuiItem::del() ) == KMessageBox::Continue ) 
+   {
      mManager->deleteNote( mNoteList[id]->journal() );
      mManager->save();
    }
@@ -328,11 +332,13 @@
     mNoteEditDlg = new KNoteEditDlg( widget() );
 
   KCal::Journal *journal = static_cast<KNotesIconViewItem *>( item )->journal();
+
+  mNoteEditDlg->setRichText( journal->customProperty( "KNotes", "RichText" ) == "true" );
   mNoteEditDlg->setTitle( journal->summary() );
   mNoteEditDlg->setText( journal->description() );
 
   if ( mNoteEditDlg->exec() == QDialog::Accepted ) {
-    journal->setSummary( mNoteEditDlg->title() );
+    item->setText( mNoteEditDlg->title() );
     journal->setDescription( mNoteEditDlg->text() );
     mManager->save();
   }
Index: kontact/plugins/knotes/knotesplugin.desktop
===================================================================
--- kontact/plugins/knotes/knotesplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/knotes/knotesplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -39,6 +39,7 @@
 Comment[ja]=Kontact KNotes プラグイン
 Comment[lt]=Kontact KNotes priedas
 Comment[nb]=Kontact programtillegg for KNotes
+Comment[nds]=KNotes-Moduul för Kontact
 Comment[nl]=Kontact KNotes-plugin
 Comment[nn]=Kontact-programtillegg for KNotes
 Comment[pl]=Wtyczka Kontact do współpracy z KNotes
@@ -56,7 +57,6 @@
 Comment[tr]=Kontact KNotes Eklentisi
 Comment[uk]=Втулок приміток (KNotes) Kontact
 Comment[uz]=Kontact учун KNotes плагини
-Comment[xx]=xxKontact KNotes Pluginxx
 Comment[zh_CN]=Kontact KNotes 插件
 Name=Notes
 Name[be]=Нататкі
@@ -79,6 +79,7 @@
 Name[is]=Minnismiðar
 Name[it]=Note
 Name[lt]=Užrašai
+Name[nds]=Notizen
 Name[nl]=Notities
 Name[nn]=Notat
 Name[pl]=Notatki
@@ -97,5 +98,4 @@
 Name[tr]=Notlar
 Name[uk]=Примітки
 Name[uz]=Ёзма хотира
-Name[xx]=xxNotesxx
 Name[zh_CN]=便笺
Index: kontact/plugins/knotes/knotes_part_p.h
===================================================================
--- kontact/plugins/knotes/knotes_part_p.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/knotes/knotes_part_p.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,6 +1,6 @@
 /*
    This file is part of the KDE project
-   Copyright (C) 2004 Michael Brade <brade@kde.org>
+   Copyright (C) 2004-2006 Michael Brade <brade@kde.org>
 
    This program is free software; you can redistribute it and/or
    modify it under the terms of the GNU General Public
@@ -147,8 +147,13 @@
       mTitleEdit->setText( text );
     }
 
+    void setRichText( bool rt )
+    {
+      mNoteEdit->setTextFormat( rt ? RichText : PlainText );
+    }
+
   private:
-    KLineEdit *mTitleEdit;
+    KLineEdit  *mTitleEdit;
     KNoteEdit  *mNoteEdit;
     KToolBar   *mTool;
     KPopupMenu *mEditMenu;
Index: kontact/plugins/korganizer/kcmkorgsummary.desktop
===================================================================
--- kontact/plugins/korganizer/kcmkorgsummary.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/korganizer/kcmkorgsummary.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -15,46 +15,55 @@
 Name[cs]=Schůzky a úkoly
 Name[da]=Møder og gøremål
 Name[de]=Termine und Aufgaben
+Name[el]=Ραντεβού και εργασίες προς υλοποίηση
 Name[es]=Citas y tareas pendientes
+Name[et]=Kohtumised ja ülesanded
+Name[eu]=Hitzorduak eta egitekoak
 Name[fr]=Évènements et tâches
 Name[is]=Fundir og verkþættir
 Name[it]=Appuntamenti e cose da fare
 Name[lt]=Susitikimai ir užduotys
 Name[nb]=Avtaler og gjøremål
+Name[nds]=Möten un Opgaven
 Name[nl]=Evenementen en taken
 Name[nn]=Avtalar og oppgåver
 Name[pl]=Spotkania i zadania
 Name[pt]=Compromissos e A-fazeres
 Name[pt_BR]=Compromissos e Tarefas
 Name[ru]=Встречи и задачи
+Name[sl]=Sestanki in opravila
 Name[sr]=Састанци и обавезе
 Name[sr@Latn]=Sastanci i obaveze
 Name[sv]=Möten och uppgifter
 Name[uk]=Зустрічі і завдання
-Name[xx]=xxAppointments and To-dosxx
 Name[zh_CN]=约会和待办
 Comment=Appointments and To-dos Summary Setup
 Comment[bg]=Приставка за обобщен преглед на срещите и задачите
 Comment[cs]=Nastavení souhrnu schůzek a úkolů
 Comment[da]=Indstilling af oversigt over møder og gøremål
 Comment[de]=Einstellung der Übersicht über Termine und Aufgaben
+Comment[el]=Ρύθμιση ραντεβού και προς υλοποίηση εργασιών
 Comment[es]=Configuración del resumen de citas y de tareas pendientes
+Comment[et]=Kohtumiste ja ülesannete kokkuvõtte seadistus
+Comment[eu]=Hitzordu eta egitekoen laburpenen konfigurazioa
 Comment[fr]=Configuration du résumé des évènements et des tâches
 Comment[is]=Uppsetning á yfirliti yfir fundi og verkþætti
 Comment[it]=Impostazioni sommario appuntamenti e cose da fare
+Comment[ja]=予約と To-do の概要設定
 Comment[lt]=Susitikimų ir užduočių santraukos nustatymai
 Comment[nb]=Oppsett av sammendraget av gjøremål og avtaler
+Comment[nds]=Möten- un Opgaven-Översicht instellen
 Comment[nl]=Overzichtsinstellingen voor evenementen en taken
 Comment[nn]=Oppsett av samandrag av avtalar og oppgåver
 Comment[pl]=Ustawienia podsumowania spotkań i zadań
 Comment[pt]=Configuração do Sumário de Compromissos e A-fazeres
 Comment[pt_BR]=Configuração do Resumo de Compromissos e Tarefas
 Comment[ru]=Настройка показа встреч и задач
+Comment[sl]=Nastavitve povzetka sestankov in opravil
 Comment[sr]=Подешавање сажетка састанака и обавеза
 Comment[sr@Latn]=Podešavanje sažetka sastanaka i obaveza
 Comment[sv]=Inställning av översikt över möten och uppgifter
 Comment[uk]=Налаштування зведення зустрічей і завдань
-Comment[xx]=xxAppointments and To-dos Summary Setupxx
 Comment[zh_CN]=约会和待办摘要设置
 Keywords=calendar, todos, configure, settings
 Keywords[be]=каляндар, заданьні, настроіць, настройкі, calendar, todos, configure, settings
@@ -77,6 +86,7 @@
 Keywords[ja]=スケジュール,todos,設定,設定
 Keywords[lt]=calendar, todos, configure, settings, kalendorius, darbai, konfigūruoti, nustatymai
 Keywords[nb]=kalender, gjørelister, oppsett, innstillinger
+Keywords[nds]=Kalenner,Opgaven,Opgaav,instellen,Mööt,Möten
 Keywords[nl]=kalender,agenda,taken,todo,instellingen,configuratie
 Keywords[nn]=kalender,hugselister,oppsett,innstillingar
 Keywords[pl]=kalendarz,do zrobienia,konfiguracja,ustawienia
@@ -92,5 +102,4 @@
 Keywords[tg]=calendar, todos, configure, settings,танзимот, тақвим,вазифа
 Keywords[tr]=takvim, yapılacaklar, yapılandır, yapılandırma
 Keywords[uk]=календар, завдання, налаштування, установки
-Keywords[xx]=xxcalendar, todos, configure, settingsxx
 Keywords[zh_CN]=calendar, todos, configure, settings, 日历, 待办事项, 配置, 设置
Index: kontact/plugins/korganizer/todoplugin.desktop
===================================================================
--- kontact/plugins/korganizer/todoplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/korganizer/todoplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -21,7 +21,7 @@
 Comment[cs]=Modul úkolů KOrganizeru pro aplikaci Kontact
 Comment[da]=Kontact KOrganizer gøremålsliste-plugin
 Comment[de]=Kontact KOrganizer-Aufgabenlisten-Modul
-Comment[el]=Πρόσθετο του Kontact για την προς-υλοποίηση λίστα του KOrganizer
+Comment[el]=Πρόσθετο του Kontact για την προς υλοποίηση λίστα του KOrganizer
 Comment[es]=Extensión de tareas pendientes de KOrganizer para Kontact
 Comment[et]=Kontacti KOrganizeri ülesannete nimekirja plugin
 Comment[eu]=Kontact-en KOrganizer-en egitekoen plugin-a
@@ -30,8 +30,10 @@
 Comment[hu]=Kontact-bővítőmodul a KOrganizer feladatlistához
 Comment[is]=Kontact KOrganizer verkþátta íforrit
 Comment[it]=Plugin Kontact per le cose da fare di KOrganizer
+Comment[ja]=Kontact KOrganizer To-do リストプラグイン
 Comment[lt]=Kontact KOrganizer darbų sąrašo priedas
 Comment[nb]=Kontact programtillegg for KOrganizer gjøreliste
+Comment[nds]=KOrganizer-Opgavenlistmoduul för Kontact
 Comment[nl]=Kontact KOrganizer takenlijstplugin
 Comment[nn]=Kontact-programtillegg for KOrganizer-hugselister
 Comment[pl]=Wtyczka Kontact do współpracy z listą zadań KOrganizera
@@ -45,7 +47,6 @@
 Comment[ta]=கேஅமைப்பாளர் செய்யவேண்டிய பட்டியல் சொருகுப்பொருளை தொடர்புகொள்
 Comment[tr]=Kontact KOrganizer Yapılacaklar Listesi Eklentisi
 Comment[uk]=Втулок списку завдань KOrganizer для Kontact
-Comment[xx]=xxKontact KOrganizer To-do List Pluginxx
 Comment[zh_CN]=Kontact KOrganizer 待办清单插件
 Name=To-do List
 Name[br]=Roll an traoù d'ober
@@ -54,7 +55,7 @@
 Name[cy]=Rhestr I'w-Wneud
 Name[da]=Gøremålsliste
 Name[de]=Aufgaben
-Name[el]=Λίστα προς-υλοποίηση
+Name[el]=Λίστα προς υλοποίηση
 Name[es]=Tareas pendientes
 Name[et]=Ülesanded
 Name[eu]=Egitekoen zerrenda
@@ -64,8 +65,10 @@
 Name[hu]=Feladatok
 Name[is]=Verkþættir
 Name[it]=Cose da fare
+Name[ja]=To-do リスト
 Name[lt]=Darbai
 Name[nb]=Gjøreliste
+Name[nds]=Opgavenlist
 Name[nl]=Takenlijst
 Name[nn]=Hugseliste
 Name[pa]=ਕੰਮ ਕਰਨ ਲਈ
@@ -81,5 +84,4 @@
 Name[tr]=Yapılacaklar Listesi
 Name[uk]=Список завдань
 Name[uz]=Вазифалар рўйхати
-Name[xx]=xxTo-do Listxx
 Name[zh_CN]=待办清单
Index: kontact/plugins/korganizer/journalplugin.desktop
===================================================================
--- kontact/plugins/korganizer/journalplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/korganizer/journalplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -31,8 +31,10 @@
 Comment[hu]=Kontact-bővítőmodul a KOrganizer-naplóhoz
 Comment[is]=Kontact KOrganizer dagbókar íforrit
 Comment[it]=Plugin Kontact per il diario di KOrganizer
+Comment[ja]=Kontact KAddressbook プラグイン
 Comment[lt]=Kontact KOrganizer dienyno priedas
 Comment[nb]=Kontact programtillegg for KOrganizer dagbok
+Comment[nds]=KOrganizer-Daagbookmoduul för Kontact
 Comment[nl]=Kontact KOrganizer Journaalplugin
 Comment[nn]=Kontact-programtillegg for KOrganizer-dagbøker
 Comment[pl]=Wtyczka Kontact do współpracy z dziennikiem KOrganizera
@@ -46,7 +48,6 @@
 Comment[ta]=கேஅமைப்பாளர் செய்தி சொருகுப்பொருளை தொடர்புகொள்
 Comment[tr]=Kontact KOrganizer Günlük Eklentisi
 Comment[uk]=Втулок журналу для (KOrganizer) Kontact
-Comment[xx]=xxKontact KOrganizer Journal Pluginxx
 Comment[zh_CN]=Kontact KOrganizer 日记插件
 Name=Journal
 Name[br]=Deizlevr
@@ -65,6 +66,7 @@
 Name[it]=Diario
 Name[lt]=Dienynas
 Name[nb]=Dagbok
+Name[nds]=Daagbook
 Name[nl]=Journaal
 Name[nn]=Dagbok
 Name[pl]=Dziennik
@@ -76,5 +78,4 @@
 Name[tr]=Günlük
 Name[uk]=Журнал
 Name[uz]=Кундалик
-Name[xx]=xxJournalxx
 Name[zh_CN]=日记
Index: kontact/plugins/korganizer/korganizerplugin.desktop
===================================================================
--- kontact/plugins/korganizer/korganizerplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/korganizer/korganizerplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -41,6 +41,7 @@
 Comment[ja]=Kontact KOrganizer プラグイン
 Comment[lt]=Kontact KOrganizer priedas
 Comment[nb]=Kontact programtillegg for KOrganizer
+Comment[nds]=KOrganizer-Moduul för Kontact
 Comment[nl]=Kontact KOrganizer-plugin
 Comment[nn]=Kontact-programtillegg for KOrganizer
 Comment[pl]=Wtyczka Kontact do współpracy z KOrganizerem
@@ -58,7 +59,6 @@
 Comment[tr]=Kontact KOrganizer Eklentisi
 Comment[uk]=Втулок календаря KOrganizer для Kontact
 Comment[uz]=Kontact учун KOrganizer плагини
-Comment[xx]=xxKontact KOrganizer Pluginxx
 Comment[zh_CN]=Kontact KOrganizer 插件
 Name=Calendar
 Name[be]=Каляндар
@@ -85,6 +85,7 @@
 Name[ja]=カレンダ
 Name[lt]=Kalendorius
 Name[nb]=Kalender
+Name[nds]=Kalenner
 Name[nl]=Agenda
 Name[nn]=Kalender
 Name[pa]=ਕੈਲੰਡਰ
@@ -103,5 +104,4 @@
 Name[tr]=Takvim
 Name[uk]=Календар
 Name[uz]=Календар
-Name[xx]=xxCalendarxx
 Name[zh_CN]=日历
Index: kontact/plugins/kaddressbook/kaddressbookplugin.desktop
===================================================================
--- kontact/plugins/kaddressbook/kaddressbookplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/kaddressbook/kaddressbookplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -41,6 +41,7 @@
 Comment[ja]=Kontact KAddressbook プラグイン
 Comment[lt]=Kontact KAddressBook priedas
 Comment[nb]=Kontact programtillegg for KAddressbook
+Comment[nds]=KAdressbook-Moduul för Kontact
 Comment[nl]=Kontact KAddressBook-plugin
 Comment[nn]=Kontact, programtillegg for KDE-adresseboka
 Comment[pl]=Wtyczka Kontact do współpracy z KAddressBook
@@ -58,7 +59,6 @@
 Comment[tr]=Kontact KAdresDefteri Eklentisi
 Comment[uk]=Втулок адресної книги Kontact
 Comment[uz]=Kontact учун KAddressBook плагини
-Comment[xx]=xxKontact KAddressBook Pluginxx
 Comment[zh_CN]=Kontact KAddressbook 插件
 Name=Contacts
 Name[be]=Кантакты
@@ -83,6 +83,7 @@
 Name[it]=Contatti
 Name[ja]=コンタクト
 Name[lt]=Kontaktai
+Name[nds]=Kontakten
 Name[nl]=Adressen
 Name[nn]=Kontaktar
 Name[pa]=ਸੰਪਰਕ
@@ -103,5 +104,4 @@
 Name[tr]=Bağlantılar
 Name[uk]=Контакти
 Name[uz]=Алоқалар
-Name[xx]=xxContactsxx
 Name[zh_CN]=联系人
Index: kontact/plugins/newsticker/kcmkontactknt.desktop
===================================================================
--- kontact/plugins/newsticker/kcmkontactknt.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/newsticker/kcmkontactknt.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -18,6 +18,7 @@
 Name[cy]=Ticer Newyddion
 Name[da]=Nyhedstelegraf
 Name[de]=Newsticker
+Name[el]=Προβολέας ειδήσεων
 Name[eo]=Novaĵprezentilo
 Name[es]=Teletipo de noticias
 Name[et]=Uudistejälgija
@@ -35,6 +36,7 @@
 Name[lt]=News pranešėjas
 Name[lv]=Ziņu Tikkers
 Name[nb]=Nyhetstelegraf
+Name[nds]=Narichtentelegraaf
 Name[nn]=Nyheitstelegraf
 Name[pl]=Wiadomości
 Name[pt]=Extractor de Notícias
@@ -54,7 +56,6 @@
 Name[ven]=Musengulusi wa Mafhungo
 Name[vi]=Trình kiểm tra news 
 Name[xh]=Umchola-choli weendaba
-Name[xx]=xxNews Tickerxx
 Name[zh_CN]=新闻点点通
 Name[zu]=Umlungiseleli Wezindaba 
 Comment=News Ticker Summary Setup
@@ -62,13 +63,17 @@
 Comment[cs]=Nastavení souhrnu newstickeru
 Comment[da]=Nehedstelegrafs opsætning af opsummering
 Comment[de]=Einstellung der News-übersicht
+Comment[el]=Περίληψη ρύθμισης προβολέα ρυθμίσεων
 Comment[es]=Configuración del resumen del teletipo de noticias
 Comment[et]=Uudistejälgija kokkuvõtte seadistus
+Comment[eu]=Berri markatzailearen laburpenaren konfigurazioa
 Comment[fr]=Configuration du résumé du téléscripteur de nouvelles
 Comment[is]=Uppsetning á yfirliti yfir fréttastrimla
 Comment[it]=Impostazioni sommario ticker notizie
+Comment[ja]=メール Ticker の設定
 Comment[lt]=News Ticker santraukos nustatymai
 Comment[nb]=Oppsett av sammendraget til nyhetstelegrafen
+Comment[nds]=Narichten-Översicht instellen
 Comment[nl]=Overzichtsinstellingen nieuwsticker
 Comment[nn]=Oppsett av nyhendetelegrafsamandrag
 Comment[pl]=Ustawienia podsumowania wiadomości
@@ -79,7 +84,6 @@
 Comment[sr@Latn]=Podešavanje sažetka prikazivanja vesti
 Comment[sv]=Inställning av nyhetsövervakningsöversikt
 Comment[uk]=Налаштування зведення стрічки новин
-Comment[xx]=xxNews Ticker Summary Setupxx
 Comment[zh_CN]=新闻点点通摘要设置
 Keywords=news ticker, configure, settings
 Keywords[bg]=новини, източник, настройки, news ticker, configure, settings
@@ -87,6 +91,7 @@
 Keywords[cs]=novinky,nastavení
 Keywords[da]=nyhedstelegraf, indstil, opsætning
 Keywords[de]=Newsticker,Einrichten,Einstellungen
+Keywords[el]=προβολέας ειδήσεων, ρύθμιση, ρυθμίσεις
 Keywords[es]=teletipo de noticias, configurar, opciones
 Keywords[et]=uudistejälgija, seadistamine, seadistused
 Keywords[eu]=berri markatzaileak, konfiguratu, ezarpenak
@@ -100,6 +105,7 @@
 Keywords[ja]=ニュース ティッカー,設定,設定
 Keywords[lt]=news ticker, configure, settings, konfigūravimas, nustatymai, naujienų pranešėjas
 Keywords[nb]=nyhetstelegraf, oppsett, innstillinger
+Keywords[nds]=Narichtentelegraaf, instellen
 Keywords[nl]=newsticker,instellingen,configuratie,nieuws
 Keywords[nn]=nyhendetelegraf,oppsett,innstillingar
 Keywords[pl]=news ticker,wiadomości,nagłówki,konfiguracja,ustawienia
@@ -115,5 +121,4 @@
 Keywords[tg]=news ticker, configure, settings, танзимот
 Keywords[tr]=haber izleyici, yapılandırma, yapılandır
 Keywords[uk]=новини, налаштування, установки
-Keywords[xx]=xxnews ticker, configure, settingsxx
 Keywords[zh_CN]=news ticker, configure, settings, 新闻点点通, 配置, 设置
Index: kontact/plugins/newsticker/newstickerplugin.desktop
===================================================================
--- kontact/plugins/newsticker/newstickerplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/plugins/newsticker/newstickerplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -21,6 +21,7 @@
 Comment[cs]=Modul NewsTicker pro aplikaci Kontact
 Comment[da]=Kontact plugin for nyhedstelegraf
 Comment[de]=Newsticker-Modul für Kontact
+Comment[el]=Πρόσθετο προβολέα ειδήσεων του Kontact
 Comment[es]=Extensión de teletipo de noticias para Kontact
 Comment[et]=Kontacti uudistejälgija plugin
 Comment[eu]=Kontact-en NewsTicker plugin-a
@@ -34,6 +35,7 @@
 Comment[ja]=Kontact ニュース ティッカー プラグイン
 Comment[lt]=Kontact Naujienų pranešėjo priedas
 Comment[nb]=Kontact programtillegg for nyhetstelegrafen
+Comment[nds]=Narichtentelegraaf-Moduul für Kontact
 Comment[nl]=Kontact NewsTicker-plugin
 Comment[nn]=Programtillegg for nyhendetelegraf i Kontact
 Comment[pl]=Wtyczka wiadomości do Kontact
@@ -49,12 +51,12 @@
 Comment[tg]=Тамос гирифтан бо NewsTicker Plugin
 Comment[tr]=Kontact Haberİzleyici Eklentisi
 Comment[uk]=Втулок стрічки новин Kontact
-Comment[xx]=xxKontact NewsTicker Pluginxx
 Comment[zh_CN]=Kontact 新闻点点通插件
 Name=NewsTicker
 Name[ca]=Teletip de notícies
 Name[da]=Nyhedstelegraf
 Name[de]=Newsticker
+Name[el]=Προβολέας ειδήσεων
 Name[es]=Teletipo de noticias
 Name[et]=Uudistejälgija
 Name[fi]=Uutisnäyttäjä
@@ -65,6 +67,7 @@
 Name[ja]=ニュース ティッカー
 Name[lt]=Naujienų pranešėjas
 Name[nb]=Nyhetstelegraf
+Name[nds]=Narichtentelegraaf
 Name[nn]=Nyhendetelegraf
 Name[pl]=Wiadomości
 Name[pt]=Notícias
@@ -74,5 +77,4 @@
 Name[sv]=Nyhetsövervakare
 Name[ta]=செய்திகள் குறிப்பான்
 Name[tr]=Haberİzleyici
-Name[xx]=xxNewsTickerxx
 Name[zh_CN]=新闻点点通
Index: kontact/interfaces/kontactplugin.desktop
===================================================================
--- kontact/interfaces/kontactplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/interfaces/kontactplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -27,6 +27,7 @@
 Name[ja]=Kontact プラグイン
 Name[lt]=Kontact priedas
 Name[nb]=Kontact-programtillegg
+Name[nds]=Kontact-Moduul
 Name[nn]=Kontact-programtillegg
 Name[pl]=Wtyczka Kontact
 Name[pt]='Plugin' do Kontact
@@ -43,7 +44,6 @@
 Name[tr]=Kontact Eklentisi
 Name[uk]=Втулок Kontact
 Name[uz]=Kontact учун плагин
-Name[xx]=xxKontact Pluginxx
 Name[zh_CN]=Kontact 插件
 
 [PropertyDef::X-KDE-KontactPluginVersion]
Index: kontact/src/kontact.setdlg
===================================================================
--- kontact/src/kontact.setdlg	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/src/kontact.setdlg	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,6 +23,7 @@
 Name[ja]=要約
 Name[lt]=Santrauka
 Name[nb]=Sammendrag
+Name[nds]=Översicht
 Name[nl]=Overzicht
 Name[nn]=Samandrag
 Name[pl]=Podsumowanie
@@ -41,7 +42,6 @@
 Name[tr]=Özet
 Name[uk]=Зведення
 Name[uz]=Ҳисобот
-Name[xx]=xxSummaryxx
 Name[zh_CN]=概览
 Comment=Summary View
 Comment[bg]=Обобщение
@@ -58,8 +58,10 @@
 Comment[hu]=Áttekintő nézet
 Comment[is]=Yfirlitssýn
 Comment[it]=Vista sommario
+Comment[ja]=サマリビュー
 Comment[lt]=Santraukos vaizdas
 Comment[nb]=Sammendragsvisning
+Comment[nds]=Översichtansicht
 Comment[nl]=Overzichtsweergave
 Comment[nn]=Samandragsvising
 Comment[pl]=Widok podsumowania
@@ -73,7 +75,6 @@
 Comment[ta]=சுருக்கக் காட்சி
 Comment[tr]=Özet Görünüm
 Comment[uk]=Вигляд короткого підсумку
-Comment[xx]=xxSummary Viewxx
 Comment[zh_CN]=摘要视图
 Weight=100
 Icon=kontact_summary
@@ -103,6 +104,7 @@
 Name[ja]=メール
 Name[lt]=Paštas
 Name[nb]=E-post
+Name[nds]=Nettpost
 Name[nl]=E-mail
 Name[nn]=E-post
 Name[pa]=ਪੱਤਰ
@@ -122,7 +124,6 @@
 Name[tr]=Posta
 Name[uk]=Пошта
 Name[uz]=Хат-хабар
-Name[xx]=xxMailxx
 Name[zh_CN]=邮件
 Comment=Mail Component
 Comment[be]=Кампанэнт "Пошта"
@@ -141,8 +142,10 @@
 Comment[hu]=Levelezőkomponens
 Comment[is]=Pósthluti
 Comment[it]=Componente posta
+Comment[ja]=メールコンポーネント
 Comment[lt]=Pašto komponentas
 Comment[nb]=E-postkomponent
+Comment[nds]=Nettpost-Komponent
 Comment[nl]=E-mailcomponent
 Comment[nn]=E-postkomponent
 Comment[pl]=Składnik poczty
@@ -156,7 +159,6 @@
 Comment[ta]=அஞ்சல் பகுதி
 Comment[tr]=E-posta Bileşeni
 Comment[uk]=Компонент пошти
-Comment[xx]=xxMail Componentxx
 Comment[zh_CN]=邮件组件
 Weight=200
 Icon=kontact_mail
@@ -185,6 +187,7 @@
 Name[it]=Contatti
 Name[ja]=コンタクト
 Name[lt]=Kontaktai
+Name[nds]=Kontakten
 Name[nl]=Adressen
 Name[nn]=Kontaktar
 Name[pa]=ਸੰਪਰਕ
@@ -205,7 +208,6 @@
 Name[tr]=Bağlantılar
 Name[uk]=Контакти
 Name[uz]=Алоқалар
-Name[xx]=xxContactsxx
 Name[zh_CN]=联系人
 Comment=Address Book Component
 Comment[be]=Кампанэнт "Адрасная кніга"
@@ -223,8 +225,10 @@
 Comment[hu]=Címjegyzék-komponens
 Comment[is]=Vistfangahluti
 Comment[it]=Componente rubrica indirizzi
+Comment[ja]=アドレス帳コンポーネント
 Comment[lt]=Adresų knygelės komponentas
 Comment[nb]=Adressebok-komponent
+Comment[nds]=Adressbook-Komponent
 Comment[nl]=Adresboekcomponent
 Comment[nn]=Adressebok-komponent
 Comment[pl]=Składnik książki adresowej
@@ -238,7 +242,6 @@
 Comment[ta]=முகவரிப்புத்தக பகுதி
 Comment[tr]=Adres Defteri Bileşeni
 Comment[uk]=Компонент адресної книги
-Comment[xx]=xxAddress Book Componentxx
 Comment[zh_CN]=地址簿组件
 Weight=300
 Icon=kontact_contacts
@@ -258,8 +261,10 @@
 Name[hu]=A fontos dátumok áttekintője
 Name[is]=Yfirlit sérstakra daga
 Name[it]=Sommario date speciali
+Name[ja]=特別な日の要約
 Name[lt]=Ypatingų dienų santrauka
 Name[nb]=Sammendrag av spesielle datoer
+Name[nds]=Översicht över besünner Daag
 Name[nl]=Overzicht voor speciale data
 Name[nn]=Samandrag for spesielle datoar
 Name[pl]=Podsumowanie dat specjalnych
@@ -273,7 +278,6 @@
 Name[ta]=விசேஷ செய்திகளின் சுருக்கம்
 Name[tr]=Özel Tarihler Özeti
 Name[uk]=Короткий підсумок особливих дат
-Name[xx]=xxSpecial Dates Summaryxx
 Name[zh_CN]=特殊日期摘要
 Comment=Special Dates Summary Component
 Comment[bg]=Модул за обобщение на специалните случаи
@@ -289,8 +293,10 @@
 Comment[hu]=A fontos dátumok áttekintő komponense
 Comment[is]=Yfirlitshluti sérstakra daga
 Comment[it]=Componente sommario per le date speciali
+Comment[ja]=特別な日の要約コンポーネント
 Comment[lt]=Ypatingų dienų santraukos komponentas
 Comment[nb]=Komponent for sammendrag av spesielle datoer
+Comment[nds]=Översichtkomponent för besünner Daag
 Comment[nl]=Component voor overzicht van speciale data
 Comment[nn]=Komponent for samandrag for spesielle datoar
 Comment[pl]=Składnik podsumowania dat specjalnych
@@ -304,7 +310,6 @@
 Comment[ta]=விசேஷ தேதிகள் சுருக்கப் பகுதி
 Comment[tr]=Özel Tarihler Özeti Bileşeni
 Comment[uk]=Компонент короткого підсумку особливих дат
-Comment[xx]=xxSpecial Dates Summary Componentxx
 Comment[zh_CN]=特殊日期摘要组件
 Weight=310
 Icon=cookie
@@ -335,6 +340,7 @@
 Name[ja]=カレンダ
 Name[lt]=Kalendorius
 Name[nb]=Kalender
+Name[nds]=Kalenner
 Name[nl]=Agenda
 Name[nn]=Kalender
 Name[pa]=ਕੈਲੰਡਰ
@@ -353,7 +359,6 @@
 Name[tr]=Takvim
 Name[uk]=Календар
 Name[uz]=Календар
-Name[xx]=xxCalendarxx
 Name[zh_CN]=日历
 Comment=Calendar Component
 Comment[be]=Кампанэнт "Календар"
@@ -370,8 +375,10 @@
 Comment[hu]=Naptárkezelő komponens
 Comment[is]=Dagatalshluti
 Comment[it]=Componente calendario
+Comment[ja]=カレンダーコンポーネント
 Comment[lt]=Kalendoriaus komponentas
 Comment[nb]=Calendar-komponent
+Comment[nds]=Kalenner-Komponent
 Comment[nl]=Agendacomponent
 Comment[nn]=Kalenderkomponent
 Comment[pl]=Składnik kalendarza
@@ -385,7 +392,6 @@
 Comment[ta]=நாள்காட்டி பகுதி
 Comment[tr]=Takvim Bileşeni
 Comment[uk]=Компонент календаря
-Comment[xx]=xxCalendar Componentxx
 Comment[zh_CN]=日历组件
 Weight=400
 Icon=kontact_date
@@ -414,6 +420,7 @@
 Name[is]=Fréttir
 Name[lt]=Naujienos
 Name[nb]=Njus
+Name[nds]=Narichten
 Name[nl]=Nieuws
 Name[nn]=Nyheiter
 Name[pa]=ਖ਼ਬਰਾਂ
@@ -433,7 +440,6 @@
 Name[tr]=Haberler
 Name[uk]=Новини
 Name[uz]=Янгиликлар
-Name[xx]=xxNewsxx
 Name[zh_CN]=新闻
 Comment=News Component
 Comment[be]=Кампанэнт "Навіны"
@@ -450,8 +456,10 @@
 Comment[hu]=Hírkezelő komponens
 Comment[is]=Fréttahluti
 Comment[it]=Componente news
+Comment[ja]=ニュースコンポーネント
 Comment[lt]=Naujienų komponentas
 Comment[nb]=Njus-komponent
+Comment[nds]=Narichten-Komponente
 Comment[nl]=Nieuwscomponent
 Comment[nn]=Nyhendekomponent
 Comment[pl]=Składnik wiadomości
@@ -465,7 +473,6 @@
 Comment[ta]=செய்திகள் பகுதி
 Comment[tr]=Haber Grubu Bileşeni
 Comment[uk]=Компонент новин
-Comment[xx]=xxNews Componentxx
 Comment[zh_CN]=新闻组件
 Weight=500
 Icon=kontact_news
@@ -495,6 +502,7 @@
 Name[ja]=天気
 Name[lt]=Orų pranešėjas
 Name[nb]=Været
+Name[nds]=Wedder
 Name[nl]=Het weer
 Name[nn]=Vêrmelding
 Name[pl]=Pogoda
@@ -513,7 +521,6 @@
 Name[tr]=Hava Durumu
 Name[uk]=Погода
 Name[uz]=Об-ҳаво
-Name[xx]=xxWeatherxx
 Name[zh_CN]=天气
 Comment=Weather Information
 Comment[be]=Інфармацыя пра надвор’е
@@ -533,8 +540,10 @@
 Comment[hu]=Időjárási adatok
 Comment[is]=Veðurupplýsingar
 Comment[it]=Informazioni meteorologiche
+Comment[ja]=気象情報
 Comment[lt]=Orų informacija
 Comment[nb]=Værinformasjon
+Comment[nds]=Wedderinformatschoon
 Comment[nl]=Het weer
 Comment[nn]=Vêrinformasjon
 Comment[pl]=Informacje o pogodzie
@@ -548,7 +557,7 @@
 Comment[ta]=தட்பவெப்பநிலை தகவல்
 Comment[tr]=Hava Durumu Bilgisi
 Comment[uk]=Інформація про погоду
-Comment[xx]=xxWeather Informationxx
+Comment[uz]=Об-ҳаво ҳақида маълумот
 Comment[zh_CN]=天气信息
 Weight=1000
 Icon=kweather
@@ -561,6 +570,7 @@
 Name[cy]=Ticer Newyddion
 Name[da]=Nyhedstelegraf
 Name[de]=Newsticker
+Name[el]=Προβολέας ειδήσεων
 Name[eo]=Novaĵprezentilo
 Name[es]=Teletipo de noticias
 Name[et]=Uudistejälgija
@@ -578,6 +588,7 @@
 Name[lt]=News pranešėjas
 Name[lv]=Ziņu Tikkers
 Name[nb]=Nyhetstelegraf
+Name[nds]=Narichtentelegraaf
 Name[nn]=Nyheitstelegraf
 Name[pl]=Wiadomości
 Name[pt]=Extractor de Notícias
@@ -597,7 +608,6 @@
 Name[ven]=Musengulusi wa Mafhungo
 Name[vi]=Trình kiểm tra news 
 Name[xh]=Umchola-choli weendaba
-Name[xx]=xxNews Tickerxx
 Name[zh_CN]=新闻点点通
 Name[zu]=Umlungiseleli Wezindaba 
 Comment=News Ticker Component
@@ -606,6 +616,7 @@
 Comment[cs]=Komponenta zdrojů novinek
 Comment[da]=Nyhedstelegraf-komponent
 Comment[de]=Newsticker-Komponente
+Comment[el]=Συστατικό προβολέα ειδήσεων
 Comment[es]=Componente de teletipo de noticias
 Comment[et]=Uudistejälgija komponent
 Comment[eu]=Berri markatzaile osagaia
@@ -613,8 +624,10 @@
 Comment[hu]=Hírmegjelenítő komponens
 Comment[is]=Fréttastrimilshluti
 Comment[it]=Ticker notizie
+Comment[ja]=ニュース ティッカー コンポーネント
 Comment[lt]=Naujienų pranešėjo komponentas
 Comment[nb]=Komponent for Nyhetstelegraf
+Comment[nds]=Narichtentelegraaf-Komponent
 Comment[nl]=Newstickercomponent
 Comment[nn]=Nyhendetelegrafkomponent
 Comment[pl]=Składnik paska wiadomości
@@ -628,7 +641,6 @@
 Comment[ta]=செய்தி எடுக்கும் பகுதி
 Comment[tr]=Haber İzleyici Bileşeni
 Comment[uk]=Компонент смужки новин
-Comment[xx]=xxNews Ticker Componentxx
 Comment[zh_CN]=新闻点点通组件
 Weight=1100
 Icon=knode
Index: kontact/src/kontactconfig.desktop
===================================================================
--- kontact/src/kontactconfig.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/src/kontactconfig.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -18,7 +18,6 @@
 Name[hi]=कॉन्टेक्ट
 Name[sv]=Kontakt
 Name[ta]=தொடர்பு கொள்
-Name[xx]=xxKontactxx
 Comment=KDE Kontact
 Comment[be]=Кантакт KDE
 Comment[bg]=Управление на личната информация
@@ -27,12 +26,12 @@
 Comment[de]=Kontact
 Comment[fi]=Kontact
 Comment[hi]=केडीई कॉन्टेक्ट
+Comment[nds]=KDE-Kontact
 Comment[pl]=Kontact dla KDE
 Comment[pt]=Kontact do KDE
 Comment[pt_BR]=Kontact do KDE
 Comment[ro]=Contact KDE
 Comment[ta]=கேடிஇ தொடர்புகொள்
-Comment[xx]=xxKDE Kontactxx
 Keywords=kontact
 Keywords[be]=кантакт,kontact
 Keywords[bg]=контакти, връзка, информация, личен, поща, бизнес, планиране, kontact
@@ -40,9 +39,9 @@
 Keywords[hi]=कॉन्टेक्ट
 Keywords[hu]=kapcsolat
 Keywords[nb]=kontact, kontakt
+Keywords[nds]=Kontact
 Keywords[sr]=kontact, контакт
 Keywords[sr@Latn]=kontact, kontakt
 Keywords[sv]=kontakt
 Keywords[ta]=தொடர்புகொள்
 Keywords[tr]=bağlantı
-Keywords[xx]=xxkontactxx
Index: kontact/src/Kontact.desktop
===================================================================
--- kontact/src/Kontact.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kontact/src/Kontact.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -5,7 +5,6 @@
 Name[hi]=कॉन्टेक्ट
 Name[sv]=Kontakt
 Name[ta]=தொடர்பு கொள்
-Name[xx]=xxKontactxx
 Exec=kontact
 Type=Application
 Icon=kontact
@@ -34,6 +33,7 @@
 GenericName[lt]=Asmeninės informacijos tvarkyklė
 GenericName[mk]=Менаџер за лични информации
 GenericName[nb]=Personlig informasjonsbehandler
+GenericName[nds]=Pleger för persöönliche Informatschonen
 GenericName[nn]=Personleg informasjonshandtering
 GenericName[pl]=Program do zarządzania informacjami osobistymi
 GenericName[pt]=Gestor Pessoal de Informações
@@ -51,7 +51,6 @@
 GenericName[tr]=Kişisel Bilgi Yöneticisi
 GenericName[uk]=Менеджер особистої інформації
 GenericName[uz]=Шахсий маълумот бошқарувчиси
-GenericName[xx]=xxPersonal Information Managerxx
 GenericName[zh_CN]=个人信息管理器
 Terminal=false
 X-KDE-StartupNotify=true
Index: kandy/src/kandy.desktop
===================================================================
--- kandy/src/kandy.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kandy/src/kandy.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -4,7 +4,6 @@
 Name[eo]=Poŝtelefonilo
 Name[hi]=केंडी
 Name[ta]=Kஅன்டி
-Name[xx]=xxKandyxx
 Comment=Tool for syncing address book data with mobile phones
 Comment[bg]=Инструмент за синхронизиране на адресника с мобилни телефони
 Comment[bs]=Alat za sinhroniziranje podataka između adresara i mobilnih telefona
@@ -24,6 +23,7 @@
 Comment[ja]=携帯電話を備えた住所録データを同期するためのツール
 Comment[lt]=Įrankis adresų knygelės sinchronizavimui su mobiliaisiais telefonais
 Comment[nb]=Verktøy for synkronisering av adressebok med mobiltelefoner
+Comment[nds]=Synkroniseren vun Adressbookdaten mit Mobiltelefonen
 Comment[nl]=Hulpmiddel om adresboekgegevens te synchroniseren met mobiele telefoons
 Comment[nn]=Verktøy for å synkronisera adresseboka med mobiltelefonar
 Comment[pl]=Narzędzie do synchronizacji książki adresowej z telefonami komórkowymi
@@ -39,7 +39,6 @@
 Comment[tg]=Барномаи синхронизатсияи китоби адресӣ бо телефони мобилӣ
 Comment[tr]=Cep telefonları ile adres defteri paylaşımı için araç
 Comment[uk]=Інструмент для синхронізації даних адресної книги з мобільним телефоном
-Comment[xx]=xxTool for syncing address book data with mobile phonesxx
 Comment[zh_CN]=将地址簿数据与移动电话同步的工具
 Exec=kandy %i %m -caption "%c"
 Icon=kandy
@@ -73,6 +72,7 @@
 GenericName[mk]=Алатка за мобилни телефони
 GenericName[ms]=Alatan Fon Mudah Alih
 GenericName[nb]=Mobiltelefonverktøy
+GenericName[nds]=Mobiltelefoon-Warktüüch
 GenericName[nl]=Mobiele telefoon-beheer
 GenericName[nn]=Mobiltelefonverktøy
 GenericName[nso]=Sebereka sago Thatha sa Mogala
@@ -96,7 +96,6 @@
 GenericName[ven]=Tshishumiswa tsha lutingo thendeleki
 GenericName[vi]=Công cụ điện thoại di động 
 GenericName[xh]=Isixhobo Semfono-mfono Ekuhanjwa nayo
-GenericName[xx]=xxMobile Phone Toolxx
 GenericName[zh_CN]=移动电话工具
 GenericName[zh_TW]=行動電話工具
 GenericName[zu]=Ithuluzi Lamakhala ekhukhwini
Index: ktnef/gui/ktnef.desktop
===================================================================
--- ktnef/gui/ktnef.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ ktnef/gui/ktnef.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -1,7 +1,6 @@
 [Desktop Entry]
 Name=KTnef
 Name[sv]=Ktnef
-Name[xx]=xxKTnefxx
 GenericName=TNEF File Viewer
 GenericName[bg]=Преглед на файлове TNEF
 GenericName[ca]=Visor de fitxers TNEF
@@ -20,6 +19,7 @@
 GenericName[it]=Visualizzatore file TNEF
 GenericName[lt]=TNEF bylų žiūryklė
 GenericName[nb]=TNEF-filvisning
+GenericName[nds]=TNEF-Dateikieker
 GenericName[nl]=TNEF-bestandsweergave
 GenericName[nn]=TNEF filvisar
 GenericName[pl]=Przeglądarka plików TNEF
@@ -33,7 +33,6 @@
 GenericName[ta]=TNEF  கோப்பு காட்சியாளன்
 GenericName[tr]=TNEF Dosya Göstericisi
 GenericName[uk]=Переглядач файлів TNEF
-GenericName[xx]=xxTNEF File Viewerxx
 GenericName[zh_CN]=TNEF 文件查看器
 Exec=ktnef %i %m -caption "%c"
 Icon=ktnef
@@ -61,6 +60,7 @@
 Comment[ja]=TNEF ファイル用のビューア/extractor
 Comment[lt]=TNEF bylų žiūryklė - išpakuotojas
 Comment[nb]=En utpakker/fremviser for TNEF-filer
+Comment[nds]=TNEF-Dateien ankieken un Delen ruttrecken
 Comment[nl]=Een weergaveprogramma/uitpakker voor TNEF-bestanden
 Comment[nn]=Ein framvisar/utpakkar for TNEF-filer
 Comment[pl]=Przeglądarka/program wyciągający zawartość plików TNEF
@@ -77,7 +77,6 @@
 Comment[tg]=Намоиш ва боз кардани файлҳои TNEF
 Comment[tr]=TNEF dosyaları için gösterici/çıkarıcı
 Comment[uk]=Переглядач/розпаковувач файлів TNEF
-Comment[xx]=xxA viewer/extractor for TNEF filesxx
 Comment[zh_CN]=TNEF 文件的查看/提取器
 Terminal=false
 MimeType=application/ms-tnef;
Index: ktnef/gui/ms-tnef.desktop
===================================================================
--- ktnef/gui/ms-tnef.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ ktnef/gui/ms-tnef.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -28,6 +28,7 @@
 Comment[ja]=TNEF ファイル
 Comment[lt]=TNEF byla
 Comment[nb]=TNEF-fil
+Comment[nds]=TNEF-Datei
 Comment[nl]=TNEF-bestand
 Comment[nn]=TNEF-fil
 Comment[pl]=Plik TNEF
@@ -45,5 +46,4 @@
 Comment[tr]=TNEF Dosyası
 Comment[uk]=Файл TNEF
 Comment[uz]=TNEF-файли
-Comment[xx]=xxTNEF Filexx
 Comment[zh_CN]=TNEF 文件
Index: kfile-plugins/rfc822/kfile_rfc822.desktop
===================================================================
--- kfile-plugins/rfc822/kfile_rfc822.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kfile-plugins/rfc822/kfile_rfc822.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -26,6 +26,7 @@
 Name[lt]=E. pašto info
 Name[ms]=Info Emel
 Name[nb]=E-post-info
+Name[nds]=Nettbreef-Informatschonen
 Name[nl]=E-mail-informatie
 Name[nn]=Epost-info
 Name[pa]=ਈ-ਪੱਤਰ ਜਾਣਕਾਰੀ
@@ -44,7 +45,6 @@
 Name[tg]=Иттилоот дар бораи почтаи электронӣ
 Name[tr]=E-Posta Bilgisi
 Name[uk]=Інформація про повідомлення ел. пошти
-Name[xx]=xxEmail Infoxx
 Name[zh_CN]=电子邮件信息
 ServiceTypes=KFilePlugin
 X-KDE-Library=kfile_rfc822
Index: kfile-plugins/ics/kfile_ics.desktop
===================================================================
--- kfile-plugins/ics/kfile_ics.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kfile-plugins/ics/kfile_ics.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -19,8 +19,10 @@
 Name[hu]=ICS-jellemzők
 Name[is]=ICS upplýsingar
 Name[it]=Informazioni ICS
+Name[ja]=ICS 情報
 Name[lt]=ICS informacija
 Name[nb]=ICS-informasjon
+Name[nds]=ICS-Informatschoon
 Name[nl]=ICS-informatie
 Name[nn]=ICS-informasjon
 Name[pa]=ICS ਜਾਣਕਾਰੀ
@@ -35,7 +37,6 @@
 Name[ta]=ICS தகவல்
 Name[tr]=ICS bilgisi
 Name[uk]=Інформація про ICS
-Name[xx]=xxICS informationxx
 Name[zh_CN]=ICS 信息
 ServiceTypes=KFilePlugin
 X-KDE-Library=kfile_ics
Index: kfile-plugins/palm-databases/kfile_palm.desktop
===================================================================
--- kfile-plugins/palm-databases/kfile_palm.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kfile-plugins/palm-databases/kfile_palm.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -23,6 +23,7 @@
 Name[ja]=PalmOS データベース 情報
 Name[lt]=PalmOS duomenų bazės info
 Name[nb]=PalmOS Database info
+Name[nds]=PalmOS-Datenbank-Informatschonen
 Name[nl]=PalmOS-database informatie
 Name[nn]=PalmOS-databaseinfo
 Name[pl]=Baza danych PalmOS
@@ -39,7 +40,6 @@
 Name[tg]=Иттилоот дар бораи бонки додаҳои PalmOS
 Name[tr]=PalmOS Veritabanı Bilgisi
 Name[uk]=Інформація про базу даних PalmOS
-Name[xx]=xxPalmOS Database Infoxx
 Name[zh_CN]=PalmOS 数据库信息
 ServiceTypes=KFilePlugin
 X-KDE-Library=kfile_palm
Index: kfile-plugins/vcf/kfile_vcf.desktop
===================================================================
--- kfile-plugins/vcf/kfile_vcf.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ kfile-plugins/vcf/kfile_vcf.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -28,6 +28,7 @@
 Name[ms]=Info vCard
 Name[mt]=Informazzjoni vCard
 Name[nb]=vCard info
+Name[nds]=vCard-Informatschonen
 Name[nl]=vCard-informatie
 Name[nn]=vCard-info
 Name[nso]=Tshedimoso ya vKarata
@@ -48,7 +49,6 @@
 Name[uk]=Інформація про vCard
 Name[ven]=Mafhungo a vCard
 Name[xh]=Inkcukacha ye vCard
-Name[xx]=xxvCard Infoxx
 Name[zh_CN]=vCard 信息
 Name[zh_TW]=vCard 資訊
 Name[zu]=Ulwazi lwe-vCard
Index: korganizer/korganizer_configfonts.desktop
===================================================================
--- korganizer/korganizer_configfonts.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/korganizer_configfonts.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -41,6 +41,7 @@
 Name[lt]=Šriftai
 Name[lv]=Fonti
 Name[nb]=Skrifter
+Name[nds]=Schriftoorden
 Name[nl]=Lettertypen
 Name[nn]=Skrifttypar
 Name[pl]=Czcionki
@@ -64,7 +65,6 @@
 Name[ven]=Fontu
 Name[vi]=Phông 
 Name[xh]=Ubungakanani bamagama
-Name[xx]=xxFontsxx
 Name[zh_CN]=字体
 Comment=KOrganizer Fonts Configuration
 Comment[ar]=إعداد خطوط KOrganizer
@@ -90,6 +90,7 @@
 Comment[ja]=KOrganizer フォント設定
 Comment[lt]=KOrganizer šriftų konfigūravimas
 Comment[nb]=KOrganizer skriftoppsett
+Comment[nds]=Schriftoorden för KOrganizer instellen
 Comment[nl]=KOrganizer lettertypen instellen
 Comment[nn]=KOrganizer, skriftinnstillingar
 Comment[pl]=Konfiguracja czcionek KOrganizera
@@ -107,7 +108,6 @@
 Comment[tg]=Танзимотҳои ҳуруфҳои органайзери KDE
 Comment[tr]=KOrganizer Yazıtipi Yapılandırması
 Comment[uk]=Налаштування шрифтів у KOrganizer
-Comment[xx]=xxKOrganizer Fonts Configurationxx
 Comment[zh_CN]=KOrganizer 字体配置
 Keywords=korganizer,fonts
 Keywords[be]=K Арганізатар,шрыфты,korganizer,fonts
@@ -133,6 +133,7 @@
 Keywords[ja]=korganizer,フォント
 Keywords[lt]=korganizer,fonts, šriftai
 Keywords[nb]=korganizer,skrifter, skrifttyper
+Keywords[nds]=KOrganizer,Schriftoorden
 Keywords[nl]=korganizer,fonts,lettertypen
 Keywords[nn]=korganizer,skrift
 Keywords[pl]=korganizer,czcionki
@@ -150,5 +151,4 @@
 Keywords[tr]=korganizer,yazıtipleri
 Keywords[uk]=korganizer,шрифти
 Keywords[uz]=korganizer,органайзер,шрифтлар
-Keywords[xx]=xxkorganizer,fontsxx
 Keywords[zh_CN]=korganizer,fonts,字体
Index: korganizer/korganizer_configplugins.desktop
===================================================================
--- korganizer/korganizer_configplugins.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/korganizer_configplugins.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -29,8 +29,10 @@
 Name[ga]=Breiseáin
 Name[hu]=Bővítőmodulok
 Name[is]=Íforrit
+Name[ja]=プラグイン
 Name[lt]=Priedai
 Name[nb]=Programtillegg
+Name[nds]=Modulen
 Name[nn]=Programtillegg
 Name[pl]=Wtyczki
 Name[pt]='Plugins'
@@ -43,7 +45,7 @@
 Name[ta]=சொருகுப்பொருள்கள்
 Name[tr]=Eklentiler
 Name[uk]=Втулки
-Name[xx]=xxPluginsxx
+Name[uz]=Плагинлар
 Name[zh_CN]=插件
 Comment=KOrganizer Plugin Configuration
 Comment[be]=Канфігурацыя дапаўненьняў "K Арганізатара"
@@ -61,8 +63,10 @@
 Comment[hu]=A KOrganizer bővítőmodul beállításai
 Comment[is]=Stillingar KOrganizer íforrita
 Comment[it]=Configurazione plugin KOrganizer
+Comment[ja]=KOrganizer プラグイン設定
 Comment[lt]=KOrganizer priedų konfigūravimas
 Comment[nb]=KOrganizer oppsett for programtillegg
+Comment[nds]=Modulen för KOrganizer instellen
 Comment[nl]=KOrganizer plugininstellingen
 Comment[nn]=Oppsett av KOrganizer-programtillegg
 Comment[pl]=Konfiguracja wtyczek KOrganizera
@@ -76,7 +80,6 @@
 Comment[ta]=கேஅமைப்பாளர் சொருகுப்பொருள் வடிவமைப்பு
 Comment[tr]=KOrganizer Eklenti Yapılandırması
 Comment[uk]=Втулок налаштування KOrganizer
-Comment[xx]=xxKOrganizer Plugin Configurationxx
 Comment[zh_CN]=KOrganizer 插件配置
 Keywords=korganizer,plugin,module
 Keywords[be]=K Арганізатар,дапаўненьне,модуль,korganizer,plugin,module
@@ -94,8 +97,10 @@
 Keywords[hu]=korganizer,bővítőmodul,modul
 Keywords[is]=korganizer,íforrit,eining
 Keywords[it]=korganizer,plugin,modulo
+Keywords[ja]=korganizer,プラグイン,モジュール
 Keywords[lt]=korganizer,plugin,module,modulis,priedas
 Keywords[nb]=korganizer,programtillegg,modul
+Keywords[nds]=KOrganizer,Moduul,Modulen,Plugins
 Keywords[nn]=korganizer,programtillegg,modul
 Keywords[pl]=korganizer,wtyczka,moduł
 Keywords[pt]=korganizer,'plugin',módulo
@@ -108,5 +113,4 @@
 Keywords[ta]=கேஅமைப்பாளர்,சொருகுப்பொருள்,பகுதி
 Keywords[tr]=korganizer,eklenti,modül
 Keywords[uk]=korganizer,plugin,module,втулок,модуль
-Keywords[xx]=xxkorganizer,plugin,modulexx
 Keywords[zh_CN]=korganizer,plugin,module,插件,模块
Index: korganizer/korganizer_configtime.desktop
===================================================================
--- korganizer/korganizer_configtime.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/korganizer_configtime.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -38,6 +38,7 @@
 Name[ja]=時間及び日付
 Name[lt]=Laikas ir data
 Name[nb]=Dato og tid
+Name[nds]=Tiet & Datum
 Name[nl]=Datum & tijd
 Name[nn]=Tidsinnstillingar
 Name[pl]=Czas i data
@@ -56,7 +57,6 @@
 Name[tr]=Saat & Tarih
 Name[uk]=Час та дата
 Name[uz]=Сана ва вақт
-Name[xx]=xxTime & Datexx
 Name[zh_CN]=时间和日期
 Comment=KOrganizer Time Configuration
 Comment[ar]=إعداد وقت KOrganizer
@@ -82,6 +82,7 @@
 Comment[ja]=KOrganizer 時間設定
 Comment[lt]=KOrganizer laiko konfigūravimas
 Comment[nb]=KOrganizer tidsoppsett
+Comment[nds]=Tietinstellen för KOrganizer
 Comment[nl]=KOrganizer datum en tijd instellen
 Comment[nn]=KOrganizer, tidsinnstillingar
 Comment[pl]=Konfiguracja czasu dla KOrganizera
@@ -98,7 +99,6 @@
 Comment[tg]=Танзимоти вақти органайзери KDE
 Comment[tr]=KOrganizer Zaman Yapılandırması
 Comment[uk]=Налаштування часу та дати в KOrganizer
-Comment[xx]=xxKOrganizer Time Configurationxx
 Comment[zh_CN]=KOrganizer 时间配置
 Keywords=korganizer,time
 Keywords[be]=K Арганізатар,час,korganizer,time
@@ -125,6 +125,7 @@
 Keywords[ja]=korganizer,時間
 Keywords[lt]=korganizer,time,laikas
 Keywords[nb]=korganizer,tid
+Keywords[nds]=KOrganizer,Tiet
 Keywords[nl]=datum,tijd,korganizer
 Keywords[nn]=korganizer,tid
 Keywords[pl]=korganizer,czas,data,daty
@@ -142,5 +143,4 @@
 Keywords[tr]=korganizer,zaman
 Keywords[uk]=korganizer,час,дата
 Keywords[uz]=korganizer,органайзер,сана,вақт
-Keywords[xx]=xxkorganizer,timexx
 Keywords[zh_CN]=korganizer,time,时间
Index: korganizer/koprefs.h
===================================================================
--- korganizer/koprefs.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/koprefs.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -88,7 +88,7 @@
 
     void setResourceColor ( const QString &, const QColor & );
     QColor* resourceColor( const QString & );
-    
+
     QString mHtmlExportFile;
 
     // Groupware passwords
@@ -102,6 +102,7 @@
     QDict<QColor> mResourceColors;
     QColor mDefaultResourceColor;
 
+    QFont mDefaultTimeBarFont;
     QFont mDefaultMonthViewFont;
 
   public: // Do not use - except in KOPrefsDialogMain
Index: korganizer/exportwebdialog.cpp
===================================================================
--- korganizer/exportwebdialog.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/exportwebdialog.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -64,9 +64,9 @@
 #include "exportwebdialog.moc"
 
 
-// FIXME: The basic structure of this dialog has been copied from KPrefsDialog, 
-//        because we want custom buttons, a Tabbed dialog, and a different 
-//        headline... Maybe we should try to achieve the same without code 
+// FIXME: The basic structure of this dialog has been copied from KPrefsDialog,
+//        because we want custom buttons, a Tabbed dialog, and a different
+//        headline... Maybe we should try to achieve the same without code
 //        duplication.
 ExportWebDialog::ExportWebDialog( HTMLExportSettings *settings, QWidget *parent,
                                   const char *name)
@@ -83,7 +83,7 @@
 
   connect( this, SIGNAL( user1Clicked() ), SLOT( slotOk() ) );
   connect( this, SIGNAL( cancelClicked() ), SLOT( reject() ) );
-  
+
   readConfig();
 }
 
@@ -157,9 +157,9 @@
 
   QGroupBox *destGroup = new QVGroupBox(i18n("Destination"), mGeneralPage );
   topLayout->addWidget(destGroup);
-  KPrefsWidPath *pathWid = addWidPath( mSettings->outputFileItem(), 
+  KPrefsWidPath *pathWid = addWidPath( mSettings->outputFileItem(),
                                        destGroup, "text/html", KFile::File );
-  connect( pathWid->urlRequester(), SIGNAL( textChanged( const QString & ) ), 
+  connect( pathWid->urlRequester(), SIGNAL( textChanged( const QString & ) ),
            SLOT( slotTextChanged( const QString & ) ) );
 
   topLayout->addStretch( 1 );
@@ -174,7 +174,7 @@
 {
   mTodoPage = addPage(i18n("To-dos"));
   QVBoxLayout *topLayout = new QVBoxLayout( mTodoPage, 10 );
-  
+
   QHBox *hbox = new QHBox( mTodoPage );
   topLayout->addWidget( hbox );
   addWidString( mSettings->todoListTitleItem(), hbox );
@@ -182,6 +182,7 @@
   QVBox *vbox = new QVBox( mTodoPage );
   topLayout->addWidget( vbox );
   addWidBool( mSettings->taskDueDateItem(), vbox );
+  addWidBool( mSettings->taskLocationItem(), vbox );
   addWidBool( mSettings->taskCategoriesItem(), vbox );
   addWidBool( mSettings->taskAttendeesItem(), vbox );
 //  addWidBool( mSettings->taskExcludePrivateItem(), vbox );
@@ -201,6 +202,7 @@
 
   QVBox *vbox = new QVBox( mEventPage );
   topLayout->addWidget( vbox );
+  addWidBool( mSettings->eventLocationItem(), vbox );
   addWidBool( mSettings->eventCategoriesItem(), vbox );
   addWidBool( mSettings->eventAttendeesItem(), vbox );
 //  addWidBool( mSettings->eventExcludePrivateItem(), vbox );
Index: korganizer/korganizer_configgroupscheduling.desktop
===================================================================
--- korganizer/korganizer_configgroupscheduling.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/korganizer_configgroupscheduling.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -35,6 +35,7 @@
 Name[ja]=グループスケジューリング
 Name[lt]=Grupių tvarkaraščių tvarkymas
 Name[nb]=Gruppeplanlegging
+Name[nds]=Koppelplanen
 Name[nl]=Groepsplanning
 Name[nn]=Gruppeplanlegging
 Name[pl]=Planowanie grupowe
@@ -52,7 +53,6 @@
 Name[tg]=Ҷадвали гурӯҳҳо
 Name[tr]=Group Zamanlama
 Name[uk]=Розклад груп
-Name[xx]=xxGroup Schedulingxx
 Name[zh_CN]=组日程安排
 Comment=KOrganizer Group Scheduling Configuration
 Comment[ar]=إعداد جدولة مجموعة KOrganizer
@@ -77,6 +77,7 @@
 Comment[ja]=KOrganizer グループスケジューリング設定
 Comment[lt]=KOrganizer grupių tvarkaraščių tvarkymo konfigūravimas
 Comment[nb]=Gruppeplanleggingsoppsett for KOrganizer
+Comment[nds]=Koppelplanen för KOrganizer instellen
 Comment[nl]=KOrganizer groepsplanning instellen
 Comment[nn]=KOrganizer, innstillingar for gruppeplanlegging
 Comment[pl]=Konfiguracja planowania grupowego dla KOrganizera
@@ -93,7 +94,6 @@
 Comment[tg]=Танзимоти ҷадвали гурӯҳҳои органайзер-KDE
 Comment[tr]=KOrganizer Grup Zamanlama Yapılandırması
 Comment[uk]=Налаштування групового розкладу в KOrganizer
-Comment[xx]=xxKOrganizer Group Scheduling Configurationxx
 Comment[zh_CN]=Korganizer 组日程安排配置
 Keywords=korganizer,group,scheduling
 Keywords[bg]=организатор, разписание, настройки, korganizer, group, scheduling
@@ -116,6 +116,7 @@
 Keywords[ja]=korganizer,グループ,スケジューリング
 Keywords[lt]=korganizer,group,scheduling,tvarkaraštis, grupė
 Keywords[nb]=korganizer,gruppe,planlegging
+Keywords[nds]=KOrganizer,Koppel,Plaan,planen
 Keywords[nl]=korganizer,group,scheduling,plannen,groep
 Keywords[nn]=korganizer,gruppe,planlegging
 Keywords[pl]=korganizer,grupa,planowanie
@@ -132,5 +133,4 @@
 Keywords[tg]=korganizer,group,scheduling,ҷадвалигурӯҳҳо,органайзер
 Keywords[tr]=korganizer,grup,zamanlama
 Keywords[uk]=korganizer,груп,розклад
-Keywords[xx]=xxkorganizer,group,schedulingxx
 Keywords[zh_CN]=korganizer,group,scheduling,组,日程安排
Index: korganizer/actionmanager.cpp
===================================================================
--- korganizer/actionmanager.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/actionmanager.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -490,7 +490,7 @@
   connect( mCalendarView,SIGNAL( groupEventsSelected( bool ) ),
            action,SLOT( setEnabled( bool ) ) );
 
-  action = new KAction( i18n("Send &Cancellation to Attendees"), 0,
+  action = new KAction( i18n("Send &Cancelation to Attendees"), 0,
                         mCalendarView, SLOT( schedule_cancel() ),
                         mACollection, "schedule_cancel" );
   action->setEnabled( false );
Index: korganizer/korgac/korgacmain.cpp
===================================================================
--- korganizer/korgac/korgacmain.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/korgac/korgacmain.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -24,6 +24,7 @@
 
 #include <stdlib.h>
 
+#include <kglobal.h>
 #include <kdebug.h>
 #include <klocale.h>
 #include <kcmdlineargs.h>
@@ -79,6 +80,7 @@
 
   MyApp app;
   app.disableSessionManagement();
+  KGlobal::locale()->insertCatalogue( "libkcal" );
 
   return app.exec();
 }
Index: korganizer/korgac/korgac.desktop
===================================================================
--- korganizer/korgac/korgac.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/korgac/korgac.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -6,23 +6,28 @@
 Name[cs]=Klient upomínek KOrganizeru
 Name[da]=KOrganizer-påmindelsesklient
 Name[de]=KOrganizer Erinnerungsfunktion
+Name[el]=Πελάτης υπενθύμισης του KOrganizer
 Name[es]=Cliente de recordatorio para KOrganizer
+Name[et]=KOrganizeri meeldetuletuse klientprogramm
+Name[eu]=KOrganizer-en oroigarrien bezeroa
 Name[fr]=Client d'alarme de KOrganizer
 Name[is]=Áminningarforrit fyrir KOrganizer
 Name[it]=Client degli avvisi di KOrganizer
+Name[ja]=KOrganizer リマインダクライアント
 Name[lt]=KOrganizer priminimų klientas
 Name[nb]=KOrganizer klient for påminning
+Name[nds]=KOrganizer-Anstöötgever
 Name[nl]=KOrganizer herinneringsdaemon
 Name[nn]=Alarmklient for KOrganizer
 Name[pl]=Klient przypominania KOrganizera
 Name[pt]=Cliente de Avisos do KOrganizer
 Name[pt_BR]=Cliente do Alarme do KOrganizer
 Name[ru]=Уведомления KOrganizer
+Name[sl]=Odjemalec za opomnik KOrganizerja
 Name[sr]=Клијент подсетника KOrganizer-а
 Name[sr@Latn]=Klijent podsetnika KOrganizer-a
 Name[sv]=Korganizer-påminnelseklient
 Name[uk]=Клієнт нагадувань KOrganizer
-Name[xx]=xxKOrganizer Reminder Clientxx
 Name[zh_CN]=KOrganizer 定时器客户端程序
 Exec=korgac --miniicon korganizer
 Icon=korganizer
@@ -32,12 +37,17 @@
 GenericName[cs]=Klient démona přípomínek KOrganizeru
 GenericName[da]=KOrganizer-påmindelsesklient
 GenericName[de]=Hintergrund-Erinnerungsfunktion für KOrganizer
+GenericName[el]=Δαίμονας πελάτη υπενθύμισης του KOrganizer
 GenericName[es]=Cliente del daemon de recordatorio para KOrganizer
+GenericName[et]=KOrganizeri meeldetuletusdeemoni klientprogramm
+GenericName[eu]=KOrganizer-en oroigarrien deabruaren bezeroa
 GenericName[fr]=Client pour le démon d'alarme de KOrganizer
 GenericName[is]=Áminningarpúki fyrir KOrganizer
 GenericName[it]=Client del demone degli avvisi di KOrganizer
+GenericName[ja]=KOrganizer リマインダデーモンクライアント
 GenericName[lt]=KOrganizer priminimų tarnybos klientas
 GenericName[nb]=KOrganizer klient for påminningstjenesten
+GenericName[nds]=Client för den Anstötendämoon vun KOrganizer
 GenericName[nl]=KOrganizer herinneringsdaemon
 GenericName[nn]=Alarmnisseklient for KOrganizer
 GenericName[pl]=Klient demona przypominania KOrganizera
@@ -46,9 +56,8 @@
 GenericName[ru]=Клиент службы уведомлений KOrganizer
 GenericName[sr]=Клијент демона подсетника KOrganizer-а
 GenericName[sr@Latn]=Klijent demona podsetnika KOrganizer-a
-GenericName[sv]=Korganizer-påminnelsedemonklient
+GenericName[sv]=Korganizer-alarmdemonklient
 GenericName[uk]=Даемон клієнта нагадування для KOrganizer
-GenericName[xx]=xxKOrganizer Reminder Daemon Clientxx
 GenericName[zh_CN]=KOrganizer 定时守护进程的客户端程序
 Terminal=false
 X-KDE-autostart-after=panel
Index: korganizer/interfaces/calendar/calendarplugin.desktop
===================================================================
--- korganizer/interfaces/calendar/calendarplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/interfaces/calendar/calendarplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -36,6 +36,7 @@
 Comment[mk]=Календар - додаток
 Comment[mt]=Plagin tal-kalendarju
 Comment[nb]=Calendar-programtillegg
+Comment[nds]=Kalenner-Moduul
 Comment[nl]=Agendaplugin
 Comment[nn]=Kalendermodul
 Comment[nso]=Plugin ya Tshupamabaka
@@ -59,7 +60,6 @@
 Comment[ven]=U pulaga ha khalenda
 Comment[vi]=Plugin lịch
 Comment[xh]=Ikhalenda ye Plugin
-Comment[xx]=xxCalendar Pluginxx
 Comment[zh_CN]=日历插件
 Comment[zh_TW]=Calendar 外掛程式
 Comment[zu]=Iplagi Yekhalanda
Index: korganizer/interfaces/calendar/calendardecoration.desktop
===================================================================
--- korganizer/interfaces/calendar/calendardecoration.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/interfaces/calendar/calendardecoration.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -33,6 +33,7 @@
 Comment[mk]=Календар - додаток за изглед
 Comment[mt]=Plagin ta' dekorazzjoni tal-kalendarju
 Comment[nb]=Calendar dekorasjonsprogramtillegg
+Comment[nds]=Dekoratschoon för den Kalenner
 Comment[nl]=Agendadecoratieplugin
 Comment[nn]=Tilleggsmodul for kalenderpynt
 Comment[nso]=Plugin ya Kgabiso ya Tshupamabaka
@@ -55,7 +56,6 @@
 Comment[ven]=Pulagini yo khavhisiwaho ya khalenda
 Comment[vi]=Plugin phối trí lịch 
 Comment[xh]=Ikhalenda Yohombiso lwe Plugin
-Comment[xx]=xxCalendar Decoration Pluginxx
 Comment[zh_CN]=日历装饰插件
 Comment[zh_TW]=Calendar 文字裝飾外掛程式
 Comment[zu]=Ikhalenda Yeplagi Yokuhlobisa
Index: korganizer/interfaces/korganizer/korgprintplugin.desktop
===================================================================
--- korganizer/interfaces/korganizer/korgprintplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/interfaces/korganizer/korgprintplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -30,6 +30,7 @@
 Comment[mk]=Организатор - дел
 Comment[mt]=Parti ta' KOrganizer
 Comment[nb]=KOrganizerdel
+Comment[nds]=KOrganizer-Komponent
 Comment[nn]=KOrganizer-del
 Comment[nso]=Seripa sa KMokopanyi
 Comment[pl]=Moduł KOrganizera
@@ -49,7 +50,6 @@
 Comment[uk]=Складова KOrganizer
 Comment[ven]=Tshipida tsha mudzudzanyi wa K
 Comment[xh]=Indawana yeKOrganizer
-Comment[xx]=xxKOrganizer Partxx
 Comment[zh_CN]=KOrganizer 部件
 Comment[zh_TW]=KOrganizer 組件
 Comment[zu]=KUmgqugquzeleli Wengxenye
Index: korganizer/interfaces/korganizer/korganizerpart.desktop
===================================================================
--- korganizer/interfaces/korganizer/korganizerpart.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/interfaces/korganizer/korganizerpart.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -30,6 +30,7 @@
 Comment[mk]=Организатор - дел
 Comment[mt]=Parti ta' KOrganizer
 Comment[nb]=KOrganizerdel
+Comment[nds]=KOrganizer-Komponent
 Comment[nn]=KOrganizer-del
 Comment[nso]=Seripa sa KMokopanyi
 Comment[pl]=Moduł KOrganizera
@@ -49,7 +50,6 @@
 Comment[uk]=Складова KOrganizer
 Comment[ven]=Tshipida tsha mudzudzanyi wa K
 Comment[xh]=Indawana yeKOrganizer
-Comment[xx]=xxKOrganizer Partxx
 Comment[zh_CN]=KOrganizer 部件
 Comment[zh_TW]=KOrganizer 組件
 Comment[zu]=KUmgqugquzeleli Wengxenye
Index: korganizer/koagenda.cpp
===================================================================
--- korganizer/koagenda.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/koagenda.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -903,7 +903,7 @@
     if ( !mItemMoved ) {
       if ( !mChanger || !mChanger->beginChange( mActionItem->incidence() ) ) {
         KMessageBox::information( this, i18n("Unable to lock item for "
-                             "modification. You cannot change make any changes."),
+                             "modification. You cannot make any changes."),
                              i18n("Locking Failed"), "AgendaLockingFailed" );
         mScrollUpTimer.stop();
         mScrollDownTimer.stop();
Index: korganizer/komonthview.cpp
===================================================================
--- korganizer/komonthview.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/komonthview.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -437,7 +437,7 @@
       public IncidenceBase::Visitor
 {
   public:
-    CreateItemVisitor() : mItem(0) {}
+    CreateItemVisitor() : mItem(0) { emails = KOPrefs::instance()->allEmails(); }
 
     bool act( IncidenceBase *incidence, QDate date, QPalette stdPal )
     {
@@ -447,6 +447,7 @@
       return incidence->accept( *this );
     }
     MonthViewItem *item() const { return mItem; }
+    QStringList emails;
 
   protected:
     bool visit( Event *event ) {
@@ -487,7 +488,7 @@
         mItem->setPalette( mStandardPalette );
       }
 
-      Attendee *me = event->attendeeByMails( KOPrefs::instance()->allEmails() );
+      Attendee *me = event->attendeeByMails( emails );
       if ( me != 0 ) {
         mItem->setReply( me->status() == Attendee::NeedsAction && me->RSVP() );
       } else
@@ -524,10 +525,8 @@
 };
 
 
-void MonthViewCell::addIncidence( Incidence *incidence )
+void MonthViewCell::addIncidence( Incidence *incidence, CreateItemVisitor& v)
 {
-  CreateItemVisitor v;
-
   if ( v.act( incidence, mDate, mStandardPalette ) ) {
     MonthViewItem *item = v.item();
     if ( item ) {
@@ -933,7 +932,7 @@
     QDate mDate;
 };
 
-void KOMonthView::changeIncidenceDisplayAdded( Incidence *incidence )
+void KOMonthView::changeIncidenceDisplayAdded( Incidence *incidence, MonthViewCell::CreateItemVisitor& v)
 {
   MonthViewCell *mvc;
   Event *event = 0;
@@ -955,31 +954,32 @@
 // FIXME: This breaks with recurring multi-day events!
      for ( uint i = 0; i < mCells.count(); i++ ) {
        if ( incidence->recursOn( mCells[i]->date() ) ) {
-         mCells[i]->addIncidence( incidence );
+         mCells[i]->addIncidence( incidence, v );
        }
      }
   } else if ( event ) {
       for ( QDateTime _date = date;
             _date <= event->dtEnd(); _date = _date.addDays( 1 ) ) {
         mvc = lookupCellByDate( _date.date() );
-        if ( mvc ) mvc->addIncidence( event );
+        if ( mvc ) mvc->addIncidence( event, v );
       }
     } else if ( todo ) {
         mvc = lookupCellByDate( date );
-        if ( mvc ) mvc->addIncidence( todo );
+        if ( mvc ) mvc->addIncidence( todo, v );
       }
 }
 
 void KOMonthView::changeIncidenceDisplay( Incidence *incidence, int action )
 {
+  MonthViewCell::CreateItemVisitor v;
   switch ( action ) {
     case KOGlobals::INCIDENCEADDED:
-      changeIncidenceDisplayAdded( incidence );
+      changeIncidenceDisplayAdded( incidence, v );
       break;
     case KOGlobals::INCIDENCEEDITED:
       for( uint i = 0; i < mCells.count(); i++ )
         mCells[i]->removeIncidence( incidence );
-      changeIncidenceDisplayAdded( incidence );
+      changeIncidenceDisplayAdded( incidence, v );
       break;
     case KOGlobals::INCIDENCEDELETED:
       for( uint i = 0; i < mCells.count(); i++ )
@@ -999,8 +999,9 @@
   Incidence::List incidences = calendar()->incidences();
   Incidence::List::ConstIterator it;
 
+  MonthViewCell::CreateItemVisitor v;
   for ( it = incidences.begin(); it != incidences.end(); ++it )
-    changeIncidenceDisplayAdded( *it );
+    changeIncidenceDisplayAdded( *it, v );
 
   processSelectionChange();
 }
Index: korganizer/datenavigatorcontainer.cpp
===================================================================
--- korganizer/datenavigatorcontainer.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/datenavigatorcontainer.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -49,7 +49,7 @@
   mNavigatorView = new KDateNavigator( this, name );
   QWhatsThis::add( mNavigatorView,
                    i18n( "<qt><p>Select the dates you want to "
-                         "display in KOrganizer's main view here. Hold the "
+                         "display in KOrganizer's main view here. Hold down the "
                          "mouse button to select more than one day.</p>"
                          "<p>Press the top buttons to browse to the next "
                          "/ previous months or years.</p>"
Index: korganizer/plugins/datenums/datenums.desktop
===================================================================
--- korganizer/plugins/datenums/datenums.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/plugins/datenums/datenums.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -18,6 +18,7 @@
 Name[ja]=カレンダの日付プラグイン
 Name[lt]=Datų numerių priedas kalendoriams
 Name[nb]=Datonummer programtillegg for Kalender
+Name[nds]=Kalennerdag-Moduul för Kalenners
 Name[nl]=Datumgetallenplugin voor agenda's
 Name[nn]=Datonummer programtillegg for Kalender
 Name[pl]=Wtyczka numerów dni dla Kalendarzy
@@ -33,7 +34,6 @@
 Name[tg]=Санаҳои тақвим
 Name[tr]=Takvimler için Tarih Rakamları Eklentisi
 Name[uk]=Втулок дат для календарів
-Name[xx]=xxDate Numbers Plugin for Calendarsxx
 Name[zh_CN]=日历的日期数字插件
 Comment=For each day this plugin shows its daynumber of the year at the top of the agenda view. For example, February 1 is day 32 of the year.
 Comment[bg]=Приставката служи за показване на деня от началото на годината. Примерно, 1-ви февруари е 32-ия ден от годината.
@@ -49,8 +49,10 @@
 Comment[hu]=Megjeleníti az év elejétől eltelt napok számát az áttekintő nézet tetején. Például február elseje az év 32. napja.
 Comment[is]=Þetta íforrit sýnir efst í fundarskránni númer hvers dags í árinu. T.d. er 1. febrúar 32. dagurinn í árinu.
 Comment[it]=Per ciascun giorno, questo plugin mostra la data giuliana (numero progressivo a partire dal primo gennaio dell'anno corrente). Per esempio al primo di febbraio corrisponde il numero 32.
+Comment[ja]=各日付について本プラグインはアジェンダビューの先頭にその年の何日目であるかを表示します。例えば、2 月 1 日はその年の 32 日目です。
 Comment[lt]=Kiekvienai dienai šis priedas rodo metų dienos numerį tvarkyklės viršuje. Pvz., Vasario 1 yra32 metų diena.
 Comment[nb]=For hver dag viser dette programtillegget dagens nummer i året øverst på dagsvisningen. 1. februar er f.eks. dag nr. 32 i året.
+Comment[nds]=Dit Moduul wiest för elkeen Dag sien Nummer in't Johr baven de Dagansicht. De 1. Februor is t.B. de 32. Dag vun't Johr.
 Comment[nl]=Deze plugin zorgt ervoor dat het dagnummer boven de agendaweergave wordt geplaatst. Bijvoorbeeld, bij 1 februari hoort dagnummer 32.
 Comment[nn]=For kvar dag vil dette programtillegget visa nummeret til denne dagen i året øvst i tidsplanen. 1. februar vil til dømes visast som dag 32.
 Comment[pl]=Ta wtyczka dla każdego dnia pokazuje jego numer kolejny w roku, na szczycie widoku planu. Na przykład, 1 luty to 32 dzień roku.
@@ -64,7 +66,6 @@
 Comment[ta]=ஒவ்வோரு நாளும் நிகழ்ச்சி நிரல் காட்சியின் மேற்புறத்தில் வருடத்தின் நாளின் எண்ணை இந்த சொருகுப்பொருள் காட்டுகிறது. உதாரணமாக, பிப்ரவரி 1 வருடத்தின் 32வது நாள்
 Comment[tr]=Bu eklenti, her gün için tarih bilgisini gün sayısı olarak ajanda görünümünün yukarısında gösterir. Örneğin, 1 Şubat yılın 32. günüdür.
 Comment[uk]=Цей втулок показує зверху перегляду щоденника номер для кожного дня року. Наприклад, 1-го лютого - це 32 день року.
-Comment[xx]=xxFor each day this plugin shows its daynumber of the year at the top of the agenda view. For example, February 1 is day 32 of the year.xx
 Comment[zh_CN]=此插件可对每天在议事日程视图中上方显示该日在一年中的序号。例如，2月1日是一年的第32天。
 Type=Service
 ServiceTypes=Calendar/Plugin,Calendar/Decoration
Index: korganizer/plugins/projectview/projectview.desktop
===================================================================
--- korganizer/plugins/projectview/projectview.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/plugins/projectview/projectview.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -32,6 +32,7 @@
 Name[lv]=Projekta Skatījuma Iespraudnis KOrganaizeram
 Name[mk]=Project View додаток за Организатор
 Name[nb]=Programtilllegg for prosjektvisning i KOrganizer
+Name[nds]=Projektkieker-Moduul för KOrganizer
 Name[nl]=Projectenweergaveplugin voor KOrganizer
 Name[nn]=Programtillegg for prosjektvising i KOrganizer
 Name[nso]=Plugin ya Pono ya Porojeke ya KMmeakanyi
@@ -52,7 +53,6 @@
 Name[ven]=Plugin ya mbonalelo ya phurodzhekiti ya mudzudzanyi wa K
 Name[vi]=Plugin xem dự án cho KOrganizer
 Name[xh]=Iprojekthi Ijongela KOrganize i Plugin
-Name[xx]=xxProject View Plugin for KOrganizerxx
 Name[zh_CN]=KOrganizer 的项目查看插件
 Name[zh_TW]=KOrganizer 專案檢視外掛程式
 Name[zu]=Project Khombisa Iplagi ye KUmgqugquzeli
@@ -69,8 +69,10 @@
 Comment[hu]=Ezzel a modullal projekttervező nézet alakítható ki a KOrganizerben (például a feladatokhoz vagy a havi nézetekhez). Ha aktiválja ezt a modult, átválthat projektnézetbe, hogy a feladatok projekttervként legyenek megtekinthetők.
 Comment[is]=Þetta íforrit veitir verkskipulagssýn fyrir KOrganizer (svipað og verkþátta eða mánaðarsýn). Ef þú virkjar þetta íforrit, getur þú á einfaldan hátt skipt yfir í verkefnasýn og skoðað verkþáttalistann þinn í skipuleggjara.
 Comment[it]=Questo plugin fornisce una vista di pianificazione progetto per KOrganizer (come la vista delle cose da fare o quella mensile). Se abiliti questo plugin, puoi passare dalla vista progetto alla vista delle cose da fare come in un pianificatore di progetti.
+Comment[ja]=本プラグインは (to-do 又は月ごとのビューのような) KOrganizer 用のプロジェクト計画ビューを供給します。本プラグインを有効にすると、プロジェクトビューに切替え、プロジェクトプランナにあるような to-do リストを閲覧できます。
 Comment[lt]=Šis priedas pateikia KOrganizaer projekto planavimo vaizdą (panašiai kaip darbų ar mėnesio vaizdai). Jei įjungsite šį įskiepį, galėsite peršokti į projekto vaizdą ir peržiūrėti savo darbų sąrašą kaip projektą.
 Comment[nb]=Dette tilleggsprogrammet lager en prosjektplan-visning for KOrganizer (som i gjørelister og månedsvisninger). Slår du på dette tilleggsprogrammet kan du bytte til prosjektvisning og se på gjørelista som i en prosjektplan.
+Comment[nds]=Mit dit Moduul kannst Du in KOrganizer en Projektplaan-Ansicht opropen (jüst as de Opgaven- oder Maandansichten). Wenn Du dit Moduul aktiveerst, kannst Du na de Projektansicht wesseln un Dien Opgavenlist as mit en Projektplaner ankieken.
 Comment[nl]=Deze plugin biedt een projectweergave voor KOrganizer (net zoals een takenlijst of maandweergave). Wanneer u deze plugin aanzet, kunt u deze weergave aanzetten om uw takenlijst te bekijken als een projectplanner.
 Comment[nn]=Dette programtillegget lagar ei prosjektplanvising for KOrganizer (slik som oppgåve- eller månadsvisingane). Dersom du brukar dette programtillegget, kan du visa oppgåvelista som i ein prosjektplanleggjar.
 Comment[pl]=Ta wtyczka tworzy widok planowania projektu w KOrganizerze (tak jak widok zadań do zrobienia lub widok miesiąca). Po włączeniu tej wtyczki możliwe jest przełączenie się na widok projektu zadań do zrobienia.
@@ -84,7 +86,6 @@
 Comment[ta]=இந்த சொருகுப்பொருள் KOrganizer-க்கான ஒரு திட்டப்பணி செய்யும் காட்சியை வழங்குகிறது. (செய்யவேண்டியது அல்லது மாத காட்சிகள் போன்ற). இது செயலில் இருந்தால், நீங்கள் திட்டக்காட்சிக்கு செல்லலாம் திட்ட அமைப்பான் போன்ற திட்டக் காட்சிக்கும் செல்லலாம்.
 Comment[tr]=Bu eklenti, KOrganizer için bir proje planı görünümü sağlar (yapılacaklar ve aylık görünüm gibi). Eğer bu eklentiyi aktif hale getirirseniz, proje görünümüne geçebilir ve yapılacaklar listenizi proje planlayıcısı şeklinde görüntüleyebilirsiniz.
 Comment[uk]=Цей втулок показує вигляд планування проектів у KOrganizer (подібно до виглядів завдань або місячного). Якщо увімкнути цей втулок, то можна переглядати ваш список завдань у вигляді плановика проектів.
-Comment[xx]=xxThis plugin provides a project planning view for KOrganizer (like the to-do or month views). If you enable this plugin, you can switch to the project view and view your to-do list like in a project planner.xx
 Comment[zh_CN]=此插件为 KOrganizer 提供了项目规划视图(类似于待办或月视图)。如果您启用了此插件，您可以像项目规划程序那样切换到项目视图并查看您的待办清单。
 Type=Service
 ServiceTypes=KOrganizer/Part
Index: korganizer/plugins/exchange/exchange.desktop
===================================================================
--- korganizer/plugins/exchange/exchange.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/plugins/exchange/exchange.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -22,6 +22,7 @@
 Name[ja]=KOrganizerの Microsoft Exchange 2000 プラグイン
 Name[lt]=Microsoft Exchange 2000 priedas, skirtas KOrganizer
 Name[nb]=Microsoft Exchange 2000 programtillegg for KOrganizer
+Name[nds]=MSExchange2000-Moduul för KOrganizer
 Name[nl]=Microsoft Exchange 2000 plugin voor KOrganizer
 Name[nn]=Microsoft Exchange 2000 programtillegg for KOrganizer
 Name[pl]=Wtyczka Microsoft Exchange 2000 dla Organizatora
@@ -37,7 +38,6 @@
 Name[tg]=Дастрасӣ ба Microsoft Exchange 2000
 Name[tr]=KOrganizer için Microsoft Exchange 2000 Eklentisi
 Name[uk]=Втулок Microsoft Exchange 2000 для KOrganizer
-Name[xx]=xxMicrosoft Exchange 2000 Plugin for KOrganizerxx
 Name[zh_CN]=KOrganizer 的 Microsoft Exchange 2000 插件
 Comment=This plugin allows korganizer users to work with Microsoft Exchange 2000 groupware servers.
 Comment[bg]=Приставката служи за връзка на Korganizer със сървъра Microsoft Exchange 2000 groupware.
@@ -53,8 +53,10 @@
 Comment[hu]=Ez a modul lehetővé teszi KOrganizer-felhasználóknak Microsoft Exchange 2000-kiszolgálón tárolt csoportmunka-adatok elérését.
 Comment[is]=Þetta íforrit gerir KOrganizer kleyft að vinna með Microsoft Exchange 2000 hópvinnuþjónum.
 Comment[it]=Questo plugin pemette agli utenti di korganizer di lavorare con i server groupware Microsoft Exchange 2000.
+Comment[ja]=本プラグインにより、korganizer のユーザは Microsoft Exchange 2000 グループウェアサーバとの同期が可能となります。
 Comment[lt]=Šis priedas leidžia korganizer dirbti su Microsoft Exchange 2000 groupware serveriais.
 Comment[nb]=Med dette programtillegget kan korganizer-brukere arbeide med gruppevare-tjenere fra Microsoft Exchange 2000.i
+Comment[nds]=Över dit Moduul köönt KOrganizer-Brukers mit Groupware-Servers för MSExchange-2000 arbeiden.
 Comment[nl]=Deze plugin maakt het mogelijk om Microsoft Exchange 2000 te gebruiken in KOrganizer.
 Comment[nn]=Dette programtillegget lèt KOrganizer-brukarar arbeida saman med Microsoft Exchange 2000-gruppevaretenarar.
 Comment[pl]=Ta wtyczka pozwala KOrganizerowi współpracować z serwerami pracy grupowej Microsoft Exchange.
@@ -68,7 +70,6 @@
 Comment[ta]=இந்த சொருகுப்பொருள் korganizer பயனர்களை மைக்ரோசாப்ட் எக்ஸ்சேஞ்ச் 2000 குழுவாரி சேவகன்களில் பணி செய்ய அனுமதிக்கிறது.
 Comment[tr]=Bu eklenti KOrganizer kullanıcılarının Microsoft Exchange 2000 sunucuları ile çalışabilmelerini sağlar.
 Comment[uk]=Цей втулок дозволяє користувачам korganizer працювати з серверами групової роботи Microsoft Exchange 2000.
-Comment[xx]=xxThis plugin allows korganizer users to work with Microsoft Exchange 2000 groupware servers.xx
 Comment[zh_CN]=此插件允许 KOrganizer 用户与 Microsoft Exchange 2000 群件服务器协同工作。
 Type=Service
 ServiceTypes=KOrganizer/Part
Index: korganizer/plugins/printing/whatsnext/whatsnextprint.desktop
===================================================================
--- korganizer/plugins/printing/whatsnext/whatsnextprint.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/plugins/printing/whatsnext/whatsnextprint.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -13,8 +13,10 @@
 Name[hu]=A közeljövő eseményeinek kinyomtatása
 Name[is]=Hvað er næst prentstíll
 Name[it]=Stile di stampa "cosa viene dopo"
+Name[ja]=次の印刷スタイル
 Name[lt]=Ateinančių įvykių spausdinimo stilius
 Name[nb]=Utskriftsstil for Hva Nå
+Name[nds]=Druckstil för "Wat kummt nu"-Indrääg
 Name[nl]=Printstijl voor Wat komt er nu
 Name[nn]=Utskriftsstil for «Kva no»
 Name[pl]=Styl drukowania "Do dalej"
@@ -28,7 +30,6 @@
 Name[ta]=அடுத்டு என்ன அச்சுப் பாணி
 Name[tr]=Sıradaki Nedir Yazdırma Tarzı
 Name[uk]=Стиль друку "Що далі?"
-Name[xx]=xxWhat's Next Print Stylexx
 Name[zh_CN]=下步安排打印样式
 Comment=This plugin allows you to print out a list of all upcoming events and to-dos.
 Comment[bg]=Приставката служи за печат на бъдещи събития и задачи в списъчна форма.
@@ -43,8 +44,10 @@
 Comment[hu]=Ezzel a modullal kinyomtathatók a rövidesen aktuálissá váló feladatok és események.
 Comment[is]=Þetta íforrit gerir þér kleyft að prenta út lista yfir alla væntanlega atburði og verkþætti.
 Comment[it]=Questo plugin vi permette di stampare una lista dei prossimi eventi e cose da fare.
+Comment[ja]=本プラグインにより、将来の全てのイベントや to-do のリストを印刷できるようになります。
 Comment[lt]=Šis priedas leidžia spausdinti sąrašą visų artėjančių įvykių ir darbų.
 Comment[nb]=Med dette tilleggsprogrammet kan du skrive ut en liste over kommende hendelser og ting som skal gjøres.
+Comment[nds]=Mit dit Moduul kann en List vun de direktemang nakamen Begeefnissen un Opgaven utdruckt warrn.
 Comment[nl]=Deze plugin maakt het mogelijk om een lijst van alle komende evenementen en taken uit te printen.
 Comment[nn]=Dette programtillegget lèt deg skriva ut ei liste over alle dei komande hendingane og oppføringane i hugselista.
 Comment[pl]=Ta wtyczka pozwala wydrukować wszystkie przyszłe zdarzenia i zadania.
@@ -58,7 +61,6 @@
 Comment[ta]=இந்த சொருகுப்பொருள் ஒரு வரப்போகும் நிகழ்வுகளின் பட்டியல் மற்றும் செய்யவேண்டியவைகளை அச்சிட உங்களை அனுமதிக்கிறது.
 Comment[tr]=Bu eklenti, sıradaki olayları ve yapılacaklar listesini bir liste biçiminde yazdırmanızı sağlar.
 Comment[uk]=Цей втулок дозволяє друкувати список всіх майбутніх подій та завдань.
-Comment[xx]=xxThis plugin allows you to print out a list of all upcoming events and to-dos.xx
 Comment[zh_CN]=此插件允许您打印所有即将到达的事件和代办事宜。
 Type=Service
 ServiceTypes=Calendar/Plugin,KOrganizer/PrintPlugin
Index: korganizer/plugins/printing/journal/journalprint.desktop
===================================================================
--- korganizer/plugins/printing/journal/journalprint.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/plugins/printing/journal/journalprint.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -13,8 +13,10 @@
 Name[hu]=Naplónyomtatási stílus
 Name[is]=Dagbókarprentstíll
 Name[it]=Stile di stampa a diario
+Name[ja]=Journal 印刷スタイル
 Name[lt]=Dienyno spausdinimo stilius
 Name[nb]=Utskriftsstil for dagbok
+Name[nds]=Daagbook-Druckstil
 Name[nl]=Printstijl voor journaals
 Name[nn]=Utskriftsstil for dagbok
 Name[pl]=Styl drukowania dziennika
@@ -28,7 +30,6 @@
 Name[ta]=செய்தி அச்சுப்பாணி
 Name[tr]=Günlük Yazdırma Tarzı
 Name[uk]=Стиль друку журналом
-Name[xx]=xxJournal Print Stylexx
 Name[zh_CN]=日记打印样式
 Comment=This plugin allows you to print out journal entries (diary entries).
 Comment[bg]=Приставката служи за печат на дневника.
@@ -43,8 +44,10 @@
 Comment[hu]=Ez a modul naplóbejegyzések kinyomtatását teszi lehetővé.
 Comment[is]=Þetta íforrit gerir þér kleyft að prenta út dagbókarfærslur.
 Comment[it]=Questo plugin ti permette di stampare le registrazioni del diario.
+Comment[ja]=本プラグインにより Journal のエントリ (日記のエントリ)を印刷可能となります。
 Comment[lt]=Šis priedas leidžia spausdinti dienyno įrašus.
 Comment[nb]=Med dette tilleggsprogrammet kan du skrive ut oppføringer i dagboka.
+Comment[nds]=Mit dit Moduul köönt Daagbook-Indrääg utdruckt warrn.
 Comment[nl]=Deze plugin maakt het mogelijk om journalen uit te printen (dagboekitems).
 Comment[nn]=Dette programtillegget lèt deg skriva ut dagboksoppføringar.
 Comment[pl]=Ta wtyczka pozwala drukować wpisy dziennika.
@@ -58,7 +61,6 @@
 Comment[ta]=இந்த சொருகுப்பொருள் இதழ் உள்ளீடுகளை அச்சிட உங்களை அனுமதிக்கிறது (நாள் குறிப்பேடு உள்ளீடுகள்).
 Comment[tr]=Bu eklenti, günlük girişlerinizi yazıcıdan çıkartmanızı sağlar.
 Comment[uk]=Цей журнал надає можливість друкувати записи журналу (записи щоденника).
-Comment[xx]=xxThis plugin allows you to print out journal entries (diary entries).xx
 Comment[zh_CN]=此插件允许您打印日记项目。
 Type=Service
 ServiceTypes=Calendar/Plugin,KOrganizer/PrintPlugin
Index: korganizer/plugins/printing/list/listprint.desktop
===================================================================
--- korganizer/plugins/printing/list/listprint.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/plugins/printing/list/listprint.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -14,8 +14,10 @@
 Name[hu]=Eseménylista kinyomtatása
 Name[is]=Listaprentstíll
 Name[it]=Stile di stampa ad elenco
+Name[ja]=印刷スタイルのリスト
 Name[lt]=Sąrašo spausdinimo stilius
 Name[nb]=Utskriftsstil for liste
+Name[nds]=Listen-Druckstil
 Name[nl]=Printstijl voor lijsten
 Name[nn]=Utskriftsstil for dagbøker
 Name[pl]=Styl drukowania listy
@@ -29,7 +31,6 @@
 Name[ta]=அச்சு பாணியை பட்டியலிடு
 Name[tr]=Liste Yazdırma Tarzı
 Name[uk]=Стиль друку списком
-Name[xx]=xxList Print Stylexx
 Name[zh_CN]=列表打印样式
 Comment=This plugin allows you to print out events and to-dos in list form.
 Comment[bg]=Приставката служи за печат на събитията и задачите в списъчна форма.
@@ -45,8 +46,10 @@
 Comment[hu]=Ezzel a modullal listaként kinyomtathatók a feladatok és események.
 Comment[is]=Þetta íforrit gerir þér kleyft að prenta út lista með atburðum og verkþáttum.
 Comment[it]=Questo plugin ti permette di stampare eventi e cose da fare in modalità elenco.
+Comment[ja]=本プラグインにより、リストフォーム内のイベントや to-do を印刷できるようになります。
 Comment[lt]=Šis priedas leidžia spausdinti įvykius ir darbus sąrašo forma.
 Comment[nb]=Med dette tilleggsprogrammet kan du skrive ut hendelser og gjørelister på liste-form.
+Comment[nds]=Mit dit Moduul köönt Begeefnissen un Opgaven as Listen utdruckt warrn.
 Comment[nl]=Deze plugin maakt het mogelijk om evenementen en taken in lijstvorm uit te printen.
 Comment[nn]=Dette programtillegget lèt deg skriva ut hendingar og hugselister på listeform.
 Comment[pl]=Ta wtyczka pozwala drukować zdarzenia i zadania w postaci listy.
@@ -60,7 +63,6 @@
 Comment[ta]=இந்த சொருகுப்பொருள் பட்டியல் படிவத்தில் உள்ள செய்திகள் மற்றும் செய்யவேண்டியவைகளை அச்சிட உங்களை அனுமதிக்கிறது.
 Comment[tr]=Bu eklenti, olayları ve yapılacaklar listesini bir liste biçiminde yazdırmanızı sağlar.
 Comment[uk]=Цей втулок дозволяє друкувати події і завдання у вигляді списку.
-Comment[xx]=xxThis plugin allows you to print out events and to-dos in list form.xx
 Comment[zh_CN]=此插件允许您以列表格式打印事件和待办事宜。
 Type=Service
 ServiceTypes=Calendar/Plugin,KOrganizer/PrintPlugin
Index: korganizer/plugins/timespanview/timespanview.desktop
===================================================================
--- korganizer/plugins/timespanview/timespanview.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/plugins/timespanview/timespanview.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -5,6 +5,7 @@
 Name[cs]=Modul časového pohledu pro KOrganizer
 Name[da]=Timespan-visning-plugin for KOrganizer
 Name[de]=Zeitspannenansicht-Modul für KOrganizer
+Name[el]=Πρόσθετο προβολής εργασιών του KOrganizer
 Name[es]=Extensión de visor de Timespan para KOrganizer
 Name[et]=KOrganizeri perioodivaate plugin
 Name[eu]=KOrganizer-rako denbora-barruti ukuspegi plugin-a
@@ -12,8 +13,10 @@
 Name[hu]=Időszakáttekintő bővítőmodul a KOrganizerhez
 Name[is]=Tímabilsskoðunar íforrit fyrir KOrganizer
 Name[it]=Plugin vista intervalli temporali per KOrganizer
+Name[ja]=KOrganizer 用 Timespan View プラグイン
 Name[lt]=Laiko tarpsnio vaizdo KOrganizer priedas
 Name[nb]=Programtilllegg for periodevisning i KOrganizer
+Name[nds]=Tietbruuk-Moduul för KOrganizer
 Name[nl]=Tijdspanneplugin voor KOrganizer
 Name[nn]=Programtillegg for tidsromsvising i KOrganizer
 Name[pl]=Wtyczka widoku zakresu czasu dla KOrganizera
@@ -27,13 +30,13 @@
 Name[ta]=கேஅமைப்பாளருக்கான திட்டக் காட்சி சொருகுப்பொருள்
 Name[tr]=KOrganizer için Zaman Dilimi Görünümü Eklentisi
 Name[uk]=Втулок перегляду періоду часу для KOrganizer
-Name[xx]=xxTimespan View Plugin for KOrganizerxx
 Name[zh_CN]=KOrganizer 的时间跨度查看插件
 Comment=This plugin provides a timespan view for korganizer (like the to-do or month views). If you enable this plugin, you can switch to the timespan view and view your events like in a Gantt diagram.
 Comment[bg]=Приставката служи за преглед на събитията и задачите в зададен период от време.
 Comment[cs]=Tento modul umožňuje časový pohled pro korganizer (podobně jako úkoly nebo měsíční pohled). Pokud ho povolíte, můžete se přepnout na časový pohled a prohlížet si události v Ganttově diagramu.
 Comment[da]=Pluginnet sørger for en tidsintervalsvisning i Korganizer (som ligner gøremål eller månedsvisning). Hvis du aktiverer dette plugin kan du skifte til tidsintervalvisning og vise dine begivenheder som i et Gantt-diagram.
 Comment[de]=Mit diesem Modul wird KOrganizer um eine Zeitspannenansicht (ähnlich der Aufgaben- und Monatsansicht) erweitert. Wenn Sie es einschalten, können Sie zur Zeitspannenansicht wechseln und sich Ihre Ereignisse wie in einem Gantt-Diagramm ansehen.
+Comment[el]=Αυτό το πρόσθετο παρέχει μία προβολή 'ανοίγματος' χρόνου για το korganizer (όπως οι μηνιαίες προβολές των προς υλοποίηση εργασιών). Αν το ενεργοποιήσετε, μπορείτε να αλλάξετε σε προβολή 'ανοίγματος' χρόνου και να δείτε τα γεγονότα σας όπως ένα διάγραμμα του Gantt.
 Comment[es]=Esta extensión proporciona una vista de timespan para korganizer (como la vista de tareas pendientes o la mensual). Si activa esta extensión, puede pasar a la vista de timespan y ver sus eventos como un diagrama de Gantt.
 Comment[et]=See plugin lisab KOrganizerile perioodivaate (nagu ülesannete või kuuvaade). Selle lubamisel saab lülituda perioodivaatele ning näha oma sündmusi Gantti diagrammina.
 Comment[eu]=Plugin honek KOrganizer-entzat denbora barruti ikuspegi bat eskeintzen du. Plugin hau gaitzen baduzu denbora-barruti ikuspegira alda zaitezke gertaerak Gantt diagrama batean bezala ikusi.
@@ -41,8 +44,10 @@
 Comment[hu]=Ezzel modullal egy időszakot lehet áttekinteni a KOrganizerben (például a feladatokat vagy a havi nézeteket). Ha aktiválja ezt a modult, átválthat időszakos nézetbe, hogy az események Gantt-diagramon legyenek megtekinthetők.
 Comment[is]=Þetta íforrit veitir tímabilssýn fyrir KOrganizer (svipað og verkþátta eða mánaðarsýn). Ef þú virkjar þetta íforrit getur þú skipt yfir í tímabilssýn og skoðað atburðina þína eins og á Gantt skýringarmynd.
 Comment[it]=Questo plugin fornisce una vista a intervalli temporali. Se abiliti questo plugin, potrai passare alla vista a intervalli temporali e vedere i tuoi eventi come in un diagramma di Gantt.
+Comment[ja]=本プラグインは (to-do や month view のような) korganizer 用の timespan view を供給します。本プラグインを有効にすると、ガントチャートのように timespan view を切替え、イベントを表示できます。
 Comment[lt]=Šis priedas korganizer programoje sudaro galimybę apžvelgti laiko tarpą (pvz., darbų arba mėnesio peržiūra). Įgalinus šį priedą galėsite persijungti į laiko tarpo peržiūrą ir žiūrėti įvykius tarsi Gantt diagramoje.
 Comment[nb]=Dette tilleggsprogrammet lager en periodevisning for korganizer (slik som gjøreliste og månedsvisning). Hvis du slår på dette tilleggsprogrammet kan du bytte til periodevisning og se hendelser som i et Gantt-diagram.
+Comment[nds]=Mit dit Moduul kannst Du in KOrganizer en Tietbruuk-Ansicht opropen (jüst as de Opgaven- oder Maandansichten). Wenn Du dit Moduul aktiveerst, kannst Du na de Tietbruukansicht wesseln un Dien Begeefnissen as Ganntt-Diagramm ankieken.
 Comment[nl]=Deze plugin biedt een weergave voor KOrganizer (zoals de takenlijst en de maandweergave). Wanneer u deze plugin inschakelt kunt u kiezen voor een weergave waarin u uw evenementen in een Gantt-diagram kunt bekijken.
 Comment[pl]=Ta wtyczka tworzy widok zakresu czasu w KOrganizerze (tak jak widok zadań do zrobienia lub widok miesiąca). Po włączeniu tej wtyczki możliwe jest przełączenie się na widok zakresu czasu i przeglądanie zdarzeń jak na diagramie Gantta.
 Comment[pt]=Este 'plugin' oferece uma vista de distribuição temporal para o KOrganizer (como as vistas de itens por-fazer ou mensais). Se activar este 'plugin', poderá mudar para a vista de distribuição temporal e ver os seus eventos como num diagrama de Gantt.
@@ -55,7 +60,6 @@
 Comment[ta]=இந்த சொருகுப்பொருள் korganizerக்கான ஒரு குறுகிய நேரத்தை வழங்குகிறது. lசெய்யவேண்டியவை அல்ல்து மாதக் காட்சிகள் போன்ற). இந்த சொருகுப்பொருள் செயலில் இருந்தால், நீங்கள் குறுகிய நேரக் காட்சி மற்ரும் Gantt விளக்க வரைபடத்தில் உள்ளது போன்ற நிகழ்வுகளை பார்க்கலாம்.
 Comment[tr]=Bu eklenti, KOrganizer için zaman dilimi görünümü sağlar (yapılacaklar listesi ya da aylık görünüm gibi). Eğer bu eklentiyi aktif hale getirirseniz, zaman dilimi görünümüne geçebilir ve olayları Gantt diyagramı şeklinde görüntüleyebilirsiniz.
 Comment[uk]=Цей втулок показує вигляд діаграми Ганта для korganizer (подібно до вигляду завдань та місячного). Якщо увімкнути цей втулок, то можна переглядати ваші події у вигляді діаграми Ганта.
-Comment[xx]=xxThis plugin provides a timespan view for korganizer (like the to-do or month views). If you enable this plugin, you can switch to the timespan view and view your events like in a Gantt diagram.xx
 Comment[zh_CN]=此插件为 KOrganizer 提供了时间跨度视图(类似于待办或月视图)。如果您启用了此插件，您可以像甘特图程序那样切换到时间跨度视图并查看您的事件。
 Type=Service
 ServiceTypes=KOrganizer/Part
Index: korganizer/plugins/hebrew/hebrew.desktop
===================================================================
--- korganizer/plugins/hebrew/hebrew.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/plugins/hebrew/hebrew.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -21,6 +21,7 @@
 Name[ja]=ユダヤ歴カレンダープラグイン
 Name[lt]=Žydų kalendoriaus priedas
 Name[nb]=Programtillegg for jødisk kalender
+Name[nds]=Moduul för juudschen Kalenner
 Name[nl]=Joodse kalenderplugin
 Name[nn]=Programtillegg for jødisk kalender
 Name[pl]=Wtyczka kalendarza żydowskiego
@@ -36,7 +37,6 @@
 Name[tg]=Тақвимоти яҳудӣ
 Name[tr]=İbrani Takvimi Eklentisi
 Name[uk]=Втулок єврейського календаря
-Name[xx]=xxJewish Calendar Pluginxx
 Name[zh_CN]=犹太教日历插件
 Comment=Shows all dates in korganizer also in the Jewish calendar system.
 Comment[bg]=Приставката служи за показване на датите според еврейския календар.
@@ -52,8 +52,10 @@
 Comment[hu]=A KOrganizer dátumait kiírja a hagyományos zsidó naptár szerint is.
 Comment[is]=Sýna alla dagsetningar í KOrganizer sem eru einnig í dagatali gyðinga.
 Comment[it]=Mostra tutte le date in korganizer secondo il calendario ebraico.
+Comment[ja]=korganizer の全ての日付をユダヤ暦でも表示する。
 Comment[lt]=Rodo visas dienas kalendoriuje taip pat ir žydų kalendoriaus sistema.
 Comment[nb]=Viser alle datoer i korganizer også i det jødiske kalendersystemet. 
+Comment[nds]=Wiest all Daten binnen KOrganizer ok in den juudschen Kalenner.
 Comment[nl]=Toont alle data in KOrganizer ook in het Joodse kalendersysteem.
 Comment[nn]=Viser alle datoane i KOrganizer i den jødiske kalenderen.
 Comment[pl]=Pokazuje wszystkie daty w KOrganizerze również w kalendarzu żydowskim.
@@ -67,7 +69,6 @@
 Comment[ta]=korganizer மற்றும் ஜேவிஷ் நாட்காட்டி அமைப்பில் ல் உள்ள எல்லா தேதிகளையும் காட்டுகிறது.
 Comment[tr]=KOrganizer'da tüm tarihleri İbrani takvimine göre gösterir.
 Comment[uk]=Показує всі дати в korganizer також і в системі єврейського календаря.
-Comment[xx]=xxShows all dates in korganizer also in the Jewish calendar system.xx
 Comment[zh_CN]=在 KOrganizer 中显示犹太教日历系统的全部日期。
 Type=Service
 ServiceTypes=Calendar/Plugin,Calendar/Decoration
Index: korganizer/korganizer.kcfg
===================================================================
--- korganizer/korganizer.kcfg	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/korganizer.kcfg	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -82,7 +82,7 @@
       <choices>
         <choice name="standardDestination">
           <label>Be added to the standard resource</label>
-          <whatsthis>Select this option to always record a new events, to-dos and journal entries using the standard resource.</whatsthis>
+          <whatsthis>Select this option to always record new events, to-dos and journal entries using the standard resource.</whatsthis>
         </choice>
         <choice name="askDestination">
           <label>Be asked which resource to use</label>
@@ -106,7 +106,7 @@
     </entry>
     <entry type="String" key="user_name" name="UserName">
       <label>Full &amp;name</label>
-      <whatsthis>Enter here your full name. This name will be displayed as "Organizer" in to-dos and events you create.</whatsthis>
+      <whatsthis>Enter your full name here. This name will be displayed as "Organizer" in to-dos and events you create.</whatsthis>
       <default code="true">i18n(&quot;Anonymous&quot;)</default>
     </entry>
     <entry type="String" key="user_email" name="UserEmail">
@@ -366,7 +366,6 @@
     <entry type="Font" key="TimeBar Font">
       <label>Time bar</label>
       <whatsthis>Press this button to configure the time bar font. The time bar is the widget that shows the hours in the agenda view. This button will open the &quot;Select Font&quot; dialog, allowing you to choose the hour font for the time bar.</whatsthis>
-      <default code="true">QFont(QString::null, 16)</default>
     </entry>
     <entry type="Font" key="AgendaView Font">
       <label>Agenda view</label>
Index: korganizer/komonthview.h
===================================================================
--- korganizer/komonthview.h	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/komonthview.h	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -127,6 +127,7 @@
 {
     Q_OBJECT
   public:
+    class CreateItemVisitor;
     MonthViewCell( KOMonthView * );
 
     /** Sets the date of the cell */
@@ -160,7 +161,7 @@
     /** Adds an incidence to the cell.
         Sets the right text and icons for this incidence.
     */
-    void addIncidence( Incidence * );
+    void addIncidence( Incidence *, MonthViewCell::CreateItemVisitor& );
     /** Removes an incidence from the cell.
         @return True if successful, false if deletion failed
        (e.g. when given incidence doesn't exist in the cell.
@@ -198,7 +199,6 @@
     void contextMenu( QListBoxItem * );
 
   private:
-    class CreateItemVisitor;
     KOMonthView *mMonthView;
   // We need the calendar for paint the ResourceColor
     Calendar *mCalendar;
@@ -253,7 +253,7 @@
     virtual void showIncidences( const Incidence::List &incidenceList );
 
     void changeIncidenceDisplay(Incidence *, int);
-    void changeIncidenceDisplayAdded(Incidence *);
+    void changeIncidenceDisplayAdded(Incidence *, MonthViewCell::CreateItemVisitor&);
 
     void clearSelection();
 
Index: korganizer/journalentry.cpp
===================================================================
--- korganizer/journalentry.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/journalentry.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -204,7 +204,7 @@
   QWhatsThis::add( mTimeCheck, i18n("Determines whether this journal entry has "
                                     "a time associated with it") );
   QWhatsThis::add( mTimeEdit, i18n( "Sets the time associated with this journal "
-                                    " entry" ) );
+                                    "entry" ) );
 
   mDeleteButton = new QToolButton( this, "deleteButton" );
   QPixmap pix = KOGlobals::self()->smallIcon( "editdelete" );
Index: korganizer/korganizer_configfreebusy.desktop
===================================================================
--- korganizer/korganizer_configfreebusy.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/korganizer_configfreebusy.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -34,6 +34,7 @@
 Name[ja]=フリー/ビジー
 Name[lt]=Užimtumas
 Name[nb]=Ledig/Opptatt
+Name[nds]=Free/Bunnen
 Name[nl]=Vrij/bezet
 Name[nn]=Ledig/opptatt
 Name[pl]=Wolny/Zajęty
@@ -50,7 +51,6 @@
 Name[tr]=Boş/Meşgul
 Name[uk]=Вільний/зайнятий час
 Name[uz]=Бўш/Банд
-Name[xx]=xxFree/Busyxx
 Name[zh_CN]=忙/闲
 Comment=KOrganizer Free/Busy Configuration
 Comment[bg]=Настройки на свободно/заето за KOrganizer
@@ -60,6 +60,7 @@
 Comment[cy]=Ffurfweddiad Rhydd/Prysur KTrefnydd
 Comment[da]=KOrganizer Fri/Optaget-indstilling
 Comment[de]=Frei/Beschäftigt-Festlegung für KOrganizer
+Comment[el]=Ρυθμίσεις KOrganizer Free/Busy
 Comment[es]=Configuración de libre/ocupado de KOrganizer
 Comment[et]=KOrganizeri vaba/hõivatuse seadistused
 Comment[eu]=KOrganizer-en Libre/Lanpetuta konfigurazioa
@@ -73,6 +74,7 @@
 Comment[ja]=KOrganizer フリー/ビジー設定
 Comment[lt]=KOrganizer užimtumo konfigūravimas
 Comment[nb]=KOrganizer oppsett for ledig/opptatt tid
+Comment[nds]=Free/Bunnen-Instellen för KOrganizer
 Comment[nl]=KOrganizer vrij/bezet instellen
 Comment[nn]=KOrganizer, ledig/opptatt-innstillingar
 Comment[pl]=Konfiguracja czasu wolnego/zajętego dla KOrganizera
@@ -88,7 +90,6 @@
 Comment[tg]=Танзимоти вақти озоди органайзери KDE
 Comment[tr]=KOrganizer Boş/Meşgul Yapılandırması
 Comment[uk]=Налаштування вільного/зайнятого часу в KOrganizer
-Comment[xx]=xxKOrganizer Free/Busy Configurationxx
 Comment[zh_CN]=KOrganizer 空闲/忙碌配置
 Keywords=korganizer,freebusy,scheduling
 Keywords[bg]=организатор, свободно, заето, настройки, korganizer, freebusy, scheduling
@@ -98,6 +99,7 @@
 Keywords[cy]=korganizer,ktrefnydd,rhydd,prysur,trefnlennu
 Keywords[da]=korganizer,fri/optaget,skemalægning
 Keywords[de]=KOrganizer,Frei/Beschäftigt,Ablaufplanung
+Keywords[el]=korganizer,freebusy,προγραμματισμός
 Keywords[es]=korganizer,libreocupado,planificación
 Keywords[et]=korganizer,vaba,hõivatud,ajakava
 Keywords[eu]=korganizer,libre, lanpetuta,antolaketa
@@ -110,6 +112,7 @@
 Keywords[it]=korganizer,libero/occupato,pianificazione
 Keywords[ja]=korganizer,フリービジー,スケジューラ
 Keywords[nb]=korganizer,ledigopptatt,planlegger
+Keywords[nds]=KOrganizer,Free/Bunnen,Free,Bunnen,Planen,Plaan
 Keywords[nl]=korganizer,freebusy,scheduling,plannen,vrij,bezet,rooster
 Keywords[nn]=korganizer,ledigopptatt,planlegging
 Keywords[pl]=korganizer,wolny/zajęty,planowanie
@@ -125,5 +128,4 @@
 Keywords[tg]=korganizer,freebusy,scheduling,органайзер, вақти холӣ,ҷадвал
 Keywords[tr]=korganizer,boş/meşgul,zamanlama
 Keywords[uk]=korganizer,вільно,зайнято,час,розклад
-Keywords[xx]=xxkorganizer,freebusy,schedulingxx
 Keywords[zh_CN]=korganizer,freebusy,scheduling,空闲,忙碌,日程安排
Index: korganizer/korganizer.desktop
===================================================================
--- korganizer/korganizer.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/korganizer.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -31,6 +31,7 @@
 Comment[mk]=Календар и роковник
 Comment[mt]=Programm b' kalendarju w skeda
 Comment[nb]=Et kalender- og tidsplanleggingsprogram
+Comment[nds]=Kalenner un Tietplaner
 Comment[nl]=Agenda- en afsprakenprogramma
 Comment[nn]=Kalender- og planleggjingsprogram
 Comment[nso]=Lenaneo la Peakanyo ya Tshupamabaka
@@ -54,7 +55,6 @@
 Comment[ven]=Khalenda na mbekanyamushumo ya u shedula
 Comment[vi]=Chương trình lịch và kế hoạch
 Comment[xh]=Ikhalenda no Dweliso lwenkqubo Yokucwangcisa
-Comment[xx]=xxCalendar and Scheduling Programxx
 Comment[zh_CN]=日历和日程安排程序
 Comment[zh_TW]=日曆與行程管理程式
 Comment[zu]=Ikhalenda kanye Neprogramu Yokugcina isikhathi
@@ -78,7 +78,6 @@
 Name[sv]=Korganizer
 Name[ta]=கேஅமைப்பாளர்
 Name[ven]=Mulugisi wa K
-Name[xx]=xxKOrganizerxx
 GenericName=Personal Organizer
 GenericName[be]=Пэрсанальны арганізатар
 GenericName[bg]=Организатор
@@ -103,6 +102,7 @@
 GenericName[ja]=個人のオーガナイザ
 GenericName[lt]=Asmeninės informacijos tvarkyklė
 GenericName[nb]=Personlig planlegger
+GenericName[nds]=Persöönlich Mötenkalenner
 GenericName[nl]=Persoonlijke organizer
 GenericName[nn]=Personleg organiserar
 GenericName[pl]=Osobisty organizator
@@ -120,7 +120,6 @@
 GenericName[tr]=Kişisel Bilgi Yöneticisi
 GenericName[uk]=Персональний тижневик
 GenericName[uz]=Шахсий органайзер
-GenericName[xx]=xxPersonal Organizerxx
 GenericName[zh_CN]=个人日程安排
 ServiceTypes=Browser/View,DCOP/Organizer
 X-KDE-Library=libkorganizerpart
Index: korganizer/calendarview.cpp
===================================================================
--- korganizer/calendarview.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/calendarview.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -705,7 +705,7 @@
       Todo *todo = static_cast<Todo *>(newIncidence);
       if ( todo->isCompleted() ) {
         QString timeStr = KGlobal::locale()->formatTime( QTime::currentTime() );
-        QString description = i18n( "Todo completed: %1 (%2)" ).arg(
+        QString description = i18n( "To-do completed: %1 (%2)" ).arg(
           newIncidence->summary() ).arg( timeStr );
 
         Journal::List journals = calendar()->journals( QDate::currentDate() );
@@ -2229,7 +2229,7 @@
 void CalendarView::moveIncidenceTo( Incidence *incmove, const QDate &dt )
 {
   if ( !incmove || !mChanger ) {
-    KMessageBox::sorry( this, i18n("Unable to move the item to  %1.")
+    KMessageBox::sorry( this, i18n("Unable to move the item to %1.")
                         .arg( dt.toString() ), i18n("Moving Failed") );
     return;
   }
Index: korganizer/dcopcalendar.desktop
===================================================================
--- korganizer/dcopcalendar.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/dcopcalendar.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -27,6 +27,7 @@
 Comment[ja]=DCOP インターフェースを持つオーガナイザ
 Comment[lt]=Tvarkyklė su DCOP sąsaja
 Comment[nb]=Organizer med DCOP-grensesnitt
+Comment[nds]=Mötenkalenner mit DCOP-Koppelsteed
 Comment[nl]=Organizer met een DCOP-interface
 Comment[nn]=Organisator med eit DCOP-grensesnitt
 Comment[pl]=Organizator z interfejsem DCOP
@@ -43,5 +44,4 @@
 Comment[tg]=Органайзер бо интерфейси DCOP
 Comment[tr]=DCOP arayüzü ile Organizer
 Comment[uk]=Тижневик з інтерфейсом DCOP
-Comment[xx]=xxOrganizer with a DCOP interfacexx
 Comment[zh_CN]=具有 DCOP 接口的 PDA
Index: korganizer/koprefs.cpp
===================================================================
--- korganizer/koprefs.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/koprefs.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -62,24 +62,33 @@
 KOPrefs::KOPrefs() :
   KOPrefsBase()
 {
-  mCategoryColors.setAutoDelete(true);
-  mResourceColors.setAutoDelete(true);
+  mCategoryColors.setAutoDelete( true );
+  mResourceColors.setAutoDelete( true );
 
-  mDefaultCategoryColor = QColor(151, 235, 121);
+  mDefaultCategoryColor = QColor( 151, 235, 121 );
 
   mDefaultResourceColor = QColor();//Default is a color invalid
 
+  mDefaultTimeBarFont = KGlobalSettings::generalFont();
+  // make a large default time bar font, at least 16 points.
+  mDefaultTimeBarFont.setPointSize(
+    QMAX( mDefaultTimeBarFont.pointSize() + 4, 16 ) );
+
   mDefaultMonthViewFont = KGlobalSettings::generalFont();
   // make it a bit smaller
-  mDefaultMonthViewFont.setPointSize(mDefaultMonthViewFont.pointSize()-2);
+  mDefaultMonthViewFont.setPointSize( mDefaultMonthViewFont.pointSize() - 2 );
 
-  KConfigSkeleton::setCurrentGroup("General");
+  KConfigSkeleton::setCurrentGroup( "General" );
 
-  addItemPath("Html Export File",mHtmlExportFile,
-      QDir::homeDirPath() + "/" + i18n("Default export file", "calendar.html"));
+  addItemPath( "Html Export File", mHtmlExportFile,
+   QDir::homeDirPath() + "/" + i18n( "Default export file", "calendar.html" ) );
 
+  timeBarFontItem()->setDefaultValue( mDefaultTimeBarFont );
   monthViewFontItem()->setDefaultValue( mDefaultMonthViewFont );
   eventColorItem()->setDefaultValue( mDefaultCategoryColor );
+
+  // Load it now, not deep within some painting code
+  KABC::StdAddressBook::self();
 }
 
 
@@ -111,6 +120,7 @@
   if ( !tmp.isEmpty() ) setUserEmail( tmp );
   fillMailDefaults();
 
+  mTimeBarFont = mDefaultTimeBarFont;
   mMonthViewFont = mDefaultMonthViewFont;
 
   setTimeZoneIdDefault();
@@ -320,7 +330,7 @@
   // Add emails configured in korganizer
   lst += mAdditionalMails;
   // Add emails from the user's kaddressbook entry
-  lst += KABC::StdAddressBook::self( true )->whoAmI().emails();
+  lst += KABC::StdAddressBook::self()->whoAmI().emails();
   // Add the email entered as the userEmail here
   lst += email();
 
@@ -348,7 +358,7 @@
     fullEmails << QString("%1 <%2>").arg( fullName() ).arg( *it );
   }
   // Add emails from the user's kaddressbook entry
-  KABC::Addressee me = KABC::StdAddressBook::self( true )->whoAmI();
+  KABC::Addressee me = KABC::StdAddressBook::self()->whoAmI();
   lst = me.emails();
   for ( it = lst.begin(); it != lst.end(); ++it ) {
     fullEmails << me.fullEmail( *it );
@@ -366,7 +376,7 @@
   QString email = KPIM::getEmailAddress( _email );
   if ( mAdditionalMails.find( email ) != mAdditionalMails.end() )
     return true;
-  QStringList lst = KABC::StdAddressBook::self( true )->whoAmI().emails();
+  QStringList lst = KABC::StdAddressBook::self()->whoAmI().emails();
   if ( lst.find( email ) != lst.end() )
     return true;
   return false;
Index: korganizer/korganizer_configcolors.desktop
===================================================================
--- korganizer/korganizer_configcolors.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/korganizer_configcolors.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -44,6 +44,7 @@
 Name[lv]=Krāsas
 Name[mt]=Kuluri
 Name[nb]=Farger
+Name[nds]=Klören
 Name[nl]=Kleuren
 Name[nn]=Fargar
 Name[pl]=Kolory
@@ -67,7 +68,6 @@
 Name[ven]=Mivhala
 Name[vi]=Màu 
 Name[xh]=Imibala
-Name[xx]=xxColorsxx
 Name[zh_CN]=颜色
 Name[zu]=Imibala
 Comment=KOrganizer Colors Configuration
@@ -95,6 +95,7 @@
 Comment[ja]=KOrganizer 色設定
 Comment[lt]=KOrganizer spalvų konfigūravimas
 Comment[nb]=KOrganizer fargeoppsett
+Comment[nds]=Klören för KOrganizer instellen
 Comment[nl]=KOrganizer kleuren instellen
 Comment[nn]=KOrganizer, fargeinnstillingar
 Comment[pl]=Konfiguracja kolorów KOrganizera
@@ -112,7 +113,6 @@
 Comment[tg]=Танзимотҳои ранги органайзери KDE
 Comment[tr]=KOrganizer Renk Yapılandırması
 Comment[uk]=Налаштування кольорів у KOrganizer
-Comment[xx]=xxKOrganizer Colors Configurationxx
 Comment[zh_CN]=KOrganizer 颜色配置
 Keywords=korganizer,colors
 Keywords[be]=K Арганізатар,колеры,korganizer,colors
@@ -139,6 +139,7 @@
 Keywords[ja]=korganizer,色
 Keywords[lt]=korganizer,colors, spalvos
 Keywords[nb]=korganizer,farger
+Keywords[nds]=KOrganizer,Klören
 Keywords[nl]=korganizer,colors,kleuren
 Keywords[nn]=korganizer,fargar
 Keywords[pl]=korganizer,kolory,kolor
@@ -156,5 +157,4 @@
 Keywords[tr]=korganizer,renkler
 Keywords[uk]=korganizer,кольори
 Keywords[uz]=korganizer,органайзер,ранглар
-Keywords[xx]=xxkorganizer,colorsxx
 Keywords[zh_CN]=korganizer,colors,颜色
Index: korganizer/resourceview.cpp
===================================================================
--- korganizer/resourceview.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/resourceview.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -291,11 +291,11 @@
   for( it = manager->begin(); it != manager->end(); ++it ) {
     addResourceItem( *it );
   }
-  manager->writeConfig();
 }
 
 void ResourceView::emitResourcesChanged()
 {
+  mCalendar->resourceManager()->writeConfig();
   emit resourcesChanged();
 }
 
@@ -338,7 +338,7 @@
     delete resource;
     resource = 0;
   }
-  emit resourcesChanged();
+  emitResourcesChanged();
 }
 
 void ResourceView::addResourceItem( ResourceCalendar *resource )
@@ -384,7 +384,7 @@
 
   ResourceItem *item = static_cast<ResourceItem *>( i );
   ( void )new ResourceItem( calendar, resource, label, this, item );
-  emit resourcesChanged();
+  emitResourcesChanged();
 }
 
 // Remove an entry
@@ -462,7 +462,7 @@
 
     mCalendar->resourceManager()->change( resource );
   }
-  emit resourcesChanged();
+  emitResourcesChanged();
 }
 
 void ResourceView::currentChanged( QListViewItem *item )
@@ -475,7 +475,6 @@
      mDeleteButton->setEnabled( true );
      mEditButton->setEnabled( true );
    }
-   mCalendar->resourceManager()->writeConfig();
 }
 
 ResourceItem *ResourceView::findItem( ResourceCalendar *r )
@@ -565,7 +564,7 @@
     KOPrefs::instance()->setResourceColor( identifier, myColor );
     item->setResourceColor( myColor );
     item->update();
-    emit resourcesChanged();
+    emitResourcesChanged();
   }
 }
 
@@ -582,7 +581,7 @@
   KOPrefs::instance()->setResourceColor( identifier, colorInvalid );
   item->setResourceColor( colorInvalid );
   item->update();
-  emit resourcesChanged();
+  emitResourcesChanged();
 }
 void ResourceView::showInfo()
 {
Index: korganizer/korganizer_configdesignerfields.desktop
===================================================================
--- korganizer/korganizer_configdesignerfields.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/korganizer_configdesignerfields.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -35,12 +35,13 @@
 Name[ja]=カスタム ページ
 Name[lt]=Pasirinkti puslapiai
 Name[nb]=Tilpassede sider
+Name[nds]=Egen Sieden
 Name[nl]=Aangepaste pagina's
 Name[nn]=Tilpassa sider
 Name[pl]=Własne strony
 Name[pt]=Páginas Personalizadas
 Name[pt_BR]=Páginas personalizadas
-Name[ru]=Пользовательские вкладки
+Name[ru]=Дополнительные поля
 Name[se]=Iežat siiddut
 Name[sk]=Vlastné stránky
 Name[sl]=Prilagojene strani
@@ -51,7 +52,6 @@
 Name[tg]=Варақаҳои замимавии истифодашаванда
 Name[tr]=Özel Sayfa
 Name[uk]=Нетипові сторінки
-Name[xx]=xxCustom Pagesxx
 Name[zh_CN]=定制页
 Comment=Configure the Custom Pages
 Comment[bg]=Настройки на потребителските полета
@@ -76,6 +76,7 @@
 Comment[ja]=カスタム ページの設定
 Comment[lt]=Konfigūruoti darbastalių skaičių ir pavadinimus
 Comment[nb]=Stille inn de tilpassede sidene
+Comment[nds]=Egen Sieden instellen
 Comment[nl]=Hier kunt u de aangepaste pagina's instellen
 Comment[nn]=Set opp dei tilpassa sidene
 Comment[pl]=Konfiguracja własnych stron
@@ -92,7 +93,6 @@
 Comment[tg]=Танзимоти варақаҳои замимавии истифодашаванда
 Comment[tr]=Özel Sayfaları Yapılandır
 Comment[uk]=Налаштування нетипових сторінок
-Comment[xx]=xxConfigure the Custom Pagesxx
 Comment[zh_CN]=配置定制页
 Keywords=korganizer, configure, settings, custom fields
 Keywords[bg]=организатор, настройки, korganizer, configure, settings, custom fields
@@ -110,8 +110,10 @@
 Keywords[hu]=korganizer,beállítás,beállítások,egyéni mezők
 Keywords[is]=korganizer, stillingar, stilla, sérsniðnir reitir
 Keywords[it]=korganizer, configura, impostazioni, campi personalizzati
+Keywords[ja]=korganizer、設定、設定,カスタムフィールド
 Keywords[lt]=korganizer, configure, settings, custom fields, konfigūruoti, nustatymai, pasirinkti laukai
 Keywords[nb]=kaddressbook, sette opp, innstillinger, tilpassede felter
+Keywords[nds]=KOrganizer,Instellen,egen Feller
 Keywords[nl]=korganizer, configuratie, instellingen, aangepaste velden
 Keywords[nn]=korganizer, oppsett, innstillingar, tilpassa felt
 Keywords[pl]=korganizer,konfiguracja,ustawienia,własne pola
@@ -125,5 +127,4 @@
 Keywords[ta]=கேஅமைப்பாளர், வடிவமைப்பு,  அமைப்புகள், தனிபயன் புலங்கள்
 Keywords[tr]=korganizer, yapılandır, yapılandırma, özel alanlar
 Keywords[uk]=korganizer, configure, settings, custom fields, налаштування, параметри, нетипові поля
-Keywords[xx]=xxkorganizer, configure, settings, custom fieldsxx
 Keywords[zh_CN]=korganizer, configure, settings, custom fields, 配置, 设置, 定制项
Index: korganizer/korganizer_configgroupautomation.desktop
===================================================================
--- korganizer/korganizer_configgroupautomation.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/korganizer_configgroupautomation.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -35,6 +35,7 @@
 Name[ja]=グループ情報
 Name[lt]=Grupių automatizavimas
 Name[nb]=Gruppeautomat
+Name[nds]=Koppel-Akschonen
 Name[nl]=Groepautomatisering
 Name[nn]=Gruppeautomatisering
 Name[pl]=Automatyzacja pracy grupowej
@@ -51,7 +52,6 @@
 Name[tg]=Кори гурӯҳӣ
 Name[tr]=Grup Otomasyonu
 Name[uk]=Автоматизація груп
-Name[xx]=xxGroup Automationxx
 Name[zh_CN]=组自动化
 Comment=KOrganizer Group Automation Configuration
 Comment[bg]=Настройки на организация за KOrganizer
@@ -75,6 +75,7 @@
 Comment[ja]=KOrganizer グループ自動化設定
 Comment[lt]=KOrganizer grupių automatizavimo konfigūravimas
 Comment[nb]=KOrganizer oppsett for gruppeautomat
+Comment[nds]=Automaatsche Koppel-Akschonen för KOrganizer instellen
 Comment[nl]=KOrganizer groepautomatisering instellen
 Comment[nn]=KOrganizer, innstillingar for gruppeautomatisering
 Comment[pl]=Konfiguracja automatyzacji pracy grupowej dla KOrganizera
@@ -91,7 +92,6 @@
 Comment[tg]=Танзимоти кори гурӯҳӣ дар органайзер-KDE
 Comment[tr]=KOrganizer Grup Otomasyon Yapılandırması
 Comment[uk]=Налаштування автоматизації груп у KOrganizer
-Comment[xx]=xxKOrganizer Group Automation Configurationxx
 Comment[zh_CN]=KOrganizer 组自动化配置
 Keywords=korganizer,group,automation
 Keywords[bg]=организатор, организация, настройки, korganizer, group, automation
@@ -115,6 +115,7 @@
 Keywords[ja]=korganizer,グループ,自動化
 Keywords[lt]=korganizer,group,automation, grupės,automatizavimas
 Keywords[nb]=korganizer,gruppe,automat,automatisering
+Keywords[nds]=KOrganizer,Koppel,automaatsch,Akschoon
 Keywords[nl]=korganizer,groep,automatisering
 Keywords[nn]=korganizer,gruppe,automatisering
 Keywords[pl]=korganizer,grupy,praca grupowa,automatyzacja
@@ -131,5 +132,4 @@
 Keywords[tg]=korganizer,group,automation,кори гурӯҳӣ, органайзер
 Keywords[tr]=korganizer,grup,otomasyon
 Keywords[uk]=korganizer,група,автоматизація
-Keywords[xx]=xxkorganizer,group,automationxx
 Keywords[zh_CN]=korganizer,group,automation,组,自动化
Index: korganizer/korganizer_configviews.desktop
===================================================================
--- korganizer/korganizer_configviews.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/korganizer_configviews.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -38,6 +38,7 @@
 Name[ja]=ビューア
 Name[lt]=Žiūrikliai
 Name[nb]=Visninger
+Name[nds]=Ansichten
 Name[nl]=Weergaven
 Name[nn]=Visingar
 Name[pl]=Widoki
@@ -56,7 +57,6 @@
 Name[tr]=Görünümler
 Name[uk]=Перегляди
 Name[uz]=Кўринишлар
-Name[xx]=xxViewsxx
 Name[zh_CN]=视图
 Comment=KOrganizer View Configuration
 Comment[be]=Канфігурацыя выгляду "K Арганізатара"
@@ -81,6 +81,7 @@
 Comment[ja]=KOrganizer ビューア設定
 Comment[lt]=KOrganizer žiūriklių konfigūravimas
 Comment[nb]=KOrganizer visningsoppsett
+Comment[nds]=Ansichteninstellen för KOrganizer
 Comment[nl]=KOrganizer weergave instellen
 Comment[nn]=KOrganizer, visingsinnstillingar
 Comment[pl]=Konfiguracja widoków KOrganizera
@@ -96,7 +97,6 @@
 Comment[tg]=Танзимоти намудҳои органайзери KDE
 Comment[tr]=KOrganizer Görünüm Yapılandırması
 Comment[uk]=Налаштування переглядів у KOrganizer
-Comment[xx]=xxKOrganizer View Configurationxx
 Comment[zh_CN]=KOrganizer 视图配置
 Keywords=korganizer,view
 Keywords[be]=K Арганізатар,выгляд,korganizer,view
@@ -122,6 +122,7 @@
 Keywords[it]=korganizer,viste
 Keywords[lt]=korganizer,view,žiūrikliai
 Keywords[nb]=korganizer,visning
+Keywords[nds]=KOrganizer,Ansichten
 Keywords[nl]=korganizer,weergave
 Keywords[nn]=korganizer,vising
 Keywords[pl]=korganizer,widok
@@ -139,5 +140,4 @@
 Keywords[tr]=korganizer,görünüm
 Keywords[uk]=korganizer,перегляд
 Keywords[uz]=korganizer,органайзер,кўриниш
-Keywords[xx]=xxkorganizer,viewxx
 Keywords[zh_CN]=korganizer,view,视图
Index: korganizer/korganizer-import.desktop
===================================================================
--- korganizer/korganizer-import.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/korganizer-import.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -25,8 +25,10 @@
 Name[hu]=Naptár importálása
 Name[is]=Flytja inn dagatal
 Name[it]=Importa calendario
+Name[ja]=カレンダーをインポート
 Name[lt]=Importuoti kalendorių
 Name[nb]=Importer kalender
+Name[nds]=Kalenner importeren
 Name[nl]=Agenda importeren
 Name[nn]=Importer kalender
 Name[pl]=Importuj kalendarz
@@ -40,7 +42,6 @@
 Name[ta]=இறக்கும் நாட்காட்டி
 Name[tr]=Takvim Aktar
 Name[uk]=Імпорт календаря
-Name[xx]=xxImport Calendarxx
 Name[zh_CN]=导入日历
 ServiceTypes=Browser/View,DCOP/Organizer
 X-KDE-Library=libkorganizerpart
Index: korganizer/korganizer_configmain.desktop
===================================================================
--- korganizer/korganizer_configmain.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ korganizer/korganizer_configmain.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -36,6 +36,7 @@
 Name[ja]=個人設定
 Name[lt]=Suasmeninimas
 Name[nb]=Personlig
+Name[nds]=Persöönlich
 Name[nl]=Persoonlijk
 Name[nn]=Personleg
 Name[pl]=Osobiste
@@ -53,7 +54,6 @@
 Name[tr]=Kişisel
 Name[uk]=Особисті
 Name[uz]=Шахсий
-Name[xx]=xxPersonalxx
 Name[zh_CN]=个人
 Comment=KOrganizer Main Configuration
 Comment[bg]=Главни настройки за KOrganizer
@@ -79,6 +79,7 @@
 Comment[ja]=KOrganizer 主要設定
 Comment[lt]=KOrganizer bendroji konfigūravimas
 Comment[nb]=KOrganizer hovedoppsett
+Comment[nds]=Hööftinstellen för KOrganizer
 Comment[nl]=KOrganizer algemene instellingen
 Comment[nn]=KOrganizer, hovudinnstillingar
 Comment[pl]=Główna konfiguracja KOrganizera
@@ -95,7 +96,6 @@
 Comment[tg]=Танзимотҳои умумии органайзер-KDE
 Comment[tr]=KOrganizer Temel Yapılandırması
 Comment[uk]=Налаштування особистих даних у KOrganizer
-Comment[xx]=xxKOrganizer Main Configurationxx
 Comment[zh_CN]=KOrganizer 主要配置
 Keywords=korganizer,main,personal
 Keywords[bg]=организатор, главни, персонални, настройки, korganizer, main, personal
@@ -119,6 +119,7 @@
 Keywords[ja]=korganizer,メイン,個人
 Keywords[lt]=korganizer,main,personal,pagrindinis,asmeninis,bendroji
 Keywords[nb]=korganizer,hoved,personlig
+Keywords[nds]=KOrganizer,hööft,persöönlich,instellen,hööftinstellen
 Keywords[nl]=korganizer,algemeen,persoonlijk
 Keywords[nn]=korganizer,hovud,personleg
 Keywords[pl]=korganizer,główny,główna,osobisty,osobista,osobiste
@@ -136,5 +137,4 @@
 Keywords[tr]=korganizer,temel,kişisel
 Keywords[uk]=korganizer,особистий,Персональний
 Keywords[uz]=korganizer,органайзер,асосий,шахсий
-Keywords[xx]=xxkorganizer,main,personalxx
 Keywords[zh_CN]=korganizer,main,personal,主要,个人
Index: konsolekalendar/konsolekalendar.desktop
===================================================================
--- konsolekalendar/konsolekalendar.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ konsolekalendar/konsolekalendar.desktop	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -7,6 +7,7 @@
 Name[hu]=Konsole-naptár
 Name[ja]=コンソールカレンダ
 Name[nb]=KonsoleKalender
+Name[nds]=Konsole-Kalenner
 Name[nl]=Konsole-agenda
 Name[nn]=KonsoleKalender
 Name[ro]=Calendar de consolă
@@ -14,7 +15,6 @@
 Name[sr@Latn]=Konzolni kalendar
 Name[ta]=கான்சோல் நாள்காட்டி
 Name[uk]=Календар для консолі
-Name[xx]=xxKonsoleKalendarxx
 Exec=kdialog --sorry "konsolekalendar is a command-line only program.  Please read the handbook at help:/konsolekalendar for more info."
 Icon=konsolekalendar
 Type=Application
Index: konsolekalendar/konsolekalendar.cpp
===================================================================
--- konsolekalendar/konsolekalendar.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ konsolekalendar/konsolekalendar.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -61,7 +61,6 @@
 KonsoleKalendar::KonsoleKalendar( KonsoleKalendarVariables *variables )
 {
   m_variables = variables;
-  // m_Calendar =  new ResourceCalendar;
 }
 
 KonsoleKalendar::~KonsoleKalendar()
@@ -111,7 +110,6 @@
   bool status = true;
   QFile f;
   QString title;
-  Event::List *eventList;
   Event *event;
 
   if ( m_variables->isDryRun() ) {
@@ -160,21 +158,21 @@
 
 	  Event::List sortedList =
             m_variables->getCalendar()->events( EventSortStartDate );
-			if( sortedList.count()>0)
-			{
-          QDate dt, firstdate, lastdate;
-          firstdate = sortedList.first()->dtStart().date();
-          lastdate = sortedList.last()->dtStart().date();
-          for ( dt = firstdate;
-                dt <= lastdate && status != false;
-                dt = dt.addDays(1) ) {
-            Event::List events =
-              m_variables->getCalendar()->events( dt,
-                                                  EventSortStartDate,
-                                                  SortDirectionAscending );
-            status = printEventList( &ts, &events, dt );
+          if( sortedList.count() > 0 )
+          {
+            QDate dt, firstdate, lastdate;
+            firstdate = sortedList.first()->dtStart().date();
+            lastdate = sortedList.last()->dtStart().date();
+            for ( dt = firstdate;
+                  dt <= lastdate && status != false;
+                  dt = dt.addDays(1) ) {
+              Event::List events =
+                m_variables->getCalendar()->events( dt,
+                                                    EventSortStartDate,
+                                                    SortDirectionAscending );
+              status = printEventList( &ts, &events, dt );
+            }
           }
-			}
 
 	} else if ( m_variables->isUID() ) {
 	  kdDebug() << "konsolekalendar.cpp::showInstance() | "
@@ -231,16 +229,17 @@
       } else {
 	QDate firstdate, lastdate;
 	if ( m_variables->getAll() ) {
-          // TODO: this is broken since the date on last() may not be last date
-          // (this is the case for me)
 	  kdDebug() << "konsolekalendar.cpp::showInstance() | "
                     << "HTML view all events sorted list"
                     << endl;
-          eventList =
-            new Event::List ( m_variables->getCalendar()->rawEvents() );
-	  firstdate = eventList->first()->dtStart().date();
-	  lastdate = eventList->last()->dtStart().date();
-          delete eventList;
+          // sort the events for this date by start date
+          // in order to determine the date range.
+          Event::List *events =
+            new Event::List ( m_variables->getCalendar()->rawEvents(
+                                EventSortStartDate,
+                                SortDirectionAscending ) );
+	  firstdate = events->first()->dtStart().date();
+	  lastdate = events->last()->dtStart().date();
 	} else if ( m_variables->isUID() ) {
 	  // TODO
 	  kdDebug() << "konsolekalendar.cpp::showInstance() | "
Index: mimelib/datetime.cpp
===================================================================
--- mimelib/datetime.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ mimelib/datetime.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -45,6 +45,7 @@
        "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"};
 
 extern "C" int ParseRfc822Date(const char *str, struct tm *tms, int *z);
+extern "C" int ParseDate(const char *str, struct tm *tms, int *z);
 static DwInt32 ymd_to_jdnl(int year, int mon, int day, int julian);
 static void jdnl_to_ymd(DwInt32 jdn, int *year, int *mon, int *day, int julian);
 static DwUint32 my_inv_gmtime(struct tm* ptms);
@@ -282,6 +283,8 @@
     struct tm tms;
     int zone;
     int err = ParseRfc822Date(str, &tms, &zone);
+    if ( err == -1 )  // try another format
+        err = ParseDate(str, &tms, &zone);
     if (!err) {
         mYear   = tms.tm_year + 1900;
         mMonth  = tms.tm_mon+1;
Index: mimelib/dw_date.cpp
===================================================================
--- mimelib/dw_date.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 499311)
+++ mimelib/dw_date.cpp	(.../branches/KDE/3.5/kdepim)	(revision 499311)
@@ -526,10 +526,6 @@
         if (str[pos+1] == 'T' || str[pos+1] == 't') {
             zone = 0;
         }
-        else {
-            /* Military time zone */
-            zone = 480;
-        }
         break;
     case 'G':
     case 'g':
@@ -537,10 +533,6 @@
             && (str[pos+2] == 'T' || str[pos+2] == 't')) {
             zone = 0;
         }
-        else {
-            /* Military time zone */
-            zone = -420;
-        }
         break;
     case 'E':
     case 'e':
@@ -552,10 +544,6 @@
             && (str[pos+2] == 'T' || str[pos+2] == 't')) {
             zone = -240;
         }
-        else {
-            /* Military time zone */
-            zone = -300;
-        }
         break;
     case 'C':
     case 'c':
@@ -567,10 +555,15 @@
             && (str[pos+2] == 'T' || str[pos+2] == 't')) {
             zone = -300;
         }
-        else {
-            /* Military time zone */
-            zone = -180;
+        else if ((str[pos+1] == 'E' || str[pos+1] == 'e')    // allow non-RFC822 "CET"
+            && (str[pos+2] == 'T' || str[pos+2] == 't')) {
+            zone = 60;
         }
+        else if ((str[pos+1] == 'E' || str[pos+1] == 'e')    // allow non-RFC822 "CEST"
+            && (str[pos+2] == 'S' || str[pos+2] == 's')
+            && (str[pos+3] == 'T' || str[pos+3] == 't')) {
+            zone = 120;
+        }
         break;
     case 'M':
     case 'm':
@@ -582,10 +575,6 @@
             && (str[pos+2] == 'T' || str[pos+2] == 't')) {
             zone = -360;
         }
-        else {
-            /* Military time zone */
-            zone = -720;
-        }
         break;
     case 'P':
     case 'p':
@@ -597,10 +586,6 @@
             && (str[pos+2] == 'T' || str[pos+2] == 't')) {
             zone = -420;
         }
-        else {
-            /* Military time zone */
-            zone = 180;
-        }
         break;
     case 'Z':
         /* Military time zone */
@@ -653,7 +638,16 @@
     return isValid ? 0 : -1;
 }
 
+const char* wdays[] = {
+    "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"
+};
 
+const char* months[] = {
+    "Jan", "Feb", "Mar", "Apr", "May", "Jun",
+    "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"
+};
+
+
 #ifdef DW_TESTING_DATEPARSER
 
 #include <stdio.h>
@@ -664,15 +658,6 @@
     ""
 };
 
-const char* wdays[] = {
-    "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"
-};
-
-const char* months[] = {
-    "Jan", "Feb", "Mar", "Apr", "May", "Jun",
-    "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"
-};
-
 int main()
 {
     struct tm *ptms, tms1, tms2;
@@ -723,3 +708,89 @@
 }
 
 #endif
+
+// try to parse a date/time string given in a format not
+// correctly specified in RFC822 format
+// Here we detect the following format:
+// "WWW MMM dd HH:MM:SS [Z] YYYY"  zone is optional
+// e.g.: Fri Oct 14 09:21:49 CEST 2005
+// or:   Tue Mar 23 18:00:02 2004
+
+#include <string.h>
+#include <stdio.h>
+
+#ifdef __cplusplus
+extern "C"
+#endif
+int ParseDate(const char *str, struct tm *tms, int *z)
+{
+    if ( !str )
+      return -1;
+
+    size_t len = strlen(str);
+
+    if ( len < 24 )  // at least "WWW MMM dd HH:MM:SS YYYY"
+      return -1;
+
+    int day=1, month=0, year=1970, hour=0, minute=0, second=0, zone=0;
+    int i;
+
+    for (i = 0; i < 7; i++)
+      if ( strncmp(str, wdays[i], 3) == 0 )
+        break;
+
+    if ( i == 7 )
+      return -1;
+
+    for (i = 0; i < 12; i++)
+      if ( strncmp(str+4, months[i], 3) == 0 )
+        break;
+
+    if ( i == 12 )
+      return -1;
+
+    month = i;
+
+    if ( sscanf(str+8, "%d %d:%d:%d", &day, &hour, &minute, &second) != 4 )
+      return -1;
+
+    if ( isdigit(str[20]) ) {   // year without zone info, as in ctime()
+      if ( sscanf(str+20, "%d", &year) != 1 )
+        return -1;
+    }
+    else {
+      if ( sscanf(str+20, "%*s %d", &year) != 1 )
+        return -1;
+
+      if      ( strncmp(str+20, "EST" , 3) == 0 ) zone = -5 * 60;
+      else if ( strncmp(str+20, "EDT" , 3) == 0 ) zone = -4 * 60;
+      else if ( strncmp(str+20, "CST" , 3) == 0 ) zone = -6 * 60;
+      else if ( strncmp(str+20, "CDT" , 3) == 0 ) zone = -5 * 60;
+      else if ( strncmp(str+20, "MST" , 3) == 0 ) zone = -7 * 60;
+      else if ( strncmp(str+20, "MDT" , 3) == 0 ) zone = -6 * 60;
+      else if ( strncmp(str+20, "PST" , 3) == 0 ) zone = -8 * 60;
+      else if ( strncmp(str+20, "PDT" , 3) == 0 ) zone = -7 * 60;
+      else if ( strncmp(str+20, "CET" , 3) == 0 ) zone = 60;
+      else if ( strncmp(str+20, "CEST", 4) == 0 ) zone = 120;
+    }
+
+    if ( (day    < 1) || (day    > 31) ||
+         (hour   < 0) || (hour   > 23) ||
+         (minute < 0) || (minute > 59) ||
+         (second < 0) || (second > 59) ||
+         (year   < 1900) )
+      return -1;
+
+    if ( tms ) {
+      tms->tm_year = year - 1900;
+      tms->tm_mon  = month;
+      tms->tm_mday = day;
+      tms->tm_hour = hour;
+      tms->tm_min  = minute;
+      tms->tm_sec  = second;
+    }
+
+    if ( z ) *z = zone;
+
+    return 0;
+}

Property changes on: .
___________________________________________________________________
Name: svn:externals
   + admin https://svn.kde.org/home/kde/branches/KDE/3.5/kde-common/admin


