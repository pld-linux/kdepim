Index: akregator/ChangeLog
===================================================================
--- akregator/ChangeLog	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/ChangeLog	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -2,9 +2,18 @@
 ===================
 (c) 2004, 2005 the Akregator authors.
 
+Changes after 1.2:
+
+Bug fixes:
+
+ 2005/12/05 Wait 30 minutes before retrying fetching when fetching failed (host down, parsing error) 
+            (#113358) -fo
+
 Changes after 1.0:
 -----------------------------
 
+Note: This section (i.e. changes between 1.0 and 1.2) is completely incomplete
+
 New features:
        - add "Save link as" to context menus -fo
        
Index: akregator/src/notificationmanager.cpp
===================================================================
--- akregator/src/notificationmanager.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/notificationmanager.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -33,7 +33,7 @@
 #include "feed.h"
 #include "notificationmanager.h"
 
-using namespace Akregator;
+namespace Akregator {
 
 NotificationManager::NotificationManager() : QObject()
 {
@@ -138,4 +138,6 @@
     return m_self;
 }
 
+} // namespace Akregator
+
 #include "notificationmanager.moc"
Index: akregator/src/treenodeitem.cpp
===================================================================
--- akregator/src/treenodeitem.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/treenodeitem.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -34,7 +34,7 @@
 
 #include <kdebug.h>
 
-using namespace Akregator;
+namespace Akregator {
 
 TreeNodeItem::TreeNodeItem(FolderItem* parent, TreeNode* node)
     : KListViewItem(parent), m_node(node)
@@ -160,7 +160,6 @@
     p->setPen( cg.highlightedText() );
     else
     p->setPen( cg.text() );*/
-
-
 }
 
+} // namespace Akregator
Index: akregator/src/tagnodeitem.cpp
===================================================================
--- akregator/src/tagnodeitem.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/tagnodeitem.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -33,7 +33,7 @@
 #include <qpoint.h>
 #include <qpopupmenu.h>
 
-using namespace Akregator;
+namespace Akregator {
 
 TagNodeItem::TagNodeItem(FolderItem* parent, TagNode* node) : TreeNodeItem(parent, node)
 {
@@ -87,3 +87,5 @@
 TagNodeItem::~TagNodeItem()
 {}
 
+} // namespace Akregator
+
Index: akregator/src/feed.cpp
===================================================================
--- akregator/src/feed.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/feed.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -62,9 +62,14 @@
         bool markImmediatelyAsRead;
         bool useNotification;
         bool loadLinkedWebsite;
-        int lastFetched;
 
         bool fetchError;
+        
+        int lastErrorFetch; // save time of last fetch that went wrong.
+                            // != lastFetch property from the archive 
+                            // (that saves the last _successfull fetch!)
+                            // workaround for 3.5.x
+
         int fetchTries;
         bool followDiscovery;
         RSS::Loader* loader;
@@ -267,6 +272,7 @@
     d->markImmediatelyAsRead = false;
     d->useNotification = false;
     d->fetchError = false;
+    d->lastErrorFetch = 0;
     d->fetchTries = 0;
     d->loader = 0;
     d->articlesLoaded = false;
@@ -395,6 +401,14 @@
         queue->addFeed(this);
     else
     {
+        uint now = QDateTime::currentDateTime().toTime_t();
+
+        // workaround for 3.5.x: if the last fetch went wrong, try again after 30 minutes
+        // this fixes annoying behaviour of akregator, especially when the host is reachable
+        // but Akregator can't parse the feed (the host is hammered every minute then)
+        if ( fetchErrorOccurred() && now - d->lastErrorFetch <= 30*60 )
+             return;
+
         int interval = -1;
 
         if (useCustomFetchInterval() )
@@ -405,8 +419,6 @@
 
         uint lastFetch = d->archive->lastFetch();
 
-        uint now = QDateTime::currentDateTime().toTime_t();
-
         if ( interval > 0 && now - lastFetch >= (uint)interval )
             queue->addFeed(this);
     }
@@ -587,6 +599,7 @@
         else
         {
             d->fetchError = true;
+            d->lastErrorFetch = QDateTime::currentDateTime().toTime_t();
             emit fetchError(this);
         }
         return;
Index: akregator/src/articlelistview.cpp
===================================================================
--- akregator/src/articlelistview.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/articlelistview.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -59,9 +59,21 @@
 class ArticleListView::ArticleListViewPrivate
 {
     public:
+
+    ArticleListViewPrivate(ArticleListView* parent) : m_parent(parent) { }
+
+    void ensureCurrentItemVisible()
+    {
+        if (m_parent->currentItem())
+        {
+            m_parent->center( m_parent->contentsX(), m_parent->itemPos(m_parent->currentItem()), 0, 9.0 );
+        }
+    }
+
+    ArticleListView* m_parent;
+
     /** maps article to article item */
     QMap<Article, ArticleItem*> articleMap;
-    
     TreeNode* node;
     Akregator::Filters::ArticleMatcher textFilter;
     Akregator::Filters::ArticleMatcher statusFilter;
@@ -201,8 +213,9 @@
 /* ==================================================================================== */
 
 ArticleListView::ArticleListView(QWidget *parent, const char *name)
-    : KListView(parent, name), d (new ArticleListViewPrivate)
+    : KListView(parent, name)
 {
+    d = new ArticleListViewPrivate(this);
     d->noneSelected = true;
     d->node = 0;
     d->columnMode = ArticleListViewPrivate::feedMode;
@@ -524,7 +537,7 @@
         clearSelection();
         setSelected(d->articleMap[a], true);
         setCurrentItem(d->articleMap[a]);
-        ensureItemVisible(d->articleMap[a]);
+        d->ensureCurrentItemVisible();
     }
 }
 
@@ -542,7 +555,7 @@
         clearSelection();
         setSelected(d->articleMap[a], true);
         setCurrentItem(d->articleMap[a]);
-        ensureItemVisible(d->articleMap[a]);
+        d->ensureCurrentItemVisible();
     }
 }
 
@@ -572,7 +585,7 @@
         setCurrentItem(d->articleMap[a]);
         clearSelection();
         setSelected(d->articleMap[a], true);
-        ensureItemVisible(d->articleMap[a]);
+        d->ensureCurrentItemVisible();
     }
 }
 
@@ -602,7 +615,7 @@
         setCurrentItem(d->articleMap[a]);
         clearSelection();
         setSelected(d->articleMap[a], true);
-        ensureItemVisible(d->articleMap[a]);
+        d->ensureCurrentItemVisible();
     }
 }
 
Index: akregator/src/mainwindow.cpp
===================================================================
--- akregator/src/mainwindow.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/mainwindow.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -59,7 +59,7 @@
 #include <qtimer.h>
 
 
-using namespace Akregator;
+namespace Akregator {
 
 BrowserInterface::BrowserInterface( MainWindow *shell, const char *name )
     : KParts::BrowserInterface( shell, name )
@@ -282,6 +282,8 @@
     m_statusLabel->setText(text);
 }
 
+} // namespace Akregator
+
 #include "mainwindow.moc"
 
 
Index: akregator/src/actionmanagerimpl.cpp
===================================================================
--- akregator/src/actionmanagerimpl.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/actionmanagerimpl.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -69,14 +69,14 @@
     public:
     NodeSelectVisitor(ActionManagerImpl* manager) : m_manager(manager) {}
 
-    virtual bool visitFeed(Feed* /*node*/)
+    virtual bool visitFeed(Feed* node)
     {
         KAction* remove = m_manager->action("feed_remove");
         if (remove)
             remove->setEnabled(true);
         KAction* hp = m_manager->action("feed_homepage");
         if (hp)
-            remove->setEnabled(true);
+            hp->setEnabled(!node->htmlUrl().isEmpty());
         m_manager->action("feed_fetch")->setText(i18n("&Fetch Feed"));
         m_manager->action("feed_remove")->setText(i18n("&Delete Feed"));
         m_manager->action("feed_modify")->setText(i18n("&Edit Feed..."));
Index: akregator/src/mk4storage/akregator_mk4storage_plugin.desktop
===================================================================
--- akregator/src/mk4storage/akregator_mk4storage_plugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/mk4storage/akregator_mk4storage_plugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -5,8 +5,10 @@
 Name[cs]=Metakit úložiště
 Name[da]=Metakit lagringsgrænseflade
 Name[de]=Metakit Archiv-Modul
+Name[el]=Σύστημα υποστήριξης αποθήκευσης Metakit
 Name[es]=Dorsal de almacenamiento Metakit
 Name[et]=Metakiti salvestamisrakendus
+Name[eu]=Metakit-en biltegiratze euskarria
 Name[fr]=Stockage avec Metakit
 Name[is]=Metakit geymslu bakendi
 Name[it]=Backend archiviazione metakit
@@ -21,20 +23,23 @@
 Name[sr@Latn]=Sistem za smeštanje Meta kompleta
 Name[sv]=Metakit lagringsgränssnitt
 Name[uk]=Програма зберігання Metakit
-Name[xx]=xxMetakit storage backendxx
 Name[zh_CN]=Metakit 存储后端
 X-KDE-Library=libakregator_mk4storage_plugin
 Comment=Plugin for Akregator
 Comment[bg]=Приставка за Akregator
+Comment[br]=Lugent evit Akregator
 Comment[cs]=Modul pro Akregator
 Comment[de]=Modul für Akregator
+Comment[el]=Πρόσθετο για το Akregator
 Comment[es]=Extensión para Akregator
 Comment[et]=Akregatori plugin
+Comment[eu]=Akregator-en plugina
 Comment[fr]=Module pour Akregator
 Comment[ga]=Breiseán Akregator
 Comment[he]=תוסף עבור Akregator
 Comment[is]=Íforrit fyrir Akregator
 Comment[it]=Plugin per Akregator
+Comment[ja]=Akregator 用プラグイン
 Comment[lt]=Akregator skirtas priedas
 Comment[nb]=Programtillegg for Akregator
 Comment[nl]=Plugin voor Akregator
@@ -43,13 +48,13 @@
 Comment[pt]='Plugin' para o Akregator
 Comment[pt_BR]=Plugin para o Akregator
 Comment[ru]=Модуль для Akregator
+Comment[sl]=Vstavek za Akregator
 Comment[sr]=Прикључак за Akregator
 Comment[sr@Latn]=Priključak za Akregator
 Comment[sv]=Insticksprogram för Akregator
 Comment[tr]=Akregator Eklentisi
 Comment[uk]=Втулок для Akregator
 Comment[uz]=Akregator учун плагин
-Comment[xx]=xxPlugin for Akregatorxx
 Comment[zh_CN]=Akregator 插件
 ServiceTypes=Akregator/Plugin
 
Index: akregator/src/propertiesdialog.cpp
===================================================================
--- akregator/src/propertiesdialog.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/propertiesdialog.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -36,7 +36,7 @@
 #include <qbuttongroup.h>
 #include <qradiobutton.h>
 
-using namespace Akregator;
+namespace Akregator {
 
 FeedPropertiesWidget::FeedPropertiesWidget(QWidget *parent, const char *name)
         : FeedPropertiesWidgetBase(parent, name)
@@ -318,5 +318,7 @@
    widget->feedNameEdit->selectAll();
 }
 
+} // namespace Akregator
+
 #include "propertiesdialog.moc"
 // vim: ts=4 sw=4 et
Index: akregator/src/akregator_view.h
===================================================================
--- akregator/src/akregator_view.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/akregator_view.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -32,6 +32,7 @@
 
 #include <kurl.h>
 
+#include "akregator_run.h"
 #include "feed.h"
 
 class QSplitter;
@@ -47,6 +48,7 @@
 class KListView;
 class KListViewItem;
 class KTabWidget;
+class Viewer;
 
 namespace KIO {
 
@@ -60,6 +62,7 @@
     class ArticleMatcher;
     class ArticleListView;
     class ArticleViewer;
+    class BrowserRun;
     class Folder;
     class FeedList;
     class Frame;
@@ -175,7 +178,7 @@
             /** opens a page viewer in a new tab and loads an URL
              @param url the url to load
              @param background whether the tab should be opened in the background or in the foreground (activated after creation) */
-            void slotOpenTab(const KURL& url, bool background = false);
+            void slotOpenNewTab(const KURL& url, bool background = false);
 
             /** called when another part/frame is activated. Updates progress bar, caption etc. accordingly
             @param f the activated frame */
@@ -273,7 +276,7 @@
             void disconnectFromFeedList(FeedList* feedList);
 
             void updateTagActions();
-
+            
         protected slots:
 
             /** this is called by the ctor, does init steps which need a properly created view and part */
@@ -284,12 +287,17 @@
 
             void setTabIcon(const QPixmap&);
 
-            /** Display article in external browser. */
-            void displayInExternalBrowser(const KURL &url);
-
             void slotDoIntervalFetches();
             void slotDeleteExpiredArticles();
 
+            /** HACK: receives signal from browserrun when the browserrun detects an HTML mimetype and actually loads the page TODO: Remove for KDE 4.0 */
+            void slotOpenURLReply(const KURL& url, Akregator::Viewer* currentViewer, Akregator::BrowserRun::OpeningMode mode);
+
+            /** HACK: part of the url opening hack for 3.5. called when a viewer emits urlClicked(). TODO: Remove for KDE4 */
+            void slotUrlClickedInViewer(const KURL& url, bool background);
+
+            void slotOpenURL(const KURL& url, Akregator::Viewer* currentViewer, Akregator::BrowserRun::OpeningMode mode);
+
         public:         // compat with KDE-3.x assertions, remove for KDE 4
 //         private:
 
Index: akregator/src/feeditem.cpp
===================================================================
--- akregator/src/feeditem.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/feeditem.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -32,7 +32,7 @@
 #include <kiconloader.h>
 #include <qstring.h>
 
-using namespace Akregator;
+namespace Akregator {
 
 FeedItem::FeedItem(FolderItem* parent, Feed* node) : TreeNodeItem(parent, node)
 {
@@ -115,3 +115,5 @@
         static_cast<QPopupMenu *>(w)->exec(p);
 }
 
+} // namespace Akregator
+
Index: akregator/src/folderitem.cpp
===================================================================
--- akregator/src/folderitem.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/folderitem.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -31,7 +31,7 @@
 #include <kaction.h>
 #include <kiconloader.h>
 
-using namespace Akregator;
+namespace Akregator {
 
 FolderItem::FolderItem(FolderItem* parent, Folder* node) : TreeNodeItem(parent, node)
 {
@@ -82,3 +82,5 @@
     if (w)
         static_cast<QPopupMenu *>(w)->exec(p);
 }
+
+} // namespace Akregator
Index: akregator/src/addfeeddialog.cpp
===================================================================
--- akregator/src/addfeeddialog.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/addfeeddialog.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -37,7 +37,7 @@
 #include <ksqueezedtextlabel.h>
 #include <kmessagebox.h>
 
-using namespace Akregator;
+namespace Akregator {
 
 AddFeedWidget::AddFeedWidget(QWidget *parent, const char *name)
    : AddFeedWidgetBase(parent, name)
@@ -117,5 +117,7 @@
     enableButtonOK(!text.isEmpty());
 }
 
+} // namespace Akregator
+
 #include "addfeeddialog.moc"
 // vim: ts=4 sw=4 et
Index: akregator/src/pageviewer.cpp
===================================================================
--- akregator/src/pageviewer.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/pageviewer.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -237,12 +237,15 @@
     closeURL();
 }
 
-void PageViewer::openPage(const KURL& url)
+bool PageViewer::openURL(const KURL& url)
 {
-    Viewer::openPage(url);
+    updateHistoryEntry(); // update old history entry before switching to the new one
+    emit started(0);
 
-    addHistoryEntry(url);
+    bool val = KHTMLPart::openURL(url);
     
+    addHistoryEntry(url); // add new URL to history
+    
     d->backAction->setEnabled( d->current != d->history.begin() );
     d->forwardAction->setEnabled( d->current != d->history.fromLast() );
   
@@ -251,30 +254,11 @@
         emit setTabIcon(QPixmap(KGlobal::dirs()->findResource("cache", favicon+".png")));
     else
         emit setTabIcon(SmallIcon("html"));
-}
 
-// Taken from KDevelop (lib/widgets/kdevhtmlpart.cpp)
-bool PageViewer::openURL(const KURL &url)
-{
-    updateHistoryEntry();
-    new Akregator::BrowserRun(this, (QWidget*)parent(), this, url, browserExtension()->urlArgs());
-    emit started(0);
-    
-//     if (!d->restoring)
-//         addHistoryEntry(url);
-//     
-//     d->backAction->setEnabled( d->current != d->history.begin() );
-//     d->forwardAction->setEnabled( d->current != d->history.fromLast() );
-//   
-//     QString favicon = FeedIconManager::self()->iconLocation(url);
-//     if (!favicon.isEmpty()) 
-//         emit setTabIcon(QPixmap(KGlobal::dirs()->findResource("cache", favicon+".png")));
-//     else
-//         emit setTabIcon(SmallIcon("html"));
-//     
-    return true;
+    return val;
 }
 
+
 void PageViewer::slotOpenURLRequest(const KURL& url, const KParts::URLArgs& args)
 {
     updateHistoryEntry();
@@ -494,7 +478,7 @@
 //    kurl.addPath(url);
         if (kurl.isValid())
             ;//             slotOpenInNewWindow(kurl);
-//      openURL( kurl );
+//      ( kurl );
     }
 }
 
Index: akregator/src/viewer.cpp
===================================================================
--- akregator/src/viewer.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/viewer.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -45,7 +45,7 @@
 #include "akregator_run.h"
 #include "akregatorconfig.h"
 
-using namespace Akregator;
+namespace Akregator {
 
 Viewer::Viewer(QWidget *parent, const char *name)
     : KHTMLPart(parent, name), m_url(0)
@@ -327,6 +327,8 @@
     setStatusMessagesEnabled(false);
 }
 
+} // namespace Akregator
+
 #include "viewer.moc"
 
 // vim: set et ts=4 sts=4 sw=4:
Index: akregator/src/akregator_run.h
===================================================================
--- akregator/src/akregator_run.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/akregator_run.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -30,23 +30,37 @@
 namespace Akregator
 {
 
-    class Viewer;
-    
-    class BrowserRun : public KParts::BrowserRun
+class Viewer;
+
+class BrowserRun : public KParts::BrowserRun
 {
-	Q_OBJECT
+    Q_OBJECT
     public:
-        BrowserRun(Viewer *, QWidget *, KParts::ReadOnlyPart *, const KURL & , const KParts::URLArgs &);
+        /** indicates how HTML pages should be opened. It is passed in the constructor and sent back via the openInViewer signal. This is a workaround to fix opening of non-HTML mimetypes in 3.5, which will be refactored for KDE4 anyway. For 3.5.x it's the easiest way to fix the problem without changing too much code TODO KDE4: refactor, remove this enum  */
+        enum OpeningMode 
+        {
+            CURRENT_TAB,
+            NEW_TAB_FOREGROUND,
+            NEW_TAB_BACKGROUND,
+            EXTERNAL
+        };
+
+        BrowserRun(QWidget* mainWindow, Viewer* currentViewer, const KURL& url, const KParts::URLArgs& args, OpeningMode mode);
         virtual ~BrowserRun();
-    
+
+    signals:
+
+        void signalOpenInViewer(const KURL&, Akregator::Viewer*, Akregator::BrowserRun::OpeningMode);
+
     protected:
-	    virtual void foundMimeType( const QString & _type );
+	    virtual void foundMimeType(const QString& type);
 
     private slots:
-        void killMyself();
+        void slotViewerDeleted();
 
     private:
-        Viewer *m_viewer;
+        OpeningMode m_openingMode;
+        Viewer* m_currentViewer;
 };
 
 }
Index: akregator/src/pageviewer.h
===================================================================
--- akregator/src/pageviewer.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/pageviewer.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -45,9 +45,6 @@
             virtual ~PageViewer();
             virtual bool openURL(const KURL &url);
 
-            /** used by the BrowserRun object */
-            virtual void openPage(const KURL& url);
-
         protected:
 
             class HistoryEntry;
Index: akregator/src/akregator_run.cpp
===================================================================
--- akregator/src/akregator_run.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/akregator_run.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -27,14 +27,19 @@
 #include "viewer.h"
 #include "akregator_run.h"
 
-using namespace Akregator;
+namespace Akregator {
 
 
-BrowserRun::BrowserRun(Viewer *viewer, QWidget *parent, KParts::ReadOnlyPart *part, const KURL & url, const KParts::URLArgs &args)
-    : KParts::BrowserRun(url, args, part, parent, false, true)
+BrowserRun::BrowserRun(QWidget* mainWindow, Viewer* currentViewer, const KURL& url, const KParts::URLArgs& args, OpeningMode mode)
+    : KParts::BrowserRun(url, args, 0L, mainWindow, false, true)
 {
-    m_viewer=viewer;
-    connect(m_viewer, SIGNAL(destroyed()), this, SLOT(killMyself()));
+    m_currentViewer = currentViewer;
+    m_openingMode = mode;
+
+    if (mode == CURRENT_TAB)
+    {
+        connect(m_currentViewer, SIGNAL(destroyed()), this, SLOT(slotViewerDeleted()));
+    }
     setEnableExternalBrowser(false);
 }
 
@@ -46,18 +51,22 @@
 void BrowserRun::foundMimeType( const QString & type )
 {
     if (type=="text/html" ||type=="text/xml" || type=="application/xhtml+xml")
-        m_viewer->openPage(url());
+        emit signalOpenInViewer(url(), m_currentViewer, m_openingMode);
     else
         if ( handleNonEmbeddable(type) == KParts::BrowserRun::NotHandled )
             KRun::foundMimeType( type );
 }
 
-void BrowserRun::killMyself()
+void BrowserRun::slotViewerDeleted()
 {
-    kdDebug() << "BrowserRun::killMyself()" << endl;
-    delete this;
+
+    // HACK: if the mode is to open the page in the current viewer, we set it to new tab (foreground) if the part gets deleted meanwhile
+    m_currentViewer = 0;
+    m_openingMode = NEW_TAB_FOREGROUND;
 }
 
+} // namespace Akregator
+
 #include "akregator_run.moc"
 
 // vim: set et ts=4 sts=4 sw=4:
Index: akregator/src/akregator_plugin.desktop
===================================================================
--- akregator/src/akregator_plugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/akregator_plugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -3,15 +3,19 @@
 X-KDE-ServiceType=Akregator/Plugin
 Comment=Plugin for Akregator
 Comment[bg]=Приставка за Akregator
+Comment[br]=Lugent evit Akregator
 Comment[cs]=Modul pro Akregator
 Comment[de]=Modul für Akregator
+Comment[el]=Πρόσθετο για το Akregator
 Comment[es]=Extensión para Akregator
 Comment[et]=Akregatori plugin
+Comment[eu]=Akregator-en plugina
 Comment[fr]=Module pour Akregator
 Comment[ga]=Breiseán Akregator
 Comment[he]=תוסף עבור Akregator
 Comment[is]=Íforrit fyrir Akregator
 Comment[it]=Plugin per Akregator
+Comment[ja]=Akregator 用プラグイン
 Comment[lt]=Akregator skirtas priedas
 Comment[nb]=Programtillegg for Akregator
 Comment[nl]=Plugin voor Akregator
@@ -20,13 +24,13 @@
 Comment[pt]='Plugin' para o Akregator
 Comment[pt_BR]=Plugin para o Akregator
 Comment[ru]=Модуль для Akregator
+Comment[sl]=Vstavek za Akregator
 Comment[sr]=Прикључак за Akregator
 Comment[sr@Latn]=Priključak za Akregator
 Comment[sv]=Insticksprogram för Akregator
 Comment[tr]=Akregator Eklentisi
 Comment[uk]=Втулок для Akregator
 Comment[uz]=Akregator учун плагин
-Comment[xx]=xxPlugin for Akregatorxx
 Comment[zh_CN]=Akregator 插件
 
 
Index: akregator/src/akregator.desktop
===================================================================
--- akregator/src/akregator.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/akregator.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1,7 +1,6 @@
 [Desktop Entry]
 Encoding=UTF-8
 Name=Akregator
-Name[xx]=xxAkregatorxx
 Exec=akregator %i %m -caption "%c"
 Icon=akregator
 Type=Application
@@ -12,7 +11,7 @@
 GenericName[cs]=Čtení RSS kanálů
 GenericName[da]=RSS-Kildelæser
 GenericName[de]=Anzeige von RSS Nachrichtenquellen
-GenericName[el]=Αναγνώστης ροών RSS
+GenericName[el]=Αναγνώστης εισροών RSS
 GenericName[es]=Lector de orígenes RSS
 GenericName[et]=RSS-kanalite lugemisvahend
 GenericName[eu]=RSS iturri Irakurlea
@@ -22,6 +21,7 @@
 GenericName[hu]=RSS hírolvasó
 GenericName[is]=RSS fréttaforrit
 GenericName[it]=Lettore Fonti RSS
+GenericName[ja]=RSS ニュースリーダ
 GenericName[lt]=RSS kanalų skaityklė
 GenericName[nb]=Leser for RSS-kanal
 GenericName[nl]=RSS-feedlezer
@@ -37,7 +37,6 @@
 GenericName[ta]=RSS பீஃட் வாசிப்பான்
 GenericName[tr]=RSS Haber Kaynağı Okuyucu
 GenericName[uk]=Програма для читання подач RSS
-GenericName[xx]=xxRSS Feed Readerxx
 GenericName[zh_CN]=RSS 种子阅读器
 Comment=An RSS Aggregator for KDE
 Comment[bg]=Четец на новости във формат RSS
@@ -45,6 +44,7 @@
 Comment[cs]=RSS agregátor pro KDE
 Comment[da]=En RSS Aggregator for KDE
 Comment[de]=Ein RSS Nachrichtensammler für KDE
+Comment[el]=Ένας συσσωρευτής RSS για το KDE
 Comment[es]=Un agregador de RSS para KDE
 Comment[et]=KDE RSS-kanalite lugemisvahend
 Comment[eu]=KDE-ren RSS gehitzailea
@@ -53,6 +53,7 @@
 Comment[hu]=KDE-s hírolvasó RSS hírcsatornákhoz
 Comment[is]=RSS fréttaforrit fyrir KDE
 Comment[it]=Un concentratore KDE per RSS
+Comment[ja]=KDE 用 RSS アグレゲータ
 Comment[nb]=En RSS-oppsamler for KDE
 Comment[nl]=Een RSS-agregator voor KDE
 Comment[nn]=Ein RSS-lesar for KDE
@@ -67,7 +68,6 @@
 Comment[ta]=கேடியிக்கான ஒரு RSS சேர்ப்பான்
 Comment[tr]=Bir KDE RSS Okuyucusu
 Comment[uk]=Агрегатор RSS для KDE
-Comment[xx]=xxAn RSS Aggregator for KDExx
 Comment[zh_CN]=KDE RSS 新闻收集器
 Terminal=false
 Categories=Qt;KDE;Network;
Index: akregator/src/akregator_part.rc
===================================================================
--- akregator/src/akregator_part.rc	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/akregator_part.rc	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1,5 +1,5 @@
 <!DOCTYPE kpartgui SYSTEM "kpartgui.dtd">
-<kpartgui name="akregator_part" version="77">
+<kpartgui name="akregator_part" version="78">
 <MenuBar>
   <Menu name="file">
     <Action name="file_import"/>
@@ -7,8 +7,6 @@
     <Action name="file_getfromweb"/>
     <Separator/> 
     <Action name="file_print"/>
-    <Action name="file_sendlink"/>
-    <Action name="file_sendfile"/>
     <Separator/> 
   </Menu>
 
@@ -65,6 +63,9 @@
   <Separator/>
   <Action name="article_assign_tag_menu"/>
   <Action name="article_remove_tag_menu"/>
+  <Separator/>
+  <Action name="file_sendlink"/>
+  <Action name="file_sendfile"/>
   </Menu>
   
   <Menu name="settings">
Index: akregator/src/akregator_part.desktop
===================================================================
--- akregator/src/akregator_part.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/akregator_part.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -8,7 +8,6 @@
 Name[pt_BR]=Componente do aKregator
 Name[sv]=aKregator-delprogram
 Name[ta]=aKregatorபகுதி
-Name[xx]=xxaKregatorPartxx
 ServiceTypes=KParts/ReadOnlyPart
 X-KDE-Library=libakregatorpart
 Type=Service
Index: akregator/src/viewer.h
===================================================================
--- akregator/src/viewer.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/viewer.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -40,14 +40,18 @@
     {
         Q_OBJECT
         public:
+
+           /**
+            * Display article in external browser.
+            */
+            static void displayInExternalBrowser(const KURL &url, const QString& mimetype=QString::null);    
+
             Viewer(QWidget* parent, const char* name);
             virtual ~Viewer();
 
             virtual bool closeURL();
+        
             
-            /** used by the BrowserRun object to call KHTMLPart::openURL() */
-            virtual void openPage(const KURL& url) { KHTMLPart::openURL(url);}
-
         public slots:
             
             void slotScrollUp(); 
@@ -59,7 +63,7 @@
             void setSafeMode();
 
             virtual void slotPaletteOrFontChanged() = 0;
-
+        
         signals:
             /** This gets emitted when url gets clicked */
             void urlClicked(const KURL& url, bool background=false);
@@ -110,11 +114,6 @@
         protected: // attributes
             KURL m_url;
             
-        private:
-            /**
-             * Display article in external browser.
-             */
-            void displayInExternalBrowser(const KURL &url, const QString &mime);
     };
 }
 
Index: akregator/src/eventsrc
===================================================================
--- akregator/src/eventsrc	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/eventsrc	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -3,7 +3,6 @@
 Comment=Akregator
 Comment[da]=Akregator Plugin
 Comment[sv]=aKregator
-Comment[xx]=xxAkregatorxx
 
 [feed_added]
 Name=Feed added
@@ -12,7 +11,7 @@
 Name[cs]=Přidán kanál
 Name[da]=Kilde tilføjet
 Name[de]=Nachrichtenquelle hinzugefügt
-Name[el]=Προστέθηκε ροή
+Name[el]=Προστέθηκε εισροή
 Name[es]=Origen añadido
 Name[et]=Kanal lisatud
 Name[eu]=Iturria gehituta
@@ -23,6 +22,7 @@
 Name[hu]=Hírforrás felvéve
 Name[is]=Straum bætt við
 Name[it]=Aggiunta fonte
+Name[ja]=フィード追加
 Name[lt]=Kanalas pridėtas
 Name[nb]=Kanal lagt til
 Name[nl]=Feed toegevoegd
@@ -38,7 +38,6 @@
 Name[ta]=பீஃட் சேர்க்கப்பட்டது
 Name[tr]=Haber kaynağı eklendi
 Name[uk]=Подачу додано
-Name[xx]=xxFeed addedxx
 Name[zh_CN]=添加了新闻源
 Comment=A new feed was remotely added to Akregator
 Comment[bg]=Отдалечено е добавена нова новина към Akregator
@@ -46,7 +45,7 @@
 Comment[cs]=Byl přidán nový kanál do Akregatoru
 Comment[da]=En ny kilde blev tilføjet eksternet til Akregator
 Comment[de]=Eine neue Nachrichtenquelle wurde von extern zu Akregator hinzugefügt
-Comment[el]=Μια νέα ροή προστέθηκε εξωτερικά στο Akregator
+Comment[el]=Μια νέα εισροή προστέθηκε απομακρυσμένα στο Akregator
 Comment[es]=Se ha añadido remotamente un origen a Akregator
 Comment[et]=Akregatorile lisati väljastpoolt uus kanal
 Comment[eu]=Iturri berri bat gehitu da urrunetik Akregator-era
@@ -55,6 +54,7 @@
 Comment[hu]=Egy hírforrást távolról felvettek az Akregatorba
 Comment[is]=Nýjum straum var bætt við Akregator
 Comment[it]=Una nuova fonte è stata aggiunta ad Akregator da remoto
+Comment[ja]=新規フィードがリモートで Akregator に追加されました
 Comment[lt]=Naujas nutolęs naujienų kanalas buvo įdėtas į Akregator
 Comment[nb]=En ny kanal ble lagt til Akgregator utenfra 
 Comment[nl]=Er was extern een nieuwe feed toegevoegd aan Akregator
@@ -70,7 +70,6 @@
 Comment[ta]=Akregatorக்கு ஒரு புதிய உள்ளீடு சேர்க்கப்பட்டது
 Comment[tr]=Akregator'a yeni bir haber kaynağı eklendi
 Comment[uk]=Нову подачу було віддалено додано до Akregator
-Comment[xx]=xxA new feed was remotely added to Akregatorxx
 Comment[zh_CN]=新闻源远程添加进了 Akregator
 default_presentation=4
 
@@ -93,6 +92,7 @@
 Name[hu]=Hírekk
 Name[is]=Nýjar greinar
 Name[it]=Nuovi articoli
+Name[ja]=新規記事
 Name[lt]=Nauji straipsniai
 Name[nb]=Nye artikler
 Name[nl]=Nieuwe artikelen
@@ -109,7 +109,6 @@
 Name[ta]= புதிய செய்திகள்
 Name[tr]=Yeni Haberler
 Name[uk]=Нові статті
-Name[xx]=xxNew Articlesxx
 Name[zh_CN]=新闻文章
 Comment=New articles were fetched
 Comment[bg]=Пристигнали са нови статии
@@ -127,6 +126,7 @@
 Comment[hu]=Új hírek lettek letöltve
 Comment[is]=Nýjar greinar voru sóttar
 Comment[it]=I nuovi articoli sono stati recuperati
+Comment[ja]=新規記事が取得されました
 Comment[lt]=Nauji straipsniai parsiųsti
 Comment[nb]=Nye artikler ble hentet
 Comment[nl]=Nieuw artikelen zijn opgehaald
@@ -143,7 +143,6 @@
 Comment[ta]=புதிய கட்டுரைகள் கொண்டுவரப்பட்டது
 Comment[tr]=Yeni haberler alındı
 Comment[uk]=Отримано нові статті
-Comment[xx]=xxNew articles were fetchedxx
 Comment[zh_CN]=获取了新文章
 default_presentation=4
 
Index: akregator/src/akregator_view.cpp
===================================================================
--- akregator/src/akregator_view.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ akregator/src/akregator_view.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -26,6 +26,7 @@
 
 #include "actionmanagerimpl.h"
 #include "akregator_part.h"
+#include "akregator_run.h"
 #include "akregator_view.h"
 #include "listtabwidget.h"
 #include "addfeeddialog.h"
@@ -306,7 +307,7 @@
     connect(m_searchBar, SIGNAL(signalSearch(const Akregator::Filters::ArticleMatcher&, const Akregator::Filters::ArticleMatcher&)), m_articleViewer, SLOT(slotSetFilter(const Akregator::Filters::ArticleMatcher&, const Akregator::Filters::ArticleMatcher&)));
 
     connect( m_articleViewer, SIGNAL(urlClicked(const KURL&, bool)),
-                        this, SLOT(slotOpenTab(const KURL&, bool)) );
+             this, SLOT(slotUrlClickedInViewer(const KURL&, bool)) );
 
     connect( m_articleViewer->browserExtension(), SIGNAL(mouseOverInfo(const KFileItem *)),
                                             this, SLOT(slotMouseOverInfo(const KFileItem *)) );
@@ -421,7 +422,7 @@
     Settings::writeConfig();
 }
 
-void View::slotOpenTab(const KURL& url, bool background)
+void View::slotOpenNewTab(const KURL& url, bool background)
 {
     PageViewer* page = new PageViewer(this, "page");
     
@@ -430,7 +431,7 @@
     connect( page, SIGNAL(setTabIcon(const QPixmap&)),
             this, SLOT(setTabIcon(const QPixmap&)));
     connect( page, SIGNAL(urlClicked(const KURL &,bool)),
-            this, SLOT(slotOpenTab(const KURL &,bool)) );
+            this, SLOT(slotUrlClickedInViewer(const KURL &, bool)) );
 
     Frame* frame = new Frame(this, page, page->widget(), i18n("Untitled"));
     frame->setAutoDeletePart(true); // delete page viewer when removing the tab
@@ -823,7 +824,44 @@
     updateTagActions();
 }
 
+void View::slotOpenURL(const KURL& url, Viewer* currentViewer, BrowserRun::OpeningMode mode)
+{
+    if (mode == BrowserRun::EXTERNAL)
+        Viewer::displayInExternalBrowser(url);
+    else
+    {
+         KParts::URLArgs args = currentViewer ? currentViewer->browserExtension()->urlArgs() : KParts::URLArgs();
+            
+        BrowserRun* r = new BrowserRun(this, currentViewer, url, args, mode);
+        connect(r, SIGNAL(signalOpenInViewer(const KURL&, Akregator::Viewer*, Akregator::BrowserRun::OpeningMode)),
+            this, SLOT(slotOpenURLReply(const KURL&, Akregator::Viewer*, Akregator::BrowserRun::OpeningMode)));
+    }
+}
 
+//TODO: KDE4 remove this ugly ugly hack
+void View::slotUrlClickedInViewer(const KURL& url, bool background)
+{
+    slotOpenURL(url, 0L, background ? BrowserRun::NEW_TAB_BACKGROUND : BrowserRun::NEW_TAB_FOREGROUND);
+}
+
+//TODO: KDE4 remove this ugly ugly hack
+void View::slotOpenURLReply(const KURL& url, Viewer* currentViewer, BrowserRun::OpeningMode mode)
+{
+    switch (mode)
+    {
+        case BrowserRun::CURRENT_TAB:
+            currentViewer->openURL(url);
+            break;
+        case BrowserRun::NEW_TAB_FOREGROUND:
+        case BrowserRun::NEW_TAB_BACKGROUND:
+            slotOpenNewTab(url, mode == BrowserRun::NEW_TAB_BACKGROUND);
+            break;
+        case BrowserRun::EXTERNAL:
+            Viewer::displayInExternalBrowser(url);
+            break;
+    }
+}
+
 void View::slotFeedAdd()
 {
     Folder* group = 0;
@@ -978,16 +1016,18 @@
     if (!feed)
         return;
 
+    KURL url = KURL(feed->htmlUrl())
+;
     switch (Settings::lMBBehaviour())
     {
         case Settings::EnumLMBBehaviour::OpenInExternalBrowser:
-            displayInExternalBrowser(feed->htmlUrl());
+            slotOpenURL(url, 0, BrowserRun::EXTERNAL);
             break;
         case Settings::EnumLMBBehaviour::OpenInBackground:
-            slotOpenTab(feed->htmlUrl(), true);
+            slotOpenURL(url, 0, BrowserRun::NEW_TAB_BACKGROUND);
             break;
         default:
-            slotOpenTab(feed->htmlUrl(), false);
+            slotOpenURL(url, 0, BrowserRun::NEW_TAB_FOREGROUND);
     }
 }
 
@@ -996,27 +1036,6 @@
     emit signalUnreadCountChanged( m_feedList->rootNode()->unread() );
 }
 
-/**
-* Display article in external browser.
-*/
-void View::displayInExternalBrowser(const KURL &url)
-{
-    if (!url.isValid()) return;
-    if (Settings::externalBrowserUseKdeDefault())
-        kapp->invokeBrowser(url.url(), "0");
-    else
-    {
-        QString cmd = Settings::externalBrowserCustomCommand();
-        QString urlStr = url.url();
-        cmd.replace(QRegExp("%u"), urlStr);
-        KProcess *proc = new KProcess;
-        QStringList cmdAndArgs = KShell::splitArgs(cmd);
-        *proc << cmdAndArgs;
-        proc->start(KProcess::DontCare);
-        delete proc;
-    }
-}
-
 void View::slotDoIntervalFetches()
 {
     m_feedList->rootNode()->slotAddToFetchQueue(Kernel::self()->fetchQueue(), true);
@@ -1068,21 +1087,19 @@
 
 void View::slotMouseButtonPressed(int button, const Article& article, const QPoint &, int)
 {
-    if (article.isNull())
-        return;
-
     if (button == Qt::MidButton)
     {
+        KURL link = article.link();
         switch (Settings::mMBBehaviour())
         {
             case Settings::EnumMMBBehaviour::OpenInExternalBrowser:
-                displayInExternalBrowser(article.link());
+                slotOpenURL(link, 0L, BrowserRun::EXTERNAL);
                 break;
             case Settings::EnumMMBBehaviour::OpenInBackground:
-                slotOpenTab(article.link(),true);
+                slotOpenURL(link, 0L, BrowserRun::NEW_TAB_BACKGROUND);
                 break;
             default:
-                slotOpenTab(article.link());
+                slotOpenURL(link, 0L, BrowserRun::NEW_TAB_FOREGROUND);
         }
     }
 }
@@ -1173,7 +1190,7 @@
 void View::slotOpenArticleExternal(const Article& article, const QPoint&, int)
 {
     if (!article.isNull())
-        displayInExternalBrowser(article.link());
+        Viewer::displayInExternalBrowser(article.link());
 }
 
 
@@ -1184,15 +1201,15 @@
     if (article.isNull())
         return;
 
-    QString link;
-    if (article.link().isValid() || (article.guidIsPermaLink() && KURL(article.guid()).isValid()))
+    KURL link;
+    if (article.link().isValid())
+        link = article.link();
+    else if (article.guidIsPermaLink())
+        link = KURL(article.guid());
+    
+    if (link.isValid()) 
     {
-        // in case link isn't valid, fall back to the guid permaLink.
-        if (article.link().isValid())
-            link = article.link().url();
-        else
-            link = article.guid();
-        slotOpenTab(link, false);
+        slotOpenURL(link, 0L, BrowserRun::NEW_TAB_FOREGROUND);
     }
 }
 
@@ -1208,15 +1225,16 @@
     if (article.isNull())
         return;
 
-    QString link;
-    if (article.link().isValid() || (article.guidIsPermaLink() && KURL(article.guid()).isValid()))
+    KURL link;
+
+    if (article.link().isValid())
+        link = article.link();
+    else if (article.guidIsPermaLink())
+        link = KURL(article.guid());
+    
+    if (link.isValid()) 
     {
-        // in case link isn't valid, fall back to the guid permaLink.
-        if (article.link().isValid())
-            link = article.link().url();
-        else
-            link = article.guid();
-        slotOpenTab(link, true);
+        slotOpenURL(link, 0L, BrowserRun::NEW_TAB_BACKGROUND);
     }
 }
 
@@ -1438,7 +1456,11 @@
     config->writeEntry("searchCombo", m_searchBar->status());
     
     TreeNode* sel = m_listTabWidget->activeView()->selectedNode();
-    config->writeEntry("selectedNodeID", sel ? sel->id() : -1);
+
+    if (sel)
+    {
+        config->writeEntry("selectedNodeID", sel->id() );
+    }
 }
 
 void View::connectToFeedList(FeedList* feedList)
Index: kmobile/libkmobile.desktop
===================================================================
--- kmobile/libkmobile.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmobile/libkmobile.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -38,5 +38,4 @@
 Name[tg]=Драйвери пастдараҷавии кор бо дастгоҳи мобилӣ дар KDE
 Name[tr]=KDE Taşınabilir Aygıt Düşük Seviye Donanım Sürücüsü
 Name[uk]=Мобільний пристрій KDE драйвер працюючий з пристроєм напряму
-Name[xx]=xxKDE Mobile Device Lowlevel Hardware Driverxx
 Name[zh_CN]=KDE 移动设备低级硬件驱动程序
Index: kmobile/devices/gnokii/libkmobile_gnokii.desktop
===================================================================
--- kmobile/devices/gnokii/libkmobile_gnokii.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmobile/devices/gnokii/libkmobile_gnokii.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -41,7 +41,6 @@
 Name[tr]=Cep Telefonu ya da Organizer (gnokii)
 Name[uk]=Мобільний телефон та тижневик (gnokii)
 Name[uz]=Уяли телефон ёки органайзер (gnokii)
-Name[xx]=xxMobile Phone or Organizer (gnokii)xx
 Name[zh_CN]=移动电话或 PDA(gnokii)
 Comment=This driver supports many NOKIA and other mobile phones via the gnokii library
 Comment[bg]=Драйвер за поддръжка на мобилни телефони, предимно Нокия, чрез библиотеката gnokii
@@ -80,7 +79,6 @@
 Comment[tg]=Ин драйвер бисёри тамсилаҳои телефонҳои мобилии Nokia-ро ва дигар истеҳсолкунандаҳоро аз китобхонаи gnokii дастгирӣ мекунад
 Comment[tr]=Bu sürücü birçok NOKIA ve gnokii kütüphanesiyle diğer cep telefonlarını destekler
 Comment[uk]=Цей драйвер підтримує багато мобільних телефонів фірми NOKIA та інших мобільних телефонів через бібліотеку gnokii
-Comment[xx]=xxThis driver supports many NOKIA and other mobile phones via the gnokii libraryxx
 Comment[zh_CN]=此驱动程序通过 gnokii 库支持许多诺基亚和其它移动电话
 Type=Service
 ServiceTypes=kdedevice/mobiledevice
Index: kmobile/devices/skeleton/libkmobile_skeleton.desktop
===================================================================
--- kmobile/devices/skeleton/libkmobile_skeleton.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmobile/devices/skeleton/libkmobile_skeleton.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -40,7 +40,6 @@
 Name[tg]=Прототипи дастгоҳ
 Name[tr]=Çatı Aygıt
 Name[uk]=Прототип пристрою
-Name[xx]=xxSkeleton Devicexx
 Name[zh_CN]=万能设备
 Comment=Mobile Skeleton Device
 Comment[bg]=Мобилни организатори (устройства)
@@ -50,6 +49,7 @@
 Comment[cy]=Dyfais Sgerbwd Symudol
 Comment[da]=Mobil skeleton-enhed
 Comment[de]=Mobiles Skeleton-Gerät
+Comment[el]=Φορητή συσκευή Skeleton
 Comment[es]=Dispositivo móvil Skeleton
 Comment[et]=Mobiili mallseade
 Comment[eu]=Skeleton dispositibo mugikorra
@@ -78,7 +78,6 @@
 Comment[tg]=Прототипи дастгоҳи мобилӣ
 Comment[tr]=Taşınabilir Çatı Aygıtı
 Comment[uk]=Прототип мобільного пристрою
-Comment[xx]=xxMobile Skeleton Devicexx
 Comment[zh_CN]=移动万能设备
 Type=Service
 ServiceTypes=kdedevice/mobiledevice
Index: kmobile/devices/gammu/libkmobile_gammu.desktop
===================================================================
--- kmobile/devices/gammu/libkmobile_gammu.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmobile/devices/gammu/libkmobile_gammu.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -41,7 +41,6 @@
 Name[tr]=Cep Telefonu ya da Organizer (gammu)
 Name[uk]=Мобільний телефон та тижневик (gammu)
 Name[uz]=Уяли телефон ёки органайзер (gammu)
-Name[xx]=xxMobile Phone or Organizer (gammu)xx
 Name[zh_CN]=移动电话或 PDA(gammu)
 Comment=This driver supports many NOKIA and other mobile phones via the gammu library
 Comment[bg]=Драйвер за поддръжка на мобилни телефони, предимно Нокия, чрез библиотеката gammu
@@ -80,7 +79,6 @@
 Comment[tg]=Ин драйвер бисёри тамсилаҳои телефонҳои мобилии Nokia-ро ва дигар истеҳсолкунандаҳоро аз китобхонаи gammu дастгирӣ мекунад
 Comment[tr]=Bu sürücü birçok NOKIA ve gammu kütüphanesiyle diğer cep telefonlarını destekler
 Comment[uk]=Цей драйвер підтримує багато мобільних телефонів фірми NOKIA та інших мобільних телефонів через бібліотеку gammu
-Comment[xx]=xxThis driver supports many NOKIA and other mobile phones via the gammu libraryxx
 Comment[zh_CN]=此驱动程序通过 gammu 库支持许多诺基亚和其它移动电话
 Type=Service
 ServiceTypes=kdedevice/mobiledevice
Index: kmobile/devices/digicam/libkmobile_digicam.desktop
===================================================================
--- kmobile/devices/digicam/libkmobile_digicam.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmobile/devices/digicam/libkmobile_digicam.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -45,7 +45,6 @@
 Name[tr]=Dijital Kamera
 Name[uk]=Цифровий фотоапарат
 Name[uz]=Фотоапарат
-Name[xx]=xxDigital Cameraxx
 Name[zh_CN]=数码相机
 Comment=This driver supports many digital cameras
 Comment[bg]=Драйвер за поддръжка на цифрови фотоапарати и камери
@@ -85,7 +84,6 @@
 Comment[tg]=Ин драйвер бисёри тамсилаҳои камераҳои digital-ро дастгирӣ мекунад
 Comment[tr]=Bu sürücü birçok dijital kamerayı destekler 
 Comment[uk]=Цей драйвер підтримує багато цифрових камер
-Comment[xx]=xxThis driver supports many digital camerasxx
 Comment[zh_CN]=此驱动程序支持许多数码相机
 Type=Service
 ServiceTypes=kdedevice/mobiledevice
Index: kmobile/kmobile.desktop
===================================================================
--- kmobile/kmobile.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmobile/kmobile.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -12,7 +12,6 @@
 Name[nn]=KMobil
 Name[sv]=Kmobile
 Name[ta]=கேநடமாடும் தொலைபேசி
-Name[xx]=xxKMobilexx
 
 GenericName=Manage Mobile Devices
 GenericName[be]=Кіраваньне мабільнымі прыладамі
@@ -55,7 +54,6 @@
 GenericName[tg]=Идоракунӣ бо дастгоҳи мобилӣ
 GenericName[tr]=Taşınabilir Aygıtlar Yöneticisi
 GenericName[uk]=Робота з мобільними пристроями
-GenericName[xx]=xxManage Mobile Devicesxx
 GenericName[zh_CN]=管理移动设备
 
 Comment=A KDE Mobile Devices Manager
@@ -98,7 +96,6 @@
 Comment[tg]=Мудири дастгоҳи мобилии KDE
 Comment[tr]=KDE Taşınabilir Aygıtlar Yöneticisi
 Comment[uk]=Менеджер мобільних пристроїв KDE
-Comment[xx]=xxA KDE Mobile Devices Managerxx
 Comment[zh_CN]=KDE 移动设备管理器
 
 X-KDE-StartupNotify=false
Index: kmobile/kioslave/mimetypes/mobile_addressbook.desktop
===================================================================
--- kmobile/kioslave/mimetypes/mobile_addressbook.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmobile/kioslave/mimetypes/mobile_addressbook.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -40,7 +40,6 @@
 Comment[tg]=Алоқот дар дастгоҳи мобилӣ
 Comment[tr]=Taşınabilir Aygıt Bağlantıları
 Comment[uk]=Контакти у мобільному пристрої
-Comment[xx]=xxContacts in Mobile Devicexx
 Comment[zh_CN]=移动设备中的联系人
 Icon=kaddressbook
 Type=MimeType
Index: kmobile/kioslave/mimetypes/mobile_notes.desktop
===================================================================
--- kmobile/kioslave/mimetypes/mobile_notes.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmobile/kioslave/mimetypes/mobile_notes.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -39,7 +39,6 @@
 Comment[tg]=Хабарҳо дар дастгоҳи мобилӣ
 Comment[tr]=Cep Telefonu Notları
 Comment[uk]=Нотатки у мобільному пристрої
-Comment[xx]=xxNotes in Mobile Devicexx
 Comment[zh_CN]=移动电话中的便笺
 Icon=knotes
 Type=MimeType
Index: kmobile/kioslave/mimetypes/mobile_calendar.desktop
===================================================================
--- kmobile/kioslave/mimetypes/mobile_calendar.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmobile/kioslave/mimetypes/mobile_calendar.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -40,7 +40,6 @@
 Comment[tg]=Тақвим дар дастгоҳи мобилӣ
 Comment[tr]=Cep Telefonu Takvimi
 Comment[uk]=Календар у мобільному пристрої
-Comment[xx]=xxCalendar in Mobile Devicexx
 Comment[zh_CN]=移动电话中的日历
 Icon=korganizer
 Type=MimeType
Index: kmobile/kioslave/mimetypes/mobile_device.desktop
===================================================================
--- kmobile/kioslave/mimetypes/mobile_device.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmobile/kioslave/mimetypes/mobile_device.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -43,7 +43,6 @@
 Comment[tg]=Дастгоҳи мобилӣ
 Comment[tr]=Taşınabilir Aygıt
 Comment[uk]=Мобільний пристрій
-Comment[xx]=xxMobile Devicexx
 Comment[zh_CN]=移动设备
 Icon=kmobile
 Type=MimeType
Index: wizards/groupwarewizard.desktop
===================================================================
--- wizards/groupwarewizard.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ wizards/groupwarewizard.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -6,11 +6,15 @@
 Name[cs]=Průvodce KDE groupwarem
 Name[da]=KDE Groupware-guide
 Name[de]=KDE Groupware Assistent
+Name[el]=Μάγος Groupware του KDE
 Name[es]=Asistente de groupware de KDE
+Name[et]=KDE Groupware nõustaja
+Name[eu]=KDE groupware morroia
 Name[fr]=Assistant KDE de travail collaboratif
 Name[ga]=Draoi Groupware KDE
-Name[is]=KDE hópvinnukerfis álfur
+Name[is]=KDE hópvinnukerfisálfur
 Name[it]=Assistente configurazione di KDE Groupware
+Name[ja]=KDE グループウェアウィザード
 Name[lt]=KDE Groupware vedlys
 Name[nb]=KDE gruppevareveiviser
 Name[nl]=KDE Groupware-wizard
@@ -19,11 +23,11 @@
 Name[pt]=Assistente Groupware do KDE
 Name[pt_BR]=Assistente de Groupware do KDE
 Name[ru]=Мастер подключения к серверам совместной работы
+Name[sl]=KDEjev čarovnik za skupinsko delo
 Name[sr]=KDE Groupware чаробњак
 Name[sr@Latn]=KDE Groupware čarobnjak
 Name[sv]=KDE-grupprogramguide
 Name[uk]=Майстер групової роботи для KDE
-Name[xx]=xxKDE Groupware Wizardxx
 Name[zh_CN]=KDE 群件向导
 Exec=groupwarewizard
 Type=Application
Index: kresources/egroupware/kabc_xmlrpc.desktop
===================================================================
--- kresources/egroupware/kabc_xmlrpc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/egroupware/kabc_xmlrpc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -15,6 +15,7 @@
 Name[hu]=eGroupware-kiszolgáló (XML-RPC-n keresztül)
 Name[is]=eGroupware þjónn (gegnum XML-RPC)
 Name[it]=Server eGroupware (via XML-RPC)
+Name[ja]=Name=eGroupware サーバ (XML-RPC 経由)
 Name[lt]=eGroupware serveris (per XML-RPC)
 Name[nb]=eGroupware-tjener (via XML-RPPC)
 Name[nl]=eGroupware-server (via XML-RPC)
@@ -30,7 +31,6 @@
 Name[ta]=eGroupware சேவகன் (via XML-RPC)
 Name[tr]=eGroupware Sunucusu (XML-RPC ile)
 Name[uk]=Сервер eGroupware (через XML-RPC)
-Name[xx]=xxeGroupware Server (via XML-RPC)xx
 Name[zh_CN]=eGroupware 服务器(通过 XML-RPC)
 X-KDE-Library=kabc_xmlrpc
 Type=Service
Index: kresources/egroupware/knotes_xmlrpc.desktop
===================================================================
--- kresources/egroupware/knotes_xmlrpc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/egroupware/knotes_xmlrpc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -15,6 +15,7 @@
 Name[hu]=eGroupware-kiszolgáló (XML-RPC-n keresztül)
 Name[is]=eGroupware þjónn (gegnum XML-RPC)
 Name[it]=Server eGroupware (via XML-RPC)
+Name[ja]=Name=eGroupware サーバ (XML-RPC 経由)
 Name[lt]=eGroupware serveris (per XML-RPC)
 Name[nb]=eGroupware-tjener (via XML-RPPC)
 Name[nl]=eGroupware-server (via XML-RPC)
@@ -30,7 +31,6 @@
 Name[ta]=eGroupware சேவகன் (via XML-RPC)
 Name[tr]=eGroupware Sunucusu (XML-RPC ile)
 Name[uk]=Сервер eGroupware (через XML-RPC)
-Name[xx]=xxeGroupware Server (via XML-RPC)xx
 Name[zh_CN]=eGroupware 服务器(通过 XML-RPC)
 X-KDE-Library=knotes_xmlrpc
 Type=Service
Index: kresources/egroupware/kcal_xmlrpc.desktop
===================================================================
--- kresources/egroupware/kcal_xmlrpc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/egroupware/kcal_xmlrpc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -15,6 +15,7 @@
 Name[hu]=eGroupware-kiszolgáló (XML-RPC-n keresztül)
 Name[is]=eGroupware þjónn (gegnum XML-RPC)
 Name[it]=Server eGroupware (via XML-RPC)
+Name[ja]=Name=eGroupware サーバ (XML-RPC 経由)
 Name[lt]=eGroupware serveris (per XML-RPC)
 Name[nb]=eGroupware-tjener (via XML-RPPC)
 Name[nl]=eGroupware-server (via XML-RPC)
@@ -30,7 +31,6 @@
 Name[ta]=eGroupware சேவகன் (via XML-RPC)
 Name[tr]=eGroupware Sunucusu (XML-RPC ile)
 Name[uk]=Сервер eGroupware (через XML-RPC)
-Name[xx]=xxeGroupware Server (via XML-RPC)xx
 Name[zh_CN]=eGroupware 服务器(通过 XML-RPC)
 X-KDE-Library=kcal_xmlrpc
 Type=Service
Index: kresources/tvanytime/kcal_tvanytime.desktop
===================================================================
--- kresources/tvanytime/kcal_tvanytime.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/tvanytime/kcal_tvanytime.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -5,12 +5,15 @@
 Name[cs]=TV programy
 Name[da]=Tv-oversigt
 Name[de]=Fernsehprogramm
+Name[el]=Προγράμματα τηλεόρασης
 Name[es]=Programación de TV
 Name[et]=Telekavad
+Name[eu]=TB planifikazioak
 Name[fr]=Programmes TV
 Name[ga]=Sceidil Teilifíse
 Name[is]=Sjónvarpsdagskrár
 Name[it]=Programmi TV
+Name[ja]=TV スケジュール
 Name[lt]=TV tvarkaraščiai
 Name[nb]=TV-program
 Name[nl]=Televisieprogrammering
@@ -19,11 +22,11 @@
 Name[pt]=Programação de TV
 Name[pt_BR]=Horários de TV
 Name[ru]=Программы телепередач
+Name[sl]=TV spored
 Name[sr]=ТВ програм
 Name[sr@Latn]=TV program
 Name[sv]=Tv-tablåer
 Name[uk]=Програма телебачення
-Name[xx]=xxTV Schedulesxx
 Name[zh_CN]=电视日程安排
 X-KDE-Library=kcal_tvanytime
 Type=Service
Index: kresources/tvanytime/kcal_resourcetvanytime.cpp
===================================================================
--- kresources/tvanytime/kcal_resourcetvanytime.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/tvanytime/kcal_resourcetvanytime.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -183,7 +183,7 @@
            SLOT( slotJobResult( KIO::Job * ) ) );
 
   mProgress = KPIM::ProgressManager::instance()->createProgressItem(
-    KPIM::ProgressManager::getUniqueID(), i18n("Downloading programme schedule") );
+    KPIM::ProgressManager::getUniqueID(), i18n("Downloading program schedule") );
 
   connect( mProgress,
            SIGNAL( progressItemCanceled( KPIM::ProgressItem * ) ),
Index: kresources/exchange/exchange.desktop
===================================================================
--- kresources/exchange/exchange.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/exchange/exchange.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -21,6 +21,7 @@
 Name[hu]=Exchange 2000-kiszolgáló
 Name[is]=Exchange 2000 þjónn
 Name[it]=Server Exchange 2000
+Name[ja]=Exchange 2000 サーバ
 Name[lt]=Exchange 2000 serveris
 Name[nb]=Exchange 2000-tjener
 Name[nl]=Exchange2000-server
@@ -36,6 +37,5 @@
 Name[ta]=பரிமாற்ற 2000 சேவகன்
 Name[tr]=Exchange 2000 Sunucusu
 Name[uk]=Сервер Exchange 2000
-Name[xx]=xxExchange 2000 Serverxx
 Name[zh_CN]=Exchange 2000 服务器
 
Index: kresources/exchange/exchange_deprecated.desktop
===================================================================
--- kresources/exchange/exchange_deprecated.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/exchange/exchange_deprecated.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -15,6 +15,7 @@
 Name[hu]=Exchange 2000-kiszolgáló (elavult)
 Name[is]=Exchange 2000 þjónn (úrelt)
 Name[it]=Server Exchange 2000 (deprecato)
+Name[ja]=Exchange 2000 サーバ (不賛成)
 Name[lt]=Exchange 2000 serveris (deprecated)
 Name[nb]=Exchange 2000-tjener (frarådet)
 Name[nl]=Exchange 2000-server (afgeraden)
@@ -29,6 +30,5 @@
 Name[sv]=Exchange 2000-server (avråds från)
 Name[ta]=பரிமாற்ற 2000 சேவகன் (மாறுபாடானது)
 Name[uk]=Сервер Exchange 2000 (застаріле)
-Name[xx]=xxExchange 2000 Server (deprecated)xx
 Name[zh_CN]=Exchange 2000 服务器(不推荐使用)
 
Index: kresources/groupwise/kcal_groupwise.desktop
===================================================================
--- kresources/groupwise/kcal_groupwise.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/groupwise/kcal_groupwise.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -6,7 +6,7 @@
 Name[ca]=Servidor Novell GroupWise
 Name[cs]=Novell GroupWise server
 Name[da]=Novell GroupWise server
-Name[el]=Εξυπηρετητη Novell GroupWise
+Name[el]=Εξυπηρετητής Novell GroupWise
 Name[es]=Servidor de Novell GroupWise
 Name[et]=Novelli GroupWise server
 Name[eu]=Novell GroupWise zerbitzaria
@@ -15,6 +15,7 @@
 Name[hu]=Novell GroupWise kiszolgáló
 Name[is]=Novell GroupWise þjónn
 Name[it]=Server Novell GroupWise
+Name[ja]=Novell GroupWise サーバ
 Name[lt]=Novell GroupWise serveris
 Name[nb]=Novell GroupWise-tjener
 Name[nl]=Novell GroupWise-server
@@ -30,7 +31,6 @@
 Name[ta]=Novell குழுவாரிச் சேவகன்
 Name[tr]=Novell GroupWise Sunucusu
 Name[uk]=Сервер Novell GroupWise
-Name[xx]=xxNovell GroupWise Serverxx
 Name[zh_CN]=Novell GroupWise 服务器
 X-KDE-Library=kcal_groupwise
 Type=Service
Index: kresources/groupwise/kabc_groupwise.desktop
===================================================================
--- kresources/groupwise/kabc_groupwise.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/groupwise/kabc_groupwise.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -6,7 +6,7 @@
 Name[ca]=Servidor Novell GroupWise
 Name[cs]=Novell GroupWise server
 Name[da]=Novell GroupWise server
-Name[el]=Εξυπηρετητη Novell GroupWise
+Name[el]=Εξυπηρετητής Novell GroupWise
 Name[es]=Servidor de Novell GroupWise
 Name[et]=Novelli GroupWise server
 Name[eu]=Novell GroupWise zerbitzaria
@@ -15,6 +15,7 @@
 Name[hu]=Novell GroupWise kiszolgáló
 Name[is]=Novell GroupWise þjónn
 Name[it]=Server Novell GroupWise
+Name[ja]=Novell GroupWise サーバ
 Name[lt]=Novell GroupWise serveris
 Name[nb]=Novell GroupWise-tjener
 Name[nl]=Novell GroupWise-server
@@ -30,7 +31,6 @@
 Name[ta]=Novell குழுவாரிச் சேவகன்
 Name[tr]=Novell GroupWise Sunucusu
 Name[uk]=Сервер Novell GroupWise
-Name[xx]=xxNovell GroupWise Serverxx
 Name[zh_CN]=Novell GroupWise 服务器
 X-KDE-Library=kabc_groupwise
 Type=Service
Index: kresources/slox/kcal_slox.desktop
===================================================================
--- kresources/slox/kcal_slox.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/slox/kcal_slox.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -15,6 +15,7 @@
 Name[hu]=SUSE LINUX Openexchange-kiszolgáló
 Name[is]=SUSE LINUX Openexchange þjónn
 Name[it]=Server SUSE LINUX Openexchange
+Name[ja]=SUSE LINUX Openexchange サーバ
 Name[lt]=SUSE LINUX Openexchange serveris
 Name[nb]=SUSE LINUX Openexchange-tjener
 Name[nl]=SUSE LINUX Openexchange-server
@@ -30,7 +31,6 @@
 Name[ta]=SUSE LINUX திறந்த பரிமாற்ற சேவகன்
 Name[tr]=SUSE LINUX Openexchange Sunucusu
 Name[uk]=Сервер SUSE LINUX Openexchange
-Name[xx]=xxSUSE LINUX Openexchange Serverxx
 Name[zh_CN]=SUSE LINUX Openexchange 服务器
 X-KDE-Library=kcal_slox
 Type=Service
Index: kresources/slox/kcal_ox.desktop
===================================================================
--- kresources/slox/kcal_ox.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/slox/kcal_ox.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -3,10 +3,14 @@
 Name=OpenXchange Server
 Name[bg]=Сървър OpenXchange
 Name[da]=Openxchange-server
+Name[el]=Εξυπηρετητής OpenXchange
 Name[es]=Servidor OpenXchange
+Name[et]=OpenXchange server
+Name[eu]=OpenXchange zerbitzaria
 Name[fr]=Serveur OpenXchange
 Name[ga]=Freastalaí Openexchange
 Name[is]=OpenXchange þjónn
+Name[ja]=OpenXchange サーバ
 Name[lt]=OpenXchange serveris
 Name[nb]=OpenExchange-tjener
 Name[nl]=OpenXchange-server
@@ -15,11 +19,11 @@
 Name[pt]=Servidor OpenXchange
 Name[pt_BR]=Servidor OpenXchange
 Name[ru]=Сервер OpenXchange
+Name[sl]=Strežnik OpenXchange
 Name[sr]=Openexchange сервер
 Name[sr@Latn]=Openexchange server
 Name[sv]=Openxchange-server
 Name[uk]=Сервер OpenXchange
-Name[xx]=xxOpenXchange Serverxx
 Name[zh_CN]=OpenXchange 服务器
 X-KDE-Library=kcal_slox
 Type=Service
Index: kresources/slox/kabc_slox.desktop
===================================================================
--- kresources/slox/kabc_slox.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/slox/kabc_slox.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -15,6 +15,7 @@
 Name[hu]=SUSE LINUX Openexchange-kiszolgáló
 Name[is]=SUSE LINUX Openexchange þjónn
 Name[it]=Server SUSE LINUX Openexchange
+Name[ja]=SUSE LINUX Openexchange サーバ
 Name[lt]=SUSE LINUX Openexchange serveris
 Name[nb]=SUSE LINUX Openexchange-tjener
 Name[nl]=SUSE LINUX Openexchange-server
@@ -30,7 +31,6 @@
 Name[ta]=SUSE LINUX திறந்த பரிமாற்ற சேவகன்
 Name[tr]=SUSE LINUX Openexchange Sunucusu
 Name[uk]=Сервер SUSE LINUX Openexchange
-Name[xx]=xxSUSE LINUX Openexchange Serverxx
 Name[zh_CN]=SUSE LINUX Openexchange 服务器
 X-KDE-Library=kabc_slox
 Type=Service
Index: kresources/slox/kabc_ox.desktop
===================================================================
--- kresources/slox/kabc_ox.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/slox/kabc_ox.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -3,10 +3,14 @@
 Name=OpenXchange Server
 Name[bg]=Сървър OpenXchange
 Name[da]=Openxchange-server
+Name[el]=Εξυπηρετητής OpenXchange
 Name[es]=Servidor OpenXchange
+Name[et]=OpenXchange server
+Name[eu]=OpenXchange zerbitzaria
 Name[fr]=Serveur OpenXchange
 Name[ga]=Freastalaí Openexchange
 Name[is]=OpenXchange þjónn
+Name[ja]=OpenXchange サーバ
 Name[lt]=OpenXchange serveris
 Name[nb]=OpenExchange-tjener
 Name[nl]=OpenXchange-server
@@ -15,11 +19,11 @@
 Name[pt]=Servidor OpenXchange
 Name[pt_BR]=Servidor OpenXchange
 Name[ru]=Сервер OpenXchange
+Name[sl]=Strežnik OpenXchange
 Name[sr]=Openexchange сервер
 Name[sr@Latn]=Openexchange server
 Name[sv]=Openxchange-server
 Name[uk]=Сервер OpenXchange
-Name[xx]=xxOpenXchange Serverxx
 Name[zh_CN]=OpenXchange 服务器
 X-KDE-Library=kabc_slox
 Type=Service
Index: kresources/featureplan/kcal_resourcefeatureplan.desktop
===================================================================
--- kresources/featureplan/kcal_resourcefeatureplan.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/featureplan/kcal_resourcefeatureplan.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -21,7 +21,6 @@
 Name[sr@Latn]=XML plan mogućnosti
 Name[ta]=XML பண்பு திட்டம்
 Name[tr]=XML Özellik Planı
-Name[xx]=xxXML Feature Planxx
 Name[zh_CN]=XML 特性计划
 X-KDE-Library=kcal_resourcefeatureplan
 Type=Service
Index: kresources/groupdav/kabc_groupdav.desktop
===================================================================
--- kresources/groupdav/kabc_groupdav.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/groupdav/kabc_groupdav.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -16,6 +16,7 @@
 Name[hu]=GroupDAV-kiszolgáló (pl. OpenGroupware)
 Name[is]=GroupDAV þjónn (t.d. OpenGroupware)
 Name[it]=Server GroupDAV (per es. OpenGroupware)
+Name[ja]=GroupDAV サーバ (例えば OpenGroupware)
 Name[lt]=GroupDAV serveris (pvz.: OpenGroupware)
 Name[nb]=GroupDAV-tjener (f.eks. OpenGroupware)
 Name[nl]=GroupDAV-server (OpenGroupware)
@@ -31,7 +32,6 @@
 Name[ta]=GroupDAV சேவகன் (e.g. OpenGroupware)
 Name[tr]=GroupDAV Sunucusu (ör. OpenGroupware)
 Name[uk]=Сервер GroupDAV (напр., OpenGroupware)
-Name[xx]=xxGroupDAV Server (e.g. OpenGroupware)xx
 Name[zh_CN]=GroupDAV 服务器(如 OpenGroupware)
 X-KDE-Library=kabc_groupdav
 Type=Service
Index: kresources/groupdav/kcal_groupdav.desktop
===================================================================
--- kresources/groupdav/kcal_groupdav.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/groupdav/kcal_groupdav.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -16,6 +16,7 @@
 Name[hu]=GroupDAV-kiszolgáló (pl. OpenGroupware)
 Name[is]=GroupDAV þjónn (t.d. OpenGroupware)
 Name[it]=Server GroupDAV (per es. OpenGroupware)
+Name[ja]=GroupDAV サーバ (例えば OpenGroupware)
 Name[lt]=GroupDAV serveris (pvz.: OpenGroupware)
 Name[nb]=GroupDAV-tjener (f.eks. OpenGroupware)
 Name[nl]=GroupDAV-server (OpenGroupware)
@@ -31,7 +32,6 @@
 Name[ta]=GroupDAV சேவகன் (e.g. OpenGroupware)
 Name[tr]=GroupDAV Sunucusu (ör. OpenGroupware)
 Name[uk]=Сервер GroupDAV (напр., OpenGroupware)
-Name[xx]=xxGroupDAV Server (e.g. OpenGroupware)xx
 Name[zh_CN]=GroupDAV 服务器(如 OpenGroupware)
 X-KDE-Library=kcal_groupdav
 Type=Service
Index: kresources/blogging/blogging.desktop
===================================================================
--- kresources/blogging/blogging.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/blogging/blogging.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -4,6 +4,7 @@
 Name[cs]=Deníky jako blogy na serveru
 Name[da]=Journaler som www-blogger på en server
 Name[de]=Journaleinträge als Blogs auf einem Server
+Name[el]=Εφημερίδες ως Blogs σε έναν εξυπηρετητή
 Name[es]=Diarios, como bitácoras en un servidor
 Name[et]=Päevik veebipäevikuna serveris
 Name[eu]=Egunkariak blog moduan zerbitzarian
@@ -11,6 +12,7 @@
 Name[hu]=Naplók blogként tárolása a kiszolgálón
 Name[is]=Dagbækur sem blogg á þjóni
 Name[it]=Diari come blog su un server
+Name[ja]=サーバ上のブログとしての Journals
 Name[lt]=Dienynai kaip Blog'ai serveryje
 Name[nb]=Dagbok som blogg på en tjener
 Name[nl]=Journalen als blogs op een server
@@ -22,11 +24,10 @@
 Name[sl]=Dnevniki kot spletni dnevniki (blogi) na strežniku
 Name[sr]=Дневници као блогови на серверу
 Name[sr@Latn]=Dnevnici kao blogovi na serveru
-Name[sv]=Journaler som webbjournaler på en server
+Name[sv]=Journaler som webbloggar på en server
 Name[ta]=சேவகனில் பேச்சுரைகள் பத்திரிககளாக உள்ளன
 Name[tr]=Web Günlüğü gibi, bir Sunucuya yazar
 Name[uk]=Журнали як веб-щоденники на сервері
-Name[xx]=xxJournals as Blogs on a Serverxx
 Name[zh_CN]=日记作为服务器上的博客日志
 X-KDE-Library=kcal_blogging
 Type=Service
Index: kresources/kolab/kabc/kolab.desktop
===================================================================
--- kresources/kolab/kabc/kolab.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/kolab/kabc/kolab.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -16,6 +16,7 @@
 Name[hu]=IMAP-kiszolgálón tárolt címjegyzék a KMailen keresztül
 Name[is]=Vistfangaskrá á IMAP þjóni gegnum KMail
 Name[it]=Rubrica indirizzi su server IMAP via KMail
+Name[ja]=KMail 経由 IMAP サーバのアドレス帳
 Name[lt]=Adresų knygelė IMAP serveryje per KMail
 Name[nb]=Adressebok på IMAP-tjener via KMail
 Name[nl]=Adresboek op IMAP-server via KMail
@@ -31,7 +32,6 @@
 Name[ta]=IMAP சேவகன் மூலம் கேஅஞ்சல் முகவரிப்புத்தகம்
 Name[tr]=KMail Aracılığı ile IMAP Sunucusunda Adres Defteri
 Name[uk]=Адресна книга на сервері IMAP через KMail
-Name[xx]=xxAddressbook on IMAP Server via KMailxx
 Name[zh_CN]=通过 KMail 访问 IMAP 服务器上的地址簿
 X-KDE-Library=kabc_kolab
 Type=Service
Index: kresources/kolab/knotes/kolabresource.desktop
===================================================================
--- kresources/kolab/knotes/kolabresource.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/kolab/knotes/kolabresource.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -16,6 +16,7 @@
 Name[hu]=IMAP-kiszolgáló a KMailen keresztül
 Name[is]=IMAP þjónn gegnum KMail
 Name[it]=Server IMAP via KMail
+Name[ja]=KMail 経由 IMAP サーバ
 Name[lt]=IMAP serveris per KMail
 Name[nb]=IMAP-tjener via KMail
 Name[nl]=IMAP-server via KMail
@@ -31,7 +32,6 @@
 Name[ta]=IMAP சேவகன் மூலாம் கேஅஞ்சல்
 Name[tr]=KMail aracılığı ile IMAP Sunucu
 Name[uk]=Сервер IMAP через KMail
-Name[xx]=xxIMAP Server via KMailxx
 Name[zh_CN]=通过 KMail 访问 IMAP 服务器
 X-KDE-Library=knotes_kolab
 Type=Service
Index: kresources/kolab/kcal/kolab.desktop
===================================================================
--- kresources/kolab/kcal/kolab.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/kolab/kcal/kolab.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -16,6 +16,7 @@
 Name[hu]=IMAP-kiszolgálón tárolt naptár a KMailen keresztül
 Name[is]=Dagatal á IMAP þjóni gegnum KMail
 Name[it]=Calendario su server IMAP via KMail
+Name[ja]==KMail 経由 IMAP サーバのカレンダー
 Name[lt]=Kalendorius IMAP serveryje per KMail
 Name[nb]=Kalender på IMAP-tjener via KMail
 Name[nl]=Agenda op IMAP-server via KMail
@@ -31,7 +32,6 @@
 Name[ta]=IMAP சேவையக வழியாக கேஅஞ்சலில் நாட்காட்டி
 Name[tr]=KMail Aracılığı ile IMAP Sunucusunda Takvim
 Name[uk]=Календар на сервері IMAP через KMail
-Name[xx]=xxCalendar on IMAP Server via KMailxx
 Name[zh_CN]=通过 KMail 访问 IMAP 服务器上的日历
 X-KDE-Library=kcal_kolab
 Type=Service
Index: kresources/birthdays/resourcekabcconfig.cpp
===================================================================
--- kresources/birthdays/resourcekabcconfig.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/birthdays/resourcekabcconfig.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -41,7 +41,6 @@
   mAlarm = new QCheckBox(i18n("Set reminder"), this);
   topLayout->addWidget(mAlarm, 0, 0);
   QBoxLayout *alarmLayout = new QHBoxLayout(topLayout);
-  topLayout->addLayout(alarmLayout, 1, 0);
 
   mALabel = new QLabel(i18n("Reminder before (in days):"), this);
   alarmLayout->addWidget(mALabel);
Index: kresources/birthdays/kabc.desktop
===================================================================
--- kresources/birthdays/kabc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/birthdays/kabc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -42,7 +42,6 @@
 Name[tg]=Рӯзҳои таваллуд аз китоби адресии KDE
 Name[tr]=KDE Adres Defterinden Doğum Günleri
 Name[uk]=Дні народження з KAddressBook
-Name[xx]=xxBirthdays From KAddressBookxx
 Name[zh_CN]=KAddressBook 中的生日
 X-KDE-Library=kcal_kabc
 Type=Service
Index: kresources/groupware/kabc_groupware.desktop
===================================================================
--- kresources/groupware/kabc_groupware.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/groupware/kabc_groupware.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -14,6 +14,7 @@
 Name[hu]=Groupware kiszolgáló
 Name[is]=Groupware þjónn
 Name[it]=Server Groupware
+Name[ja]=グループウェアサーバ
 Name[lt]=Grupinio darbo serveris
 Name[nb]=Groupware-tjener
 Name[nl]=Groupware-server
@@ -29,7 +30,6 @@
 Name[ta]=குழுவாரி சேவகன்
 Name[tr]=Grupyazılımı(Groupware) Sunucusu
 Name[uk]=Сервер Groupware
-Name[xx]=xxGroupware Serverxx
 Name[zh_CN]=群件服务器
 X-KDE-Library=kabc_groupware
 Type=Service
Index: kresources/groupware/kcal_groupware.desktop
===================================================================
--- kresources/groupware/kcal_groupware.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/groupware/kcal_groupware.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -14,6 +14,7 @@
 Name[hu]=Groupware kiszolgáló
 Name[is]=Groupware þjónn
 Name[it]=Server Groupware
+Name[ja]=グループウェアサーバ
 Name[lt]=Grupinio darbo serveris
 Name[nb]=Groupware-tjener
 Name[nl]=Groupware-server
@@ -29,7 +30,6 @@
 Name[ta]=குழுவாரி சேவகன்
 Name[tr]=Grupyazılımı(Groupware) Sunucusu
 Name[uk]=Сервер Groupware
-Name[xx]=xxGroupware Serverxx
 Name[zh_CN]=群件服务器
 X-KDE-Library=kcal_groupware
 Type=Service
Index: kresources/remote/remote.desktop
===================================================================
--- kresources/remote/remote.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/remote/remote.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -39,7 +39,6 @@
 Name[tg]=Тақвимот дар файли хурӯҷӣ
 Name[tr]=Uzak Dosyadaki Takvim
 Name[uk]=Календар у віддаленому файлі
-Name[xx]=xxCalendar in Remote Filexx
 Name[zh_CN]=远程文件中的日历
 X-KDE-Library=kcal_remote
 Type=Service
Index: kresources/newexchange/kabc_newexchange.desktop
===================================================================
--- kresources/newexchange/kabc_newexchange.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/newexchange/kabc_newexchange.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -14,6 +14,7 @@
 Name[hu]=Exchange-kiszolgáló címjegyzéke (kísérleti)
 Name[is]=Vistfangaskrá Exchange þjóni (á tilraunarstigi)
 Name[it]=Rubrica indirizzi su un server Exchange (sperimentale)
+Name[ja]=Exchange サーバのアドレス帳 (実験版)
 Name[lt]=Adresų knygelė Exchange serveryje (eksperimentine tvarka)
 Name[nb]=Adressebok på en Exchange-tjener (forsøksvis)
 Name[nl]=Adresboek op een Exchange-server (experimenteel)
@@ -29,7 +30,6 @@
 Name[ta]=IMAP சேவையக வழியாக கேஅஞ்சலில் நாள்காட்டி(சோதனைக்குரியது)
 Name[tr]=Bir Exchange Sunucusu üzerinde Adres Defteri (deneyimsel)
 Name[uk]=Адресна книга на сервері Exchange (експериментальне)
-Name[xx]=xxAddressbook on an Exchange Server (experimental)xx
 Name[zh_CN]=Exchange 服务器上的地址簿(试验性)
 X-KDE-Library=kabc_newexchange
 Type=Service
Index: kresources/newexchange/kabc_newexchange_final.desktop
===================================================================
--- kresources/newexchange/kabc_newexchange_final.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/newexchange/kabc_newexchange_final.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -16,6 +16,7 @@
 Name[hu]=Exchange-kiszolgáló címjegyzéke
 Name[is]=Vistfangaskrá á Exchange þjóni
 Name[it]=Rubrica indirizzi su un server Exchange
+Name[ja]==Exchange サーバのアドレス帳
 Name[lt]=Adresų knygelė Exchange serveryje
 Name[nb]=Adressebok på en Exchange-tjener
 Name[nl]=Adresboek op een Exchange-server
@@ -31,5 +32,4 @@
 Name[ta]=ஒருமாற்று சேவகனில் முகவரிப்புத்தகம்
 Name[tr]=Bir Exchange Sunucusu üzerinde Adres Defteri
 Name[uk]=Адресна книга на сервері Exchange
-Name[xx]=xxAddressbook on an Exchange Serverxx
 Name[zh_CN]=Exchange 服务器上的地址簿
Index: kresources/newexchange/kcal_newexchange.desktop
===================================================================
--- kresources/newexchange/kcal_newexchange.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/newexchange/kcal_newexchange.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -14,6 +14,7 @@
 Name[hu]=Exchange 2000-kiszolgáló naptára (kísérleti)
 Name[is]=Dagatal á Exchange þjóni (á tilraunarstigi)
 Name[it]=Calendario su un server Exchange (sperimentale)
+Name[ja]=Exchange サーバのカレンダー (実験版)
 Name[lt]=Kalendorius Exchange serveryje (eksperimentine tvarka)
 Name[nb]=Kalender på en Exchange-tjener (forsøksvis)
 Name[nl]=Agenda op een Exchange-server (experimenteel)
@@ -29,7 +30,6 @@
 Name[ta]=பரிமாற்ற சேவகனில் நாட்காட்டி (சோதனைக்குரியது)
 Name[tr]=Bir Exchange Sunucusu üzerinde Takvim (deneyimsel)
 Name[uk]=Календар на сервері Exchange (експериментальне)
-Name[xx]=xxCalendar on an Exchange Server (experimental)xx
 Name[zh_CN]=Exchange 服务器上的日历(试验性)
 X-KDE-Library=kcal_newexchange
 Type=Service
Index: kresources/newexchange/kcal_newexchange_final.desktop
===================================================================
--- kresources/newexchange/kcal_newexchange_final.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kresources/newexchange/kcal_newexchange_final.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -17,6 +17,7 @@
 Name[hu]=Exchange 2000-kiszolgáló naptára
 Name[is]=Dagatal á Exchange þjóni
 Name[it]=Calendario su un server Exchange
+Name[ja]=Exchange サーバのカレンダー
 Name[lt]=Kalendorius Exchange serveryje
 Name[nb]=Kalender på en Exchange-tjener
 Name[nl]=Agenda op een Exchange-server
@@ -32,5 +33,4 @@
 Name[ta]=ஒரு பரிமாற்ற சேவகனில் நாட்காட்சி
 Name[tr]=Bir Exchange Sunucusu üzerinde Takvim
 Name[uk]=Календар на сервері Exchange
-Name[xx]=xxCalendar on an Exchange Serverxx
 Name[zh_CN]=Exchange 服务器上的日历
Index: ksync/src/ksync.desktop
===================================================================
--- ksync/src/ksync.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ ksync/src/ksync.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -17,4 +17,3 @@
 Name[nso]=Ktshomisommogo
 Name[pt_BR]=Ksync (sincronizador)
 Name[ta]=கேஒத்திசைவு
-Name[xx]=xxKsyncxx
Index: certmanager/kleopatra_import.desktop
===================================================================
--- certmanager/kleopatra_import.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ certmanager/kleopatra_import.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -4,7 +4,6 @@
 Name[be]=Клеапатра
 Name[is]=Kleópatra
 Name[ta]=க்ளியோபட்ரா
-Name[xx]=xxKleopatraxx
 Type=Application
 Exec=kleopatra --import-certificate %u
 #Icon=kleopatra
Index: certmanager/conf/kleopatra_config_appear.desktop
===================================================================
--- certmanager/conf/kleopatra_config_appear.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ certmanager/conf/kleopatra_config_appear.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -57,7 +57,6 @@
 Name[tg]=Намуди зоҳирӣ
 Name[tr]=Görünüm
 Name[uk]=Вигляд
-Name[xx]=xxAppearancexx
 Name[zh_CN]=外观
 Comment=Colors & Fonts Configuration
 Comment[be]=Канфігурацыя колераў і шрыфтоў
@@ -99,7 +98,6 @@
 Comment[tg]=Танзимоти ранг ва ҳуруф
 Comment[tr]=Renkler ve Yazı Tipleri Yapılandırması
 Comment[uk]=Налаштування кольорів і шрифтів
-Comment[xx]=xxColors & Fonts Configurationxx
 Comment[zh_CN]=颜色和字体配置
 Keywords=color,font, configuration
 Keywords[be]=колер, шрыфт, канфігурацыя, color, font, configuration
@@ -143,5 +141,4 @@
 Keywords[tg]=рангҳо,ҳуруфҳо,танзимот
 Keywords[tr]=renk,yazı tipi, yapılandırma
 Keywords[uk]=колір, шрифт, налаштування
-Keywords[xx]=xxcolor,font, configurationxx
 Keywords[zh_CN]=color,font,configuration,颜色,字体,配置
Index: certmanager/conf/kleopatra_config_dnorder.desktop
===================================================================
--- certmanager/conf/kleopatra_config_dnorder.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ certmanager/conf/kleopatra_config_dnorder.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -50,7 +50,6 @@
 Name[tg]=Тартиби мушаххасияти DN
 Name[tr]=DN-Öznitelik Sırası
 Name[uk]=Порядок атрибутів DN
-Name[xx]=xxDN-Attribute Orderxx
 Name[zh_CN]=DN 属性顺序
 Comment=Configure the order in which DN attributes are shown
 Comment[bg]=Настройки на подредбата на атрибутите на индекса (DN)
@@ -59,7 +58,7 @@
 Comment[cs]=Nastavení pořadí zobrazení DN atributů
 Comment[da]=Indstil rækkefølgen i hvilken DN-attributter vises
 Comment[de]=Einrichtung für die Anzeigeordnung der DN-Attribute
-Comment[el]=Ρίθμιση της σειράς εμφάνισης των ιδιοτήτων DN
+Comment[el]=Ρύθμιση της σειράς εμφάνισης των ιδιοτήτων DN
 Comment[es]=Configura el orden en el que se muestran los atributos DN
 Comment[et]=DN-atribuutide näitamise järjekorra seadistamine
 Comment[eu]=Konfiguratu DN atributuak zein ordenetan erakutsiko diren
@@ -89,7 +88,6 @@
 Comment[tg]=Танзимоти мушаххасиятҳои намоишшавандаи тартибии DN
 Comment[tr]=DN özniteliklerinin hangi sıralama ile gösterileceğini yapılandır
 Comment[uk]=Налаштування порядку показу атрибутів DN
-Comment[xx]=xxConfigure the order in which DN attributes are shownxx
 Comment[zh_CN]=配置 DN 属性显示的顺序
 Keywords=DN,order,RDN,attribute
 Keywords[be]=парадак,атрыбут,DN,order,RDN,attribute
@@ -130,5 +128,4 @@
 Keywords[tg]=DN,тартибот,RDN,мушаххасот
 Keywords[tr]=DN,sıralama,RDN,öznitelik
 Keywords[uk]=DN,порядок,RDN,атрибут
-Keywords[xx]=xxDN,order,RDN,attributexx
 Keywords[zh_CN]=DN,order,RDN,attribute,顺序,属性
Index: certmanager/conf/kleopatra_config_dirserv.desktop
===================================================================
--- certmanager/conf/kleopatra_config_dirserv.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ certmanager/conf/kleopatra_config_dirserv.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -51,7 +51,6 @@
 Name[tg]=Кӯмакҳои каталог
 Name[tr]=Dizin Servisleri
 Name[uk]=Служби каталогів
-Name[xx]=xxDirectory Servicesxx
 Name[zh_CN]=目录服务
 Comment=Configuration of LDAP directory services
 Comment[bg]=Настройки на директорийните услуги LDAP
@@ -90,7 +89,6 @@
 Comment[tg]=Танзимоти кӯмакҳои каталоги LDAP
 Comment[tr]=LDAP dizin servislerinin yapılandırması
 Comment[uk]=Налаштування служб каталогів LDAP
-Comment[xx]=xxConfiguration of LDAP directory servicesxx
 Comment[zh_CN]=LDAP 目录服务配置
 Keywords=ldap,directory,services
 Keywords[be]=каталёг,сэрвісы,ldap,directory,services
@@ -131,5 +129,4 @@
 Keywords[tg]=ldap,кӯмакҳои каталог
 Keywords[tr]=ldap,dizin,servisler
 Keywords[uk]=ldap,служби,каталогів
-Keywords[xx]=xxldap,directory,servicesxx
 Keywords[zh_CN]=ldap,directory,services,目录,服务
Index: certmanager/lib/tests/test_cryptoconfig.cpp
===================================================================
--- certmanager/lib/tests/test_cryptoconfig.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ certmanager/lib/tests/test_cryptoconfig.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -2,7 +2,7 @@
     test_cryptoconfig.cpp
 
     This file is part of libkleopatra's test suite.
-    Copyright (c) 2004 Klarlvdalens Datakonsult AB
+    Copyright (c) 2004 KlarÃ¤lvdalens Datakonsult AB
 
     Libkleopatra is free software; you can redistribute it and/or
     modify it under the terms of the GNU General Public License,
@@ -258,7 +258,7 @@
       cout << "Log-file initially: " << val.local8Bit() << endl;
 
       // Test setting the option, sync'ing, then querying again
-      entry->setStringValue( "/tmp/test:%e5" );
+      entry->setStringValue( QString::fromUtf8( "/tmp/test:%e5Ã¤" ) );
       assert( entry->isDirty() );
       config->sync( true );
 
@@ -273,7 +273,7 @@
       assert( entry );
       assert( entry->argType() == Kleo::CryptoConfigEntry::ArgType_Path );
       cout << "Log-file now: " << entry->stringValue().local8Bit() << endl;
-      assert( entry->stringValue() == "/tmp/test:%e5" ); // (or even with %e5 decoded)
+      assert( entry->stringValue() == QString::fromUtf8( "/tmp/test:%e5Ã¤" ) ); // (or even with %e5 decoded)
 
       // Reset old value
 #if 0
Index: certmanager/lib/libkleopatrarc.desktop
===================================================================
--- certmanager/lib/libkleopatrarc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ certmanager/lib/libkleopatrarc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -16,6 +16,7 @@
 Name[hu]=Nem ellenőrzött kulcs
 Name[is]=Ekki staðfestur lykill
 Name[it]=Chiave non validata
+Name[ja]=有効な鍵がありません
 Name[lt]=Nevaliduotas raktas
 Name[nb]=Nøkkel ikke sjekket for gyldighet
 Name[nl]=Geen gevalideerde sleutel
@@ -31,7 +32,6 @@
 Name[ta]=செல்லுபடியாகாத விசை
 Name[tr]=Geçerli Olmayan Anahtar
 Name[uk]=Неперевірений ключ
-Name[xx]=xxNot Validated Keyxx
 Name[zh_CN]=未校验的密钥
 
 [Key Filter #1]
@@ -56,6 +56,7 @@
 Name[hu]=Lejárt kulcs
 Name[is]=Útrunninn lykill
 Name[it]=Chiave scaduta
+Name[ja]=有効期限切れな鍵
 Name[lt]=Baigęs galioti raktas
 Name[nb]=Utgått nøkkel
 Name[nl]=Verlopen sleutel
@@ -71,7 +72,6 @@
 Name[ta]=காலாவதியான விசை
 Name[tr]=Süresi Dolmuş Anahtar
 Name[uk]=Застарілий ключ
-Name[xx]=xxExpired Keyxx
 Name[zh_CN]=过期密钥
 
 [Key Filter #2]
@@ -93,6 +93,7 @@
 Name[hu]=Visszavont kulcs
 Name[is]=Afturkallaður lykill
 Name[it]=Chiave revocata
+Name[ja]=無効化された鍵
 Name[lt]=Atšauktas raktas
 Name[nb]=Tilbakekalt nøkkel
 Name[nl]=Ingetrokken sleutel
@@ -108,7 +109,6 @@
 Name[ta]=நீக்கிய விசை
 Name[tr]=Geri Alınmış Anahtar
 Name[uk]=Анульований ключ
-Name[xx]=xxRevoked Keyxx
 Name[zh_CN]=吊销的密钥
 
 [Key Filter #3]
@@ -130,6 +130,7 @@
 Name[hu]=Megbízható gyökértanúsítvány
 Name[is]=Treyst rótarskilríki
 Name[it]=Certificato radice affidabile
+Name[ja]=信頼された Root 証明書
 Name[lt]=Patikimas root sertifikatas
 Name[nb]=Tiltrodd rot-sertifikat
 Name[nl]=Vertrouwd hoofdcertificaat
@@ -145,7 +146,6 @@
 Name[ta]=நம்பகமான மூல சான்றிதழ்
 Name[tr]=Güvenilir Kök Sertifikası
 Name[uk]=Кореневий сертифікат з довірою
-Name[xx]=xxTrusted Root Certificatexx
 Name[zh_CN]=可信任的根证书
 
 [Key Filter #4]
@@ -167,6 +167,7 @@
 Name[hu]=Nem megbízható gyökértanúsítvány
 Name[is]=Ekki traust rótarskilríki
 Name[it]=Certificato radice non affidabile
+Name[ja]=信頼されてない Root 証明書
 Name[lt]=Nepatikimas root sertifikatas
 Name[nb]=Ikke tiltrodd rot-sertifikat
 Name[nl]=Niet vertrouwd hoofdcertificaat
@@ -182,7 +183,6 @@
 Name[ta]=நம்பமுடியாத மூல சான்றிதழ்
 Name[tr]=Güvenilmeyen Kök Sertifikası
 Name[uk]=Кореневий сертифікат без довіри
-Name[xx]=xxNot Trusted Root Certificatexx
 Name[zh_CN]=未信任的根证书
 
 [Key Filter #5]
@@ -205,6 +205,7 @@
 Name[hu]=Egyéb kulcsok
 Name[is]=Aðrir lyklar
 Name[it]=Altre chiavi
+Name[ja]=他の鍵
 Name[lt]=Kiti raktai
 Name[nb]=Andre nøkler
 Name[nl]=Andere sleutels
@@ -221,6 +222,5 @@
 Name[ta]=மற்ற விசைகள்
 Name[tr]=Diğer Anahtarlar
 Name[uk]=Інші ключі
-Name[xx]=xxOther Keysxx
 Name[zh_CN]=其它密钥
 
Index: karm/karm_part.desktop
===================================================================
--- karm/karm_part.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ karm/karm_part.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -10,7 +10,6 @@
 Name[pt_BR]=Componente do KArm
 Name[sv]=Karm-delprogram
 Name[tr]=karmpart
-Name[xx]=xxkarmPartxx
 MimeType=text/english;text/plain;text/x-makefile;text/x-c++hdr;text/x-c++src;text/x-chdr;text/x-csrc;text/x-java;text/x-moc;text/x-pascal;text/x-tcl;text/x-tex;application/x-shellscript;text/x-c;text/x-c++;
 ServiceTypes=KParts/ReadOnlyPart,KParts/ReadWritePart
 X-KDE-Library=libkarmpart
Index: karm/support/karm.desktop
===================================================================
--- karm/support/karm.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ karm/support/karm.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -9,7 +9,6 @@
 Name[sv]=Karm
 Name[ta]=Kஅம்
 Name[xh]=KAlrm
-Name[xx]=xxKArmxx
 GenericName=Personal Time Tracker
 GenericName[af]=Persoonlike Tyd Volger
 GenericName[ar]=جدول المواعيد
@@ -63,7 +62,6 @@
 GenericName[ven]=Tshisedzulusi tsha tshifhinga tsha vhune
 GenericName[vi]=Trình đo thời gian 
 GenericName[xh]=Umfumani Wexesha Lobuqu
-GenericName[xx]=xxPersonal Time Trackerxx
 GenericName[zh_CN]=个人时间记录
 GenericName[zh_TW]=個人時程記錄
 GenericName[zu]=Umgcini Wesikhathi Esemfihlo
Index: kdgantt/KDGanttMinimizeSplitter.cpp
===================================================================
--- kdgantt/KDGanttMinimizeSplitter.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kdgantt/KDGanttMinimizeSplitter.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -952,7 +952,7 @@
     for ( int i = 0; i< n; i++ ) {
 	QSplitterLayoutStruct *s = data->list.at(i);
 	if ( !s->isSplitter ) {
-	    QSplitterLayoutStruct *p = (i > 0) ? p = data->list.at( i-1 ) : 0;
+	    QSplitterLayoutStruct *p = (i > 0) ? data->list.at( i-1 ) : 0;
 	    if ( p && p->isSplitter )
 		if ( first || s->wid->isHidden() )
 		    p->wid->hide(); //may trigger new recalc
Index: kmail/kmmainwin.rc
===================================================================
--- kmail/kmmainwin.rc	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmmainwin.rc	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1,5 +1,8 @@
+<!-- This file should be synchronized with kmail_part.rc to provide
+     the same menu entries at the same place in KMail and Kontact  -->
+
 <!DOCTYPE kpartgui>
-<kpartgui version="86" name="kmmainwin" >
+<kpartgui version="88" name="kmmainwin" >
  <MenuBar>
   <Menu noMerge="1" name="file" >
    <text>&amp;File</text>
@@ -129,15 +132,12 @@
      <text>Mark Thread as</text>
      <Action name="thread_watched" />
      <Action name="thread_ignored" />
-     <Separator/>
-     <Action name="thread_break" />
    </Menu>
    <Separator/>
    <Action name="create_filter"/>
    <Menu name="apply_filter_actions" >
      <text>A&amp;pply Filter</text>
      <Action name="apply_filters" /> 
-     <Separator/>
      <ActionList name="menu_filter_actions" />
    </Menu>
   </Menu>
Index: kmail/kmail_part.cpp
===================================================================
--- kmail/kmail_part.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmail_part.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -50,7 +50,9 @@
 #include <dcopclient.h>
 #include <kiconloader.h>
 #include <kdebug.h>
+#include <ksettings/dispatcher.h>
 
+
 #include <qlayout.h>
 
 
@@ -82,15 +84,15 @@
   kapp->dcopClient()->suspend(); // Don't handle DCOP requests yet
 
   //local, do the init
-  KMKernel *kmailKernel = new KMKernel();
-  kmailKernel->init();
-  kmailKernel->setXmlGuiInstance( KMailFactory::instance() );
+  KMKernel *mKMailKernel = new KMKernel();
+  mKMailKernel->init();
+  mKMailKernel->setXmlGuiInstance( KMailFactory::instance() );
 
   // and session management
-  kmailKernel->doSessionManagement();
+  mKMailKernel->doSessionManagement();
 
   // any dead letters?
-  kmailKernel->recoverDeadLetters();
+  mKMailKernel->recoverDeadLetters();
 
   kmsetSignalHandler(kmsignalHandler);
   kapp->dcopClient()->resume(); // Ok. We are ready for DCOP requests.
@@ -141,6 +143,9 @@
   KGlobal::iconLoader()->addAppDir( "kmail" );
   setXMLFile( "kmail_part.rc" );
 #endif
+
+  KSettings::Dispatcher::self()->registerInstance( KMailFactory::instance(), mKMailKernel,
+                                                   SLOT( slotConfigChanged() ) );
 }
 
 KMailPart::~KMailPart()
@@ -237,6 +242,5 @@
   return static_cast<KMainWindow*>( mParent->parentWidget() );
 }
 
-
 #include "kmail_part.moc"
 
Index: kmail/imapaccountbase.cpp
===================================================================
--- kmail/imapaccountbase.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/imapaccountbase.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -202,10 +202,8 @@
     namespaceDelim entries = config.entryMap( config.group() );
     namespaceDelim namespaceToDelimiter;
     for ( namespaceDelim::ConstIterator it = entries.begin(); 
-          it != entries.end(); ++it )
-    {
-      if ( it.key().startsWith( "Namespace:" ) )
-      {
+          it != entries.end(); ++it ) {
+      if ( it.key().startsWith( "Namespace:" ) ) {
         QString key = it.key().right( it.key().length() - 10 );
         namespaceToDelimiter[key] = it.data();
       }
@@ -226,18 +224,15 @@
     config.writeEntry( "loadondemand", loadOnDemand() );
     config.writeEntry( "listOnlyOpenFolders", listOnlyOpenFolders() );
     QString data;
-    for ( nsMap::Iterator it = mNamespaces.begin(); it != mNamespaces.end(); ++it )
-    {
-      if ( !it.data().isEmpty() )
-      {
+    for ( nsMap::Iterator it = mNamespaces.begin(); it != mNamespaces.end(); ++it ) {
+      if ( !it.data().isEmpty() ) {
         data = "\"" + it.data().join("\",\"") + "\"";
         config.writeEntry( QString::number( it.key() ), data );
       }
     }
     QString key;
     for ( namespaceDelim::ConstIterator it = mNamespaceToDelimiter.begin(); 
-          it != mNamespaceToDelimiter.end(); ++it )
-    {
+          it != mNamespaceToDelimiter.end(); ++it ) {
       key = "Namespace:" + it.key();
       config.writeEntry( key, it.data() );
     }
@@ -688,14 +683,14 @@
         QString msg = i18n("KMail has detected a prefix entry in the "
             "configuration of the account \"%1\" which is obsolete with the "
             "support of IMAP namespaces.").arg( name() );
-        if ( list.contains( QString::null ) ) {
+        if ( list.contains( "" ) ) {
           // replace empty entry with the old prefix
-          list.remove( QString::null );
+          list.remove( "" );
           list += mOldPrefix;
           mNamespaces[PersonalNS] = list;
-          if ( mNamespaceToDelimiter.contains( QString::null ) ) {
-            QString delim = mNamespaceToDelimiter[QString::null];
-            mNamespaceToDelimiter.remove( QString::null );
+          if ( mNamespaceToDelimiter.contains( "" ) ) {
+            QString delim = mNamespaceToDelimiter[""];
+            mNamespaceToDelimiter.remove( "" );
             mNamespaceToDelimiter[mOldPrefix] = delim;
           }
           kdDebug(5006) << "migratePrefix - replaced empty with " << mOldPrefix << endl;
@@ -726,7 +721,7 @@
     {
       kdDebug(5006) << "migratePrefix - no migration needed" << endl;
     }
-    mOldPrefix = QString::null;
+    mOldPrefix = "";
   }
 
   //-----------------------------------------------------------------------------
@@ -771,8 +766,7 @@
     // then try if the prefix is part of a namespace
     // exclude empty namespace
     for ( namespaceDelim::ConstIterator it = mNamespaceToDelimiter.begin(); 
-          it != mNamespaceToDelimiter.end(); ++it )
-    {
+          it != mNamespaceToDelimiter.end(); ++it ) {
       // the namespace definition sometimes contains the delimiter
       // make sure we also match this version
       QString stripped = it.key().left( it.key().length() - 1 );
@@ -782,8 +776,9 @@
       }
     }
     // see if we have an empty namespace
-    if ( mNamespaceToDelimiter.contains( QString::null ) ) {
-      return mNamespaceToDelimiter[QString::null];
+    // this should always be the case
+    if ( mNamespaceToDelimiter.contains( "" ) ) {
+      return mNamespaceToDelimiter[""];
     }
     // well, we tried
     kdDebug(5006) << "delimiterForNamespace - not found" << endl;
@@ -1273,6 +1268,7 @@
   QString ImapAccountBase::createImapPath( const QString& parent, 
                                            const QString& folderName )
   {
+    kdDebug(5006) << "createImapPath parent="<<parent<<", folderName="<<folderName<<endl;  
     QString newName = parent;
     // strip / at the end
     if ( newName.endsWith("/") ) {
Index: kmail/kmailicalifaceimpl.cpp
===================================================================
--- kmail/kmailicalifaceimpl.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmailicalifaceimpl.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1542,9 +1542,9 @@
         if ( i != KMail::ContentsTypeMail ) {
           QString typeName = localizedDefaultFolderName( static_cast<KMail::FolderContentsType>( i ) );
           if ( results[i].found == StandardFolderSearchResult::NotFound )
-            operations += "<li>" + i18n( "%1: no folder found, will create it" ).arg( typeName ) + "</li>";
+            operations += "<li>" + i18n( "%1: no folder found. It will be created." ).arg( typeName ) + "</li>";
           else if ( results[i].found == StandardFolderSearchResult::FoundByType || results[i].found == StandardFolderSearchResult::FoundByName )
-            operations += "<li>" + i18n( "%1: found folder %2, will set it as main groupware folder" ).
+            operations += "<li>" + i18n( "%1: found folder %2. It will be set as the main groupware folder." ).
                           arg( typeName ).arg( results[i].folder->label() ) + "</li>";
         }
       }
Index: kmail/kmheaders.cpp
===================================================================
--- kmail/kmheaders.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmheaders.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1339,7 +1339,11 @@
     CREATE_TIMER(filter);
     START_TIMER(filter);
 
+    KCursorSaver busy( KBusyPtr::busy() );
+    int counter = 0;
     for (KMMsgBase* msgBase=msgList->first(); msgBase; msgBase=msgList->next()) {
+      if ( !( ++counter % 20 ) )
+        KApplication::kApplication()->processEvents( 50 );
       int idx = msgBase->parent()->find(msgBase);
       assert(idx != -1);
       KMMessage * msg = msgBase->parent()->getMsg(idx);
@@ -2851,7 +2855,6 @@
 
 bool KMHeaders::readSortOrder( bool set_selection, bool forceJumpToUnread )
 {
-    kdDebug(5006) << k_funcinfo << endl << kdBacktrace() << endl;
     //all cases
     Q_INT32 column, ascending, threaded, discovered_count, sorted_count, appended;
     Q_INT32 deleted_count = 0;
Index: kmail/dcopimap.desktop
===================================================================
--- kmail/dcopimap.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/dcopimap.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -40,5 +40,4 @@
 Comment[tg]=Барномаи почтавӣ бо интерфейси DCOP
 Comment[tr]=DCOP arayüzü ile posta programı
 Comment[uk]=Програма для роботи з ел. поштою з інтерфейсом DCOP
-Comment[xx]=xxMail program with a DCOP interfacexx
 Comment[zh_CN]=具有 DCOP 接口的邮件程序
Index: kmail/profiles/profile-high-contrast-rc.desktop
===================================================================
--- kmail/profiles/profile-high-contrast-rc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/profiles/profile-high-contrast-rc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -40,7 +40,6 @@
 Name[tg]=Тазоди баланд
 Name[tr]=Yüksek Kontrast
 Name[uk]=Висока контрастність
-Name[xx]=xxHigh Contrastxx
 Name[zh_CN]=高对比
 Comment=Increased font sizes for visually impaired users
 Comment[ar]=خطوط بأحجام أكبر لضعاف البصر
@@ -89,7 +88,6 @@
 Comment[ven]=Saizi ya fontu yo engedzhwaho uitela vhashumisi vha zwauvhona
 Comment[vi]=Tăng cỡ font cho người dùng tàn tật 
 Comment[xh]=Ubungakanani bobukhulu begama bunyusiwe kubasebenzisi ababonayo
-Comment[xx]=xxIncreased font sizes for visually impaired usersxx
 Comment[zh_CN]=对有视觉障碍的用户增加字体大小
 Comment[zu]=Abakhushululiweyo osayizi befont kwabantu abayizimpumputhe
 
Index: kmail/profiles/profile-default-rc.desktop
===================================================================
--- kmail/profiles/profile-default-rc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/profiles/profile-default-rc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -55,7 +55,6 @@
 Name[ven]=Zwi si zwavhudi
 Name[vi]=Mặc định 
 Name[xh]=Engagqibekanga
-Name[xx]=xxDefaultxx
 Name[zh_CN]=默认
 Name[zu]=Engaqedekanga
 Comment=Standard profile
@@ -110,7 +109,6 @@
 Comment[ven]=Zwithu zwo doweleaho
 Comment[vi]=Hồ sơ chuẩn
 Comment[xh]=Imboniselo yabucala esezantsi
-Comment[xx]=xxStandard profilexx
 Comment[zh_CN]=标准配置文件
 Comment[zu]=Iprofayela Elingeneyo
 
Index: kmail/profiles/profile-html-rc.desktop
===================================================================
--- kmail/profiles/profile-html-rc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/profiles/profile-html-rc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1,7 +1,6 @@
 [KMail Profile]
 Name=HTML
 Name[bg]=Поддръжка на HTML
-Name[xx]=xxHTMLxx
 Comment=Standard profile with HTML preview enabled - less secure!
 Comment[ar]=تشكيل قياسي مع تمكين استعراض HTML - أقل أمانا!
 Comment[az]=HTML nümayişli standard - ən az etibarlı!
@@ -49,7 +48,6 @@
 Comment[ven]=Profile yo doweleaho irena HTML ya mbonelaphanda yo itwaho - a i ngo tsireledzea!
 Comment[vi]=Hồ sơ chuẩn cho phép xem trước HTML - I't bảo mật hơn !
 Comment[xh]=Imboniselo yabucala esezantsi nge HTML imboniso yenziwe - ukhuseleko oluncinane!
-Comment[xx]=xxStandard profile with HTML preview enabled - less secure!xx
 Comment[zh_CN]=启用 HTML 预览的标准配置文件 - 更不安全！
 Comment[zu]=Yenza ngokulingeneyo iprofayela nge HTML okokukhombisa ngaphambili kwenzeliwe - okuncane ukuvikeleka!
 
Index: kmail/profiles/profile-purist-rc.desktop
===================================================================
--- kmail/profiles/profile-purist-rc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/profiles/profile-purist-rc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -33,7 +33,6 @@
 Name[uk]=Пуристичний
 Name[ven]=Zwo kunaho
 Name[xh]=isiPurist
-Name[xx]=xxPuristxx
 Name[zh_CN]=严格
 Name[zu]=Okuhlanzekileyo
 Comment=Most features turned off, KDE global settings are used
@@ -83,7 +82,6 @@
 Comment[ven]=Zwithu zwinzhi zwo tsimiwa, mavhekanyelo a KDE a hothe na hothe a khu shumiswa
 Comment[vi]=Hầu hết các chức năng tắt, Thiết lập toàn cục của KDE được dùng 
 Comment[xh]=Imisebenzi emininzi icinyiwe, izicwangciso ezingqukuva ze KDE ziyasetyenziswa
-Comment[xx]=xxMost features turned off, KDE global settings are usedxx
 Comment[zh_CN]=关闭大多数特性，使用 KDE 全局设置
 Comment[zu]=Eziningi izinto azikhanyiswanga, ezezizwe izilungiselo ze KDE ziyasetshenziswa
 
Index: kmail/profiles/profile-secure-rc.desktop
===================================================================
--- kmail/profiles/profile-secure-rc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/profiles/profile-secure-rc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -41,7 +41,6 @@
 Name[tr]=En Güvenli
 Name[uk]=Найбільш безпечний
 Name[uz]=Жуда хавфсиз
-Name[xx]=xxMost Securexx
 Name[zh_CN]=最安全
 Comment=Sets all necessary options to achieve maximum security
 Comment[bg]=Режим, в който всички настройки за сигурност за включени
@@ -82,7 +81,6 @@
 Comment[tg]=Тамоми параметрҳоро, ки барои ноилшавии амнияти максималӣ лозим аст, сабт мекунад
 Comment[tr]=En yüksek güvenliği yakalamak için gerekli bütün takım seçenekleri
 Comment[uk]=Встановлює всі необхідні параметри для забезпечення максимальної безпеки
-Comment[xx]=xxSets all necessary options to achieve maximum securityxx
 Comment[zh_CN]=设置所有必要的选项来达到最大的安全性
 
 [Composer]
Index: kmail/application_octetstream.desktop
===================================================================
--- kmail/application_octetstream.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/application_octetstream.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -23,7 +23,6 @@
 Name[ta]=பயன்பாட்டு எண்மம்
 Name[tg]=Миқдори зиёди бинарии барномот
 Name[tr]=Uygulama Sekizli Akışı
-Name[xx]=xxApplication Octetstreamxx
 Name[zh_CN]=应用程序 Octetstream
 Comment=A bodypart formatter plugin for application/octet-stream
 Comment[bg]=Приставка за форматиране на двоични данни
@@ -38,6 +37,7 @@
 Comment[eu]=Gorputz-zati formateatzaile plugin bat aplikazio/zortikote-jarioentzat
 Comment[fr]=Un module formateur de corps pour application (flux d'octets)
 Comment[hu]=Formázómodul application/octet-stream típusú adatfolyamokhoz
+Comment[is]=Sniðmátstól fyrir application/octet-stream
 Comment[it]=Un plugin per formattare application/octet-stream
 Comment[ja]=application/octet-stream の Bodypart フォーマッタプラグイン
 Comment[nb]=Et programtillegg for meldingstekst-formatering for application/octet-stream
@@ -56,7 +56,6 @@
 Comment[tg]=Модули ба андозадарории application/octet-stream
 Comment[tr]=application/octet-stream için bir gövde biçimleyici eklentisi
 Comment[uk]=Втулок для форматування application/octet-stream
-Comment[xx]=xxA bodypart formatter plugin for application/octet-streamxx
 Comment[zh_CN]=application/octet-stream 的格式化插件
 
 [Plugin]
Index: kmail/kmail_config_misc.desktop
===================================================================
--- kmail/kmail_config_misc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmail_config_misc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -53,7 +53,6 @@
 Name[tg]=Ғайра
 Name[tr]=Çeşitli
 Name[uk]=Різн
-Name[xx]=xxMiscxx
 Name[zh_CN]=杂项
 Comment=Settings that don't fit elsewhere
 Comment[bg]=Разни настройки
@@ -90,7 +89,6 @@
 Comment[tg]=Дигар танзимотҳо
 Comment[tr]=Diğer bölümlere uymayan yapılandırma seçenekleri
 Comment[uk]=Інші параметри
-Comment[xx]=xxSettings that don't fit elsewherexx
 Comment[zh_CN]=其它设置
 Keywords=kmail,misc
 Keywords[be]=K Пошта,рознае,kmail,misc
@@ -129,5 +127,4 @@
 Keywords[tg]=kmail,misc,ғайра,дигар
 Keywords[tr]=kmail,çeşitli
 Keywords[uk]=kmail,різн
-Keywords[xx]=xxkmail,miscxx
 Keywords[zh_CN]=kmail,misc,杂项
Index: kmail/kmfoldermaildir.cpp
===================================================================
--- kmail/kmfoldermaildir.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmfoldermaildir.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -620,7 +620,9 @@
 {
   // we keep our current directory to restore it later
   char path_buffer[PATH_MAX];
-  ::getcwd(path_buffer, PATH_MAX - 1);
+  if(!::getcwd(path_buffer, PATH_MAX - 1))
+    return;
+
   ::chdir(QFile::encodeName(dir));
 
   // messages in the 'cur' directory are Read by default.. but may
Index: kmail/newfolderdialog.cpp
===================================================================
--- kmail/newfolderdialog.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/newfolderdialog.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -252,6 +252,8 @@
           // create folder with namespace
           parent = anAccount->addPathToNamespace( mNamespacesComboBox->currentText() );
           imapPath = anAccount->createImapPath( parent, fldName );
+        } else {
+          imapPath = anAccount->createImapPath( selectedStorage->imapPath(), fldName );  
         }
         KMFolderImap* newStorage = static_cast<KMFolderImap*>( newFolder->storage() );
         selectedStorage->createFolder(fldName, parent); // create it on the server
Index: kmail/subscriptiondialog.cpp
===================================================================
--- kmail/subscriptiondialog.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/subscriptiondialog.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -241,11 +241,28 @@
 //------------------------------------------------------------------------------
 void SubscriptionDialog::slotSave()
 {
+  KMail::ImapAccountBase *account = static_cast<KMail::ImapAccountBase*>(mAcct);
+  if( !account->onlySubscribedFolders() ) {
+      int result = KMessageBox::questionYesNoCancel( this,
+              i18n("Currently subscriptions are not used for server %1\ndo you want to enable subscriptions?")
+              .arg( account->name() ),
+              i18n("Enable Subscriptions?"), i18n("Enable"), i18n("Do Not Enable"));
+      switch(result) {
+          case KMessageBox::Yes:
+              mForceSubscriptionEnable = true;
+              break;
+          case KMessageBox::No:
+              break;
+          case KMessageBox::Cancel:
+              cancel();
+      }
+  }
+
   // subscribe
   QListViewItemIterator it(subView);
   for ( ; it.current(); ++it)
   {
-    static_cast<ImapAccountBase*>(account())->changeSubscription(true,
+    account->changeSubscription(true,
         static_cast<GroupItem*>(it.current())->info().path);
   }
 
@@ -253,16 +270,12 @@
   QListViewItemIterator it2(unsubView);
   for ( ; it2.current(); ++it2)
   {
-    static_cast<ImapAccountBase*>(account())->changeSubscription(false,
+    account->changeSubscription(false,
         static_cast<GroupItem*>(it2.current())->info().path);
   }
 
-  if( mForceSubscriptionEnable ) {
-    KMail::ImapAccountBase *account = static_cast<KMail::ImapAccountBase*>(mAcct);
-    if( account )
-    {
-      account->setOnlySubscribedFolders(true);
-    }
+  if ( mForceSubscriptionEnable ) {
+    account->setOnlySubscribedFolders(true);
   }
 }
 
@@ -368,27 +381,6 @@
 void SubscriptionDialog::show()
 {
   KDialogBase::show();
-  KMail::ImapAccountBase *account = static_cast<KMail::ImapAccountBase*>(mAcct);
-  if( account )
-  {
-    if( !account->onlySubscribedFolders() )
-    {
-      kdDebug() << "Not subscribed!!!" << endl;
-      int result = KMessageBox::questionYesNoCancel( this,
-              i18n("Currently subscriptions are not used for server %1\ndo you want to enable subscriptions?")
-              .arg( account->name() ),
-            i18n("Enable Subscriptions?"), i18n("Enable"), i18n("Do Not Enable"));
-        switch(result) {
-            case KMessageBox::Yes:
-                mForceSubscriptionEnable = true;
-                break;
-            case KMessageBox::No:
-                break;
-            case KMessageBox::Cancel:
-                cancel();
-        }
-    }
-  }
 }
 
 } // namespace
Index: kmail/kmail_config_composer.desktop
===================================================================
--- kmail/kmail_config_composer.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmail_config_composer.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -51,7 +51,6 @@
 Name[tg]=Муҳаррири мактубҳо
 Name[tr]=Düzenleyici
 Name[uk]=Редактор листів
-Name[xx]=xxComposerxx
 Name[zh_CN]=编写器
 Comment=Phrases & General Behavior
 Comment[bg]=Настройки на редактора
@@ -90,7 +89,6 @@
 Comment[tg]=Ибораҳо ва параметрҳои умумӣ
 Comment[tr]=Tümcecik ve Genel Davranış
 Comment[uk]=Фрази і загальні параметри
-Comment[xx]=xxPhrases & General Behaviorxx
 Comment[zh_CN]=短语和一般行为
 Keywords=kmail,composer
 Keywords[bg]=пощенски, клиент, е-поща, редактор, съставител, форматиране, текст, kmail, komposer
@@ -127,5 +125,4 @@
 Keywords[tg]=kmail,composer,мактуб
 Keywords[tr]=kmail,düzenleyici
 Keywords[uk]=kmail,редактор
-Keywords[xx]=xxkmail,composerxx
 Keywords[zh_CN]=kmail,composer, 编写器
Index: kmail/kmreaderwin.cpp
===================================================================
--- kmail/kmreaderwin.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmreaderwin.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1958,14 +1958,8 @@
 {
   assert(aMsgPart!=0);
   partNode* node = mRootNode ? mRootNode->findId( mAtmCurrent ) : 0;
-  KMMessage* msg;
-  if (node && node->dwPart()->Body().Message()) {
-    // make a deep copy
-    msg = new KMMessage( new DwMessage(*node->dwPart()->Body().Message()) );
-  } else {
-    msg = new KMMessage;
-    msg->fromString(aMsgPart->bodyDecoded());
-  }
+  KMMessage* msg = new KMMessage;
+  msg->fromString(aMsgPart->bodyDecoded());
   assert(msg != 0);
   msg->setMsgSerNum( 0 ); // because lookups will fail
   // some information that is needed for imap messages with LOD
Index: kmail/kmmessage.cpp
===================================================================
--- kmail/kmmessage.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmmessage.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -2791,13 +2791,14 @@
 
     // pending(khz): Find out WHY this look does not travel down *into* an
     //               embedded "Message/RfF822" message containing a "Multipart/Mixed"
-    if (curpart && curpart->hasHeaders() ) {
+    if ( curpart && curpart->hasHeaders() && curpart->Headers().HasContentType() ) {
       kdDebug(5006) << curpart->Headers().ContentType().TypeStr().c_str()
 		<< "  " << curpart->Headers().ContentType().SubtypeStr().c_str() << endl;
     }
 
     if (curpart &&
 	curpart->hasHeaders() &&
+        curpart->Headers().HasContentType() &&
 	curpart->Headers().ContentType().Type() == type &&
 	curpart->Headers().ContentType().Subtype() == subtype) {
 	part = curpart;
@@ -3818,13 +3819,15 @@
 //-----------------------------------------------------------------------------
 QCString KMMessage::charset() const
 {
-  DwMediaType &mType=mMsg->Headers().ContentType();
-  mType.Parse();
-  DwParameter *param=mType.FirstParameter();
-  while(param){
-    if (!kasciistricmp(param->Attribute().c_str(), "charset"))
-      return param->Value().c_str();
-    else param=param->Next();
+  if ( mMsg->Headers().HasContentType() ) {  
+    DwMediaType &mType=mMsg->Headers().ContentType();
+    mType.Parse();
+    DwParameter *param=mType.FirstParameter();
+    while(param){
+      if (!kasciistricmp(param->Attribute().c_str(), "charset"))
+        return param->Value().c_str();
+      else param=param->Next();
+    }
   }
   return ""; // us-ascii, but we don't have to specify it
 }
Index: kmail/kmail_config_identity.desktop
===================================================================
--- kmail/kmail_config_identity.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmail_config_identity.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -52,7 +52,6 @@
 Name[tg]=Профилҳо
 Name[tr]=Kimlikler
 Name[uk]=Профілі
-Name[xx]=xxIdentitiesxx
 Name[zh_CN]=身份
 Comment=Manage Identities
 Comment[be]=Кіраваньне увасабленьнямі
@@ -93,7 +92,6 @@
 Comment[tg]=Идоракунӣ бо профилҳо
 Comment[tr]=Kimlikleri Düzenle
 Comment[uk]=Керування профілями
-Comment[xx]=xxManage Identitiesxx
 Comment[zh_CN]=管理身份
 Keywords=kmail,identity
 Keywords[be]=K Пошта,увасабленьне,kmail,identity
@@ -132,5 +130,4 @@
 Keywords[tg]=kmail,identity,профил
 Keywords[tr]=kmail,kimlikler
 Keywords[uk]=kmail,профіль
-Keywords[xx]=xxkmail,identityxx
 Keywords[zh_CN]=kmail,identity, 身份
Index: kmail/kmcommands.cpp
===================================================================
--- kmail/kmcommands.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmcommands.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1464,15 +1464,20 @@
 
 KMCommand::Result KMFilterActionCommand::execute()
 {
+  KCursorSaver busy( KBusyPtr::busy() );
   QPtrList<KMMessage> msgList = retrievedMsgs();
 
   for (KMMessage *msg = msgList.first(); msg; msg = msgList.next())
     if( msg->parent() )
       kmkernel->filterMgr()->tempOpenFolder(msg->parent());
 
+  int counter = 0;
   for (KMMessage *msg = msgList.first(); msg; msg = msgList.next()) {
     msg->setTransferInProgress(false);
 
+    if ( !( ++counter % 20 ) )
+      KApplication::kApplication()->processEvents( 50 );
+
     int filterResult = kmkernel->filterMgr()->process(msg, mFilter);
     if (filterResult == 2) {
       // something went horribly wrong (out of space?)
@@ -1496,30 +1501,30 @@
 
 void KMMetaFilterActionCommand::start()
 {
-#if 0 // use action scheduler
-  KMFilterMgr::FilterSet set = KMFilterMgr::All;
-  QPtrList<KMFilter> filters;
-  filters.append( mFilter );
-  ActionScheduler *scheduler = new ActionScheduler( set, filters, mHeaders );
-  scheduler->setAlwaysMatch( true );
-  scheduler->setAutoDestruct( true );
+  if (ActionScheduler::isEnabled() ) {
+    // use action scheduler
+    KMFilterMgr::FilterSet set = KMFilterMgr::All;
+    QValueList<KMFilter*> filters;
+    filters.append( mFilter );
+    ActionScheduler *scheduler = new ActionScheduler( set, filters, mHeaders );
+    scheduler->setAlwaysMatch( true );
+    scheduler->setAutoDestruct( true );
 
-  int contentX, contentY;
-  HeaderItem *nextItem = mHeaders->prepareMove( &contentX, &contentY );
-  QPtrList<KMMsgBase> msgList = *mHeaders->selectedMsgs(true);
-  mHeaders->finalizeMove( nextItem, contentX, contentY );
+    int contentX, contentY;
+    HeaderItem *nextItem = mHeaders->prepareMove( &contentX, &contentY );
+    QPtrList<KMMsgBase> msgList = *mHeaders->selectedMsgs(true);
+    mHeaders->finalizeMove( nextItem, contentX, contentY );
 
-
-  for (KMMsgBase *msg = msgList.first(); msg; msg = msgList.next())
-    scheduler->execFilters( msg );
-#else
-  KMCommand *filterCommand = new KMFilterActionCommand( mMainWidget,
-  *mHeaders->selectedMsgs(), mFilter);
-  filterCommand->start();
-  int contentX, contentY;
-  HeaderItem *item = mHeaders->prepareMove( &contentX, &contentY );
-  mHeaders->finalizeMove( item, contentX, contentY );
-#endif
+    for (KMMsgBase *msg = msgList.first(); msg; msg = msgList.next())
+      scheduler->execFilters( msg );
+  } else {
+    KMCommand *filterCommand = new KMFilterActionCommand( mMainWidget,
+    *mHeaders->selectedMsgs(), mFilter);
+    filterCommand->start();
+    int contentX, contentY;
+    HeaderItem *item = mHeaders->prepareMove( &contentX, &contentY );
+    mHeaders->finalizeMove( item, contentX, contentY );
+  }
 }
 
 FolderShortcutCommand::FolderShortcutCommand( KMMainWidget *mainwidget,
Index: kmail/kmstartup.cpp
===================================================================
--- kmail/kmstartup.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmstartup.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -217,7 +217,6 @@
 
 void insertLibraryCataloguesAndIcons() {
   static const char * const catalogues[] = {
-    "libkdenetwork",
     "libkdepim",
     "libksieve",
     "libkleopatra",
Index: kmail/antispamwizard.cpp
===================================================================
--- kmail/antispamwizard.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/antispamwizard.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -525,7 +525,7 @@
                                     : i18n("Scanning for anti-virus tools finished.") );
   else
     mInfoPage->setScanProgressText( ( mMode == AntiSpam )
-                                    ? i18n("<p>Sorry, no spam detection tools have been found. "
+                                    ? i18n("<p>No spam detection tools have been found. "
                                            "Install your spam detection software and "
                                            "re-run this wizard.</p>")
                                     : i18n("Scanning complete. No anti-virus tools found.") );
Index: kmail/kmfoldercachedimap.cpp
===================================================================
--- kmail/kmfoldercachedimap.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmfoldercachedimap.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1120,7 +1120,7 @@
             "have sufficient access rights on the folder now to upload them. "
             "Please contact your administrator to allow upload of new messages "
             "to you, or move them out of this folder.</p> "
-            "<p>Do you want to move those messages to another folder now?</p>") );
+            "<p>Do you want to move these messages to another folder now?</p>") );
       if ( KMessageBox::warningYesNo( 0, msg, QString::null, i18n("Move"), i18n("Do Not Move") ) == KMessageBox::Yes ) {
         KMail::KMFolderSelDlg dlg( kmkernel->getKMMainWidget(),
             i18n("Move Messages to Folder"), true );
Index: kmail/renamejob.cpp
===================================================================
--- kmail/renamejob.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/renamejob.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -58,6 +58,7 @@
    mStorage( storage ), mNewParent( newParent ),
    mNewName( newName ), mNewFolder( 0 )
 {
+  mStorageTempOpened = 0;
   mOldName = storage->name();
   if ( storage->folderType() == KMFolderTypeImap ) {
     mOldImapPath = static_cast<KMFolderImap*>(storage)->imapPath();
@@ -77,7 +78,8 @@
     // move the folder to a different parent
     KMFolderType type = mStorage->folderType();
     if ( ( type == KMFolderTypeMbox || type == KMFolderTypeMaildir ) &&
-         mNewParent->type() == KMStandardDir )
+         mNewParent->type() == KMStandardDir &&
+         mStorage->folderType() != KMFolderTypeCachedImap )
     {
       // local folders can handle this on their own
       mStorage->rename( mNewName, mNewParent );
@@ -131,7 +133,11 @@
       KMFolderCachedImap* newStorage = static_cast<KMFolderCachedImap*>(mNewFolder->storage());
       KMFolderCachedImap* owner = static_cast<KMFolderCachedImap*>(mNewParent->owner()->storage());
       newStorage->initializeFrom( owner );
-      slotMoveMessages();
+      moveSubFoldersBeforeMessages();
+    } else if ( mStorage->folderType() == KMFolderTypeCachedImap )
+    {
+      // from (d)IMAP to local account
+      moveSubFoldersBeforeMessages();
     } else
     {
       // local
@@ -219,6 +225,8 @@
   mStorage->blockSignals( true );
   // move all messages to the new folder
   QPtrList<KMMsgBase> msgList;
+  if ( !mStorage->isOpened() )
+    mStorageTempOpened = mStorage->open() ? mStorage : 0;
   for ( int i = 0; i < mStorage->count(); i++ )
   {
     KMMsgBase* msgBase = mStorage->getMsgBase( i );
@@ -240,6 +248,10 @@
 void RenameJob::slotMoveCompleted( KMCommand* command )
 {
   kdDebug(5006) << k_funcinfo << (command?command->result():0) << endl;
+  if ( mStorageTempOpened ) {
+    mStorageTempOpened->close();
+    mStorageTempOpened = 0;
+  }
   if ( command ) {
     // just make sure nothing bounces
     disconnect( command, SIGNAL( completed( KMCommand * ) ),
@@ -263,6 +275,10 @@
       config->writeEntry( it.key(), it.data() );
     }
     mNewFolder->readConfig( config );
+    // make sure the children state is correct
+    if ( mNewFolder->child() &&
+         ( mNewFolder->storage()->hasChildren() == FolderStorage::HasNoChildren ) )
+      mNewFolder->storage()->updateChildrenState();
 
     // delete the old folder
     mStorage->blockSignals( false );
@@ -315,4 +331,37 @@
   delete this;
 }
 
+void RenameJob::slotMoveSubFolders( QString newName, bool success )
+{
+  if ( !success ) {
+      emit renameDone( newName, false );
+  } else {
+    KMFolderDir* child = mStorage->folder()->child();
+    if ( child && child->first() )
+    {
+      KMFolderNode* node = child->first();
+      {
+        FolderStorage* childStorage = static_cast<KMFolder*>(node)->storage();
+        if ( !mNewFolder->child() )
+          mNewFolder->createChildFolder();
+        RenameJob* job = new RenameJob( childStorage, childStorage->name(),
+                                        mNewFolder->child() );
+        connect( job, SIGNAL( renameDone( QString, bool ) ),
+            this, SLOT( slotMoveSubFolders( QString, bool ) ) );
+        job->start();
+      }
+    }
+    else slotMoveMessages();
+  }
+}
+
+void RenameJob::moveSubFoldersBeforeMessages()
+{
+  // move child folders recursive if present - else simply move the messages
+  KMFolderDir* child = mStorage->folder()->child();
+  if ( child )
+    slotMoveSubFolders( "", true );
+  else slotMoveMessages();
+}
+
 #include "renamejob.moc"
Index: kmail/kmail_part.rc
===================================================================
--- kmail/kmail_part.rc	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmail_part.rc	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1,5 +1,8 @@
+<!-- This file should be synchronized with kmmainwin.rc to provide
+     the same menu entries at the same place in KMail and Kontact  -->
+
 <!DOCTYPE kpartgui>
-<kpartgui version="4" name="kmail_part" >
+<kpartgui version="6" name="kmail_part" >
  <MenuBar>
   <Menu noMerge="1" name="file" >
    <text>&amp;File</text>
@@ -126,15 +129,12 @@
      <text>Mark Thread as</text>
      <Action name="thread_watched" />
      <Action name="thread_ignored" />
-     <Separator/>
-     <Action name="thread_break" />
    </Menu>
    <Separator/>
    <Action name="create_filter"/>
    <Menu name="apply_filter_actions" >
      <text>A&amp;pply Filter</text>
      <Action name="apply_filters" /> 
-     <Separator/>
      <ActionList name="menu_filter_actions" />
    </Menu>
   </Menu>
@@ -142,6 +142,7 @@
    <text>&amp;Tools</text>
    <Action name="tools_start_certman"/>
    <Action name="tools_start_kwatchgnupg"/>
+   <Action name="import"/>
    <Separator/>
    <Action name="tools_edit_vacation"/>
    <Separator/>
Index: kmail/eventsrc
===================================================================
--- kmail/eventsrc	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/eventsrc	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -6,7 +6,6 @@
 Comment[pa]=ਕੇ-ਪੱਤਰ
 Comment[sv]=Kmail
 Comment[ta]=kஅஞ்சல்
-Comment[xx]=xxKMailxx
 
 [new-mail-arrived]
 Name=New Mail Arrived
@@ -48,7 +47,6 @@
 Name[tg]=Почтаи нав қабул шуд
 Name[tr]=Yeni E-posta Geldi
 Name[uk]=Отримана нова пошта
-Name[xx]=xxNew Mail Arrivedxx
 Name[zh_CN]=新邮件到达
 Comment=New mail arrived
 Comment[bg]=Имате ново писмо
@@ -90,7 +88,6 @@
 Comment[tg]=Почтаи нав қабул шуд
 Comment[tr]=Yeni e-posta geldi
 Comment[uk]=Надійшла нова пошта
-Comment[xx]=xxNew mail arrivedxx
 Comment[zh_CN]=新邮件到达
 default_sound=
 default_presentation=0
Index: kmail/kmkernel.cpp
===================================================================
--- kmail/kmkernel.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmkernel.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1432,11 +1432,11 @@
   the_msgIndex = 0;
 #endif
 
-#if 0
+//#if 0
   the_weaver =  new KPIM::ThreadWeaver::Weaver( this );
   the_weaverLogger = new KPIM::ThreadWeaver::WeaverThreadLogger(this);
   the_weaverLogger->attach (the_weaver);
-#endif
+//#endif
 
   connect( the_folderMgr, SIGNAL( folderRemoved(KMFolder*) ),
            this, SIGNAL( folderRemoved(KMFolder*) ) );
Index: kmail/kmail.kcfg
===================================================================
--- kmail/kmail.kcfg	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmail.kcfg	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -109,6 +109,9 @@
         <default>0</default>
 	<min>0</min>
       </entry>
+      <entry name="FolderLoadingTimeout" type="Int" hidden="true">
+         <default>1000</default>
+      </entry>
    
 
     </group>
@@ -440,4 +443,12 @@
       </entry>
     </group>
 
+    <group name="MDN">
+      <entry name="SendMDNsWithEmptySender" type="Bool">
+        <default>false</default>
+        <label>Send Message Disposition Notifications with an empty sender.</label>
+        <whatsthis>Send Message Disposition Notifications with an empty sender string. Some servers might be configure to reject such messages, so if you are experiencing problems sending MDNs, uncheck this option.</whatsthis>
+      </entry>
+    </group>
+
 </kcfg>
Index: kmail/renamejob.h
===================================================================
--- kmail/renamejob.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/renamejob.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -73,12 +73,17 @@
   /** All messages are moved so remove the original folder */
   void slotMoveCompleted( KMCommand *command );
 
+  void slotMoveSubFolders( QString newName, bool success );
+
 signals:
   /** Emitted when the job is done, check the success bool */
   void renameDone( QString newName, bool success );
 
 protected:
+  void moveSubFoldersBeforeMessages();
+
   FolderStorage* mStorage;
+  FolderStorage* mStorageTempOpened;
   KMFolderDir* mNewParent;
   QString mNewName;
   QString mNewImapPath;
Index: kmail/kmmainwidget.cpp
===================================================================
--- kmail/kmmainwidget.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmmainwidget.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1644,11 +1644,11 @@
 {
   if ( GlobalSettings::self()->networkState() == GlobalSettings::EnumNetworkState::Online ) {
     // if online; then toggle and set it offline.
-    actionCollection()->action( "online_status" )->setText( i18n("Network State (online)") );
+    actionCollection()->action( "online_status" )->setText( i18n("Go Online") );
     kmkernel->stopNetworkJobs();
     BroadcastStatus::instance()->setStatusMsg( i18n("KMail is set to be offline; all network jobs are suspended"));
   } else {
-    actionCollection()->action( "online_status" )->setText( i18n("Network State (offline)") );
+    actionCollection()->action( "online_status" )->setText( i18n("Go Offline") );
     kmkernel->resumeNetworkJobs();
     BroadcastStatus::instance()->setStatusMsg( i18n("KMail is set to be online; all network jobs resumed"));
   }
@@ -1787,10 +1787,10 @@
       mForceJumpToUnread = forceJumpToUnread;
 
       // Set a timer to show a splash screen if fetching folder contents
-      // takes more than a second
+      // takes more than the amount of seconds configured in the kmailrc (default 1000 msec)
       mShowBusySplashTimer = new QTimer( this );
       connect( mShowBusySplashTimer, SIGNAL( timeout() ), this, SLOT( slotShowBusySplash() ) );
-      mShowBusySplashTimer->start( 1000, true );
+      mShowBusySplashTimer->start( GlobalSettings::self()->folderLoadingTimeout(), true );
       return;
     } else {
       // the folder is complete now - so go ahead
@@ -2286,7 +2286,7 @@
   (void) new KAction( i18n("&Send Queued Messages"), "mail_send", 0, this,
 		     SLOT(slotSendQueued()), actionCollection(), "send_queued");
 
-  (void) new KAction( i18n("Onlinestatus (unknown)"), "online_status", 0, this,
+  (void) new KAction( i18n("Online Status (unknown)"), "online_status", 0, this,
                      SLOT(slotOnlineStatus()), actionCollection(), "online_status");
 
   KActionMenu *sendActionMenu = new
@@ -3000,9 +3000,9 @@
     actionCollection()->action( "send_queued" )->setEnabled( kmkernel->outboxFolder()->count() > 0 );
     actionCollection()->action( "send_queued_via" )->setEnabled( kmkernel->outboxFolder()->count() > 0 );
     if ( GlobalSettings::self()->networkState() == GlobalSettings::EnumNetworkState::Online )
-      actionCollection()->action( "online_status" )->setText( i18n("Network State (offline)") );
+      actionCollection()->action( "online_status" )->setText( i18n("Go Offline") );
     else
-      actionCollection()->action( "online_status" )->setText( i18n("Network State (online)") );
+      actionCollection()->action( "online_status" )->setText( i18n("Go Online") );
     if (action( "edit_undo" ))
       action( "edit_undo" )->setEnabled( mHeaders->canUndo() );
 
@@ -3311,6 +3311,7 @@
       if(!addedSeparator) {
         mApplyFilterActionsMenu->popupMenu()->insertSeparator();
         addedSeparator = !addedSeparator;
+	mFilterMenuActions.append( new KActionSeparator());
       }
       filterAction->plug( mApplyFilterActionsMenu->popupMenu() );
       mFilterMenuActions.append(filterAction);
Index: kmail/avscripts/kmail_clamav.sh
===================================================================
--- kmail/avscripts/kmail_clamav.sh	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/avscripts/kmail_clamav.sh	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -33,10 +33,21 @@
 fi 
 export TEMPFILE
 cat > $TEMPFILE
-if clamscan --stdout --no-summary --mbox $TEMPFILE | grep -q FOUND; then
-echo "X-Virus-Flag: yes"
+
+# check for a running daemon
+if [ `ps -eo comm|grep clamd` = "clamd" ]; then
+    chmod a+r $TEMPFILE
+    CLAMCOMANDO="clamdscan --stdout --no-summary "
 else
-echo "X-Virus-Flag: no"
+    CLAMCOMANDO="clamscan --stdout --no-summary --mbox"
 fi
+
+# analyze the message
+if $CLAMCOMANDO $TEMPFILE | grep -q FOUND; then
+    echo "X-Virus-Flag: yes"
+else
+    echo "X-Virus-Flag: no"
+fi
+
 cat $TEMPFILE
 rm $TEMPFILE
Index: kmail/kmfilteraction.cpp
===================================================================
--- kmail/kmfilteraction.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmfilteraction.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1617,6 +1617,9 @@
       FILE *p;
       QByteArray ba;
 
+      // backup the serial number in case the header gets lost
+      QString origSerNum = mMsg->headerField( "X-KMail-Filtered" );
+
       p = popen(QFile::encodeName(mCmd), "r");
       int len =100;
       char buffer[100];
@@ -1630,7 +1633,20 @@
       pclose(p);
       if ( !ba.isEmpty() ) {
         KPIM::ThreadWeaver::debug (1, "PipeJob::run: %s", QString(ba).latin1() );
+        KMFolder *filterFolder =  mMsg->parent();
+        ActionScheduler *handler = MessageProperty::filterHandler( mMsg->getMsgSerNum() );
+
         mMsg->fromByteArray( ba );
+        if ( !origSerNum.isEmpty() )
+          mMsg->setHeaderField( "X-KMail-Filtered", origSerNum );
+        if ( filterFolder && handler ) {
+          bool oldStatus = handler->ignoreChanges( true );
+          filterFolder->take( filterFolder->find( mMsg ) );
+          filterFolder->addMsg( mMsg );
+          handler->ignoreChanges( oldStatus );
+        } else {
+          kdDebug(5006) << "Warning: Cannot refresh the message from the external filter." << endl;
+        }
       }
 
       KPIM::ThreadWeaver::debug (1, "PipeJob::run: done.\n" );
Index: kmail/kmcomposewin.cpp
===================================================================
--- kmail/kmcomposewin.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmcomposewin.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1446,6 +1446,11 @@
 
   editorFocusChanged(false);
   createGUI("kmcomposerui.rc");
+  // In Kontact, this entry would read "Configure Kontact", but bring
+  // up KMail's config dialog. That's sensible, though, so fix the label.
+  KAction* configureAction = actionCollection()->action("options_configure" );
+  if ( configureAction )
+    configureAction->setText( i18n("Configure KMail" ) );
 }
 
 //-----------------------------------------------------------------------------
Index: kmail/kmail_view.desktop
===================================================================
--- kmail/kmail_view.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmail_view.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -10,7 +10,6 @@
 Name[sv]=Kmail
 Name[ta]=Kஅஞ்சல்
 Name[th]=จัดการจดหมาย - K
-Name[xx]=xxKMailxx
 Type=Application
 Exec=kmail --view %u
 Icon=kmail
Index: kmail/callback.cpp
===================================================================
--- kmail/callback.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/callback.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -79,7 +79,7 @@
     // Try and match the receiver with an identity
     const KPIM::Identity& identity =
       kmkernel->identityManager()->identityForAddress( receiver() );
-    if( identity != KPIM::Identity::null )
+    if( identity != KPIM::Identity::null() )
       // Identity found. Use this
       msg->setFrom( identity.fullEmailAddr() );
       msg->setHeaderField("X-KMail-Identity", QString::number( identity.uoid() ));
@@ -119,7 +119,7 @@
     int found = 0;
     for( QStringList::Iterator it = addrs.begin(); it != addrs.end(); ++it ) {
       if( kmkernel->identityManager()->identityForAddress( *it ) !=
-          KPIM::Identity::null ) {
+          KPIM::Identity::null() ) {
 	// Ok, this could be us
         ++found;
         mReceiver = *it;
Index: kmail/configuredialog.cpp
===================================================================
--- kmail/configuredialog.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/configuredialog.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -2449,7 +2449,7 @@
   // "Headers" tab:
   //
   mHeadersTab = new HeadersTab();
-  addTab( mHeadersTab, i18n("M&essage List") );
+  addTab( mHeadersTab, i18n("H&eaders") );
 
   //
   // "Attachments" tab:
@@ -4429,7 +4429,7 @@
   msg = i18n( "what's this help",
 		  "<qt><p>Full text indexing allows very fast searches on the content "
 		  "of your messages. When enabled, the search dialog will work very fast. "
-		  "Also, the search tool bar will also select messages based on content.</p>"
+		  "Also, the search tool bar will select messages based on content.</p>"
 		  "<p>It takes up a certain amount of disk space "
 		  "(about half the disk space for the messages).</p>"
 		  "<p>After enabling, the index will need to be built, but you can continue to use KMail "
Index: kmail/kmfolderimap.cpp
===================================================================
--- kmail/kmfolderimap.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmfolderimap.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1352,21 +1352,26 @@
 //-----------------------------------------------------------------------------
 void KMFolderImap::flagsToStatus(KMMsgBase *msg, int flags, bool newMsg)
 {
-  if (flags & 4)
+  const KMMsgStatus oldStatus = msg->status();
+  // Set flags if they are new
+  if ( (flags & 4) && (oldStatus & KMMsgStatusFlag) == 0 )
     msg->setStatus( KMMsgStatusFlag );
-  if (flags & 2)
+  if ( (flags & 2) && (oldStatus & KMMsgStatusReplied) == 0 )
     msg->setStatus( KMMsgStatusReplied );
-  if (flags & 1)
+  if ( (flags & 1) && (oldStatus & KMMsgStatusOld) == 0 )
     msg->setStatus( KMMsgStatusOld );
 
   // In case the message does not have the seen flag set, override our local
   // notion that it is read. Otherwise the count of unread messages and the
   // number of messages which actually show up as read can go out of sync.
   if (msg->isOfUnknownStatus() || !(flags&1) ) {
-    if (newMsg)
-      msg->setStatus( KMMsgStatusNew );
-    else
-      msg->setStatus( KMMsgStatusUnread );
+    if (newMsg) {
+      if ( (oldStatus & KMMsgStatusNew) == 0 )
+        msg->setStatus( KMMsgStatusNew );
+    } else {
+      if ( (oldStatus & KMMsgStatusUnread) == 0 )
+        msg->setStatus( KMMsgStatusUnread );
+    }
   }
 }
 
Index: kmail/kmail_config_appearance.desktop
===================================================================
--- kmail/kmail_config_appearance.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmail_config_appearance.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -56,7 +56,6 @@
 Name[tg]=Намуди зоҳирӣ
 Name[tr]=Görünüm
 Name[uk]=Вигляд
-Name[xx]=xxAppearancexx
 Name[zh_CN]=外观
 Comment=Customize Visual Appearance
 Comment[bg]=Настройки на външния вид
@@ -97,7 +96,6 @@
 Comment[tg]=Танзимоти намуди зоҳирӣ
 Comment[tr]=Görsel Görünümü Özelleştir
 Comment[uk]=Налаштування зовнішнього вигляду
-Comment[xx]=xxCustomize Visual Appearancexx
 Comment[zh_CN]=自定义视觉外观
 Keywords=kmail,appearance
 Keywords[be]=K Пошта,зьнешні выгляд,kmail,appearance
@@ -138,5 +136,4 @@
 Keywords[tg]=kmail,намуди зоҳирӣ
 Keywords[tr]=kmail,görünüm
 Keywords[uk]=kmail,вигляд
-Keywords[xx]=xxkmail,appearancexx
 Keywords[zh_CN]=kmail,appearance,外观
Index: kmail/kmfolder.cpp
===================================================================
--- kmail/kmfolder.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmfolder.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -263,8 +263,13 @@
     }
   }
 
-  mChild = new KMFolderDir( this, parent(), childName,
-    (folderType() == KMFolderTypeImap) ? KMImapDir : KMStandardDir);
+  KMFolderDirType newType = KMStandardDir;
+  if( folderType() == KMFolderTypeCachedImap )
+    newType = KMDImapDir;
+  else if( folderType() == KMFolderTypeImap )
+    newType = KMImapDir;
+
+  mChild = new KMFolderDir( this, parent(), childName, newType );
   if( !mChild )
     return 0;
   mChild->reload();
Index: kmail/actionscheduler.h
===================================================================
--- kmail/actionscheduler.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/actionscheduler.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -77,10 +77,10 @@
    of messages left to process is empty */
   void setFilterList( QValueList<KMFilter*> filters );
 
-  /* Set the id of the account associated with this scheduler */
+  /** Set the id of the account associated with this scheduler */
   void setAccountId( uint id  ) { mAccountId = id; mAccount = true; }
 
-  /* Clear the id of the account associated with this scheduler */
+  /** Clear the id of the account associated with this scheduler */
   void clearAccountId() { mAccountId = 0; mAccount = false; }
 
   /** Queue a message for filtering */
@@ -88,9 +88,16 @@
   void execFilters(const QPtrList<KMMsgBase> msgList);
   void execFilters(KMMsgBase* msgBase);
   void execFilters(Q_UINT32 serNum);
+
   static QString debug();
   static bool isEnabled();
 
+  /** Allow or deny manipulations on the message to be filtered.
+      This is needed when using pipe-through filters, because the
+      changes made by the filter have to be written back.
+      The old value before applying the new value is returned. */
+  bool ignoreChanges( bool ignore );
+
 signals:
   /** Emitted when filtering is completed */
   void result(ReturnCode);
Index: kmail/KMail.desktop
===================================================================
--- kmail/KMail.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/KMail.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -10,7 +10,6 @@
 Name[sv]=Kmail
 Name[ta]=Kஅஞ்சல்
 Name[th]=จัดการจดหมาย - K
-Name[xx]=xxKMailxx
 Type=Application
 Exec=kmail -caption "%c" %i %m
 Icon=kmail
@@ -71,7 +70,6 @@
 GenericName[uz]=Хат-хабар клиенти
 GenericName[ven]=Mushumisani na poso
 GenericName[xh]=Umxhasi Weposi
-GenericName[xx]=xxMail Clientxx
 GenericName[zh_CN]=邮件客户程序
 GenericName[zu]=Imeyili Yomthengi
 Terminal=false
Index: kmail/acljobs.cpp
===================================================================
--- kmail/acljobs.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/acljobs.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -34,7 +34,9 @@
 
 using namespace KMail;
 
-static unsigned int IMAPRightsToPermission( const QString& str ) {
+// Convert str to an ACLPermissions value.
+// url and user are there only for the error message
+static unsigned int IMAPRightsToPermission( const QString& str, const KURL& url, const QString& user ) {
   unsigned int perm = 0;
   bool foundSeenPerm = false;
   uint len = str.length();
@@ -57,7 +59,7 @@
     // Reading without 'seen' is, well, annoying. Unusable, even.
     // So we treat 'rs' as a single one.
     // But if the permissions were set out of kmail, better check that both are set
-    kdWarning(5006) << "IMAPRightsToPermission: found read (r) but not seen (s). Things will not work well." << endl;
+    kdWarning(5006) << "IMAPRightsToPermission: found read (r) but not seen (s). Things will not work well for folder " << url << " and user " << ( user.isEmpty() ? "myself" : user ) << endl;
     if ( perm & ACLJobs::Administer )
       kdWarning(5006) << "You can change this yourself in the ACL dialog" << endl;
     else
@@ -177,7 +179,7 @@
   {
     QString user = lst.front(); lst.pop_front();
     QString imapRights = lst.front(); lst.pop_front();
-    unsigned int perm = IMAPRightsToPermission( imapRights );
+    unsigned int perm = IMAPRightsToPermission( imapRights, url(), user );
     m_entries.append( ACLListEntry( user, imapRights, perm ) );
   }
 }
@@ -193,7 +195,7 @@
 void ACLJobs::GetUserRightsJob::slotInfoMessage( KIO::Job*, const QString& str )
 {
   // Parse the result
-  m_permissions = IMAPRightsToPermission( str );
+  m_permissions = IMAPRightsToPermission( str, url(), QString::null );
 }
 
 ACLJobs::DeleteACLJob::DeleteACLJob( const KURL& url, const QString& userId,
Index: kmail/dcopmail.desktop
===================================================================
--- kmail/dcopmail.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/dcopmail.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -40,5 +40,4 @@
 Comment[tg]=Барномаи почтавӣ бо интерфейси DCOP
 Comment[tr]=DCOP arayüzü ile posta programı
 Comment[uk]=Програма для роботи з ел. поштою з інтерфейсом DCOP
-Comment[xx]=xxMail program with a DCOP interfacexx
 Comment[zh_CN]=具有 DCOP 接口的邮件程序
Index: kmail/kmfoldertree.cpp
===================================================================
--- kmail/kmfoldertree.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmfoldertree.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1780,6 +1780,18 @@
       item = item->nextSibling();
       continue;
     }
+    if ( action == MoveFolder ) {
+      // FIXME remove in KDE 4
+      // skip all but local folders if a folder is to be moved
+      // because moving of nested folders to IMAP and DIMAP
+      // looses all messages in the subfolders
+      if ( fti->protocol() != KFolderTreeItem::Local
+        && fti->protocol() != KFolderTreeItem::NONE )
+      {
+        item = item->nextSibling();
+        continue;
+      }
+    }
     QString label = fti->text( 0 );
     label.replace( "&","&&" );
     if ( fti->firstChild() )
Index: kmail/kmail_config_security.desktop
===================================================================
--- kmail/kmail_config_security.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmail_config_security.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -54,7 +54,6 @@
 Name[tr]=Güvenlik
 Name[uk]=Безпека
 Name[uz]=Хавфсизлик
-Name[xx]=xxSecurityxx
 Name[zh_CN]=安全
 Comment=Security & Privacy Settings
 Comment[be]=Настройкі бясьпекі і прыватнасьці
@@ -93,7 +92,6 @@
 Comment[tg]=Танзимоти амният
 Comment[tr]=Güvenlik ve Gizlilik Ayarlar
 Comment[uk]=Параметри безпеки і конфіденційності
-Comment[xx]=xxSecurity & Privacy Settingsxx
 Comment[zh_CN]=安全和隐私设置
 Keywords=kmail,security
 Keywords[be]=K Пошта,бясьпека,kmail,security
@@ -133,5 +131,4 @@
 Keywords[tg]=kmail,security,амният
 Keywords[tr]=kmail,güvenlik
 Keywords[uk]=kmail,безпека
-Keywords[xx]=xxkmail,securityxx
 Keywords[zh_CN]=kmail,security,安全
Index: kmail/objecttreeparser.cpp
===================================================================
--- kmail/objecttreeparser.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/objecttreeparser.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1303,15 +1303,9 @@
     }
     QCString rfc822messageStr( node->msgPart().bodyDecoded() );
     // display the headers of the encapsulated message
-    DwMessage* rfc822DwMessage = 0; // will be deleted by c'tor of rfc822headers
-    if ( node->dwPart()->Body().Message() )
-      rfc822DwMessage = new DwMessage( *(node->dwPart()->Body().Message()) );
-    else
-    {
-      rfc822DwMessage = new DwMessage();
-      rfc822DwMessage->FromString( rfc822messageStr );
-      rfc822DwMessage->Parse();
-    }
+    DwMessage* rfc822DwMessage = new DwMessage(); // will be deleted by c'tor of rfc822headers
+    rfc822DwMessage->FromString( rfc822messageStr );
+    rfc822DwMessage->Parse();
     KMMessage rfc822message( rfc822DwMessage );
     node->setFromAddress( rfc822message.from() );
     kdDebug(5006) << "\n----->  Store RfC 822 message header \"From: " << rfc822message.from() << "\"\n" << endl;
Index: kmail/kmail_config_accounts.desktop
===================================================================
--- kmail/kmail_config_accounts.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmail_config_accounts.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -53,7 +53,6 @@
 Name[tr]=Hesaplar
 Name[uk]=Рахунки
 Name[uz]=Ҳисоблар
-Name[xx]=xxAccountsxx
 Name[zh_CN]=账户
 Comment=Setup for Sending and Receiving Messages
 Comment[bg]=Настройки на мрежата, сървърите и сметките
@@ -89,7 +88,6 @@
 Comment[tg]=Танзимоти фиристодан ва қабул кардани иттилоот
 Comment[tr]=Gönderilen ve Gelen Mesajlar için Yapılandırma
 Comment[uk]=Налаштування для надсилання і отримання повідомлень
-Comment[xx]=xxSetup for Sending and Receiving Messagesxx
 Comment[zh_CN]=收发邮件设置
 Keywords=kmail,accounts
 Keywords[bg]=пощенски, клиент, е-поща, kmail, accounts
@@ -123,5 +121,4 @@
 Keywords[ta]=கேஅஞ்சல்,கணக்குகள்
 Keywords[tr]=kmail,hesplar
 Keywords[uk]=kmail,accounts,пошта,рахунки
-Keywords[xx]=xxkmail,accountsxx
 Keywords[zh_CN]=kmail,account,账户
Index: kmail/kmsender.cpp
===================================================================
--- kmail/kmsender.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmsender.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -25,6 +25,7 @@
 #include <sys/types.h>
 #include <sys/stat.h>
 #include <sys/wait.h>
+#include "globalsettings.h"
 #include "kmfiltermgr.h"
 
 #include "kcursorsaver.h"
@@ -40,6 +41,8 @@
 #include "protocols.h"
 #include "kmcommands.h"
 #include <mimelib/mediatyp.h>
+#include <mimelib/enum.h>
+#include <mimelib/param.h>
 
 #define SENDER_GROUP "sending mail"
 
@@ -236,6 +239,28 @@
   mProgressItem->setProgress(percent);
 }
 
+static bool messageIsDispositionNotificationReport( KMMessage *msg )
+{
+    if ( msg->type() == DwMime::kTypeMessage &&
+         msg->subtype() == DwMime::kSubtypeDispositionNotification )
+      return true;
+
+    if ( msg->type() != DwMime::kTypeMultipart ||
+         msg->subtype() != DwMime::kSubtypeReport )
+      return false;
+
+    DwMediaType& ct = msg->dwContentType();
+    DwParameter *param = ct.FirstParameter();
+    while( param ) {
+      if ( !qstricmp( param->Attribute().c_str(), "report-type")
+        && !qstricmp( param->Value().c_str(), "disposition-notification" ) )
+        return true;
+      else
+        param = param->Next();
+    }
+    return false;
+}
+
 //-----------------------------------------------------------------------------
 void KMSender::doSendMsg()
 {
@@ -559,6 +584,11 @@
   QStringList to, cc, bcc;
   QString sender;
   extractSenderToCCAndBcc( mCurrentMsg, &sender, &to, &cc, &bcc );
+  
+  // MDNs are required to have an empty envelope from as per RFC2298.
+  if ( messageIsDispositionNotificationReport( mCurrentMsg ) && GlobalSettings::self()->sendMDNsWithEmptySender() )
+    sender = "<>";
+
   const QCString message = mCurrentMsg->asSendableString();
   if ( sender.isEmpty() || !mSendProc->send( sender, to, cc, bcc, message ) ) {
     if ( mCurrentMsg )
Index: kmail/actionscheduler.cpp
===================================================================
--- kmail/actionscheduler.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/actionscheduler.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -570,7 +570,7 @@
        (!mAccount ||
 	(mAccount && (*mFilterIt).applyOnAccount(mAccountId)))) ||
       ((mSet & KMFilterMgr::Explicit) && (*mFilterIt).applyOnExplicit())) {
-      
+
       // filter is applicable
     if ( FilterLog::instance()->isLogging() ) {
       QString logText( i18n( "<b>Evaluating filter rules:</b> " ) );
@@ -646,8 +646,11 @@
   if (!orgMsg || !orgMsg->parent()) {
     // Original message is gone, no point filtering it anymore
     mSrcFolder->removeMsg( mSrcFolder->find( msg ) );
+    kdDebug(5006) << "The original serial number is missing. "
+                  << "Cannot complete the filtering." << endl;
     mExecutingLock = false;
     processMessageTimer->start( 0, true );
+    return;
   } else {
     if (!folder) // no filter folder specified leave in current place
       folder = orgMsg->parent();
@@ -659,7 +662,7 @@
   mSrcFolder->addMsg( msg );
   mIgnore = false;
 
-  if (msg && kmkernel->folderIsTrash( folder ))
+  if (msg && folder && kmkernel->folderIsTrash( folder ))
     KMFilterAction::sendMDN( msg, KMime::MDN::Deleted );
 
   timeOutTime = QTime::currentTime();
@@ -722,8 +725,6 @@
 
 void ActionScheduler::copyMessageFinished( KMCommand *command )
 {
-  // FIXME remove the debug output
-  kdDebug(5006) << "##### ActionScheduler::copyMessageFinished( KMCommand *command )" << endl;
   if ( command->result() != KMCommand::OK )
     actionMessage( KMFilterAction::ErrorButGoOn );
   else 
@@ -803,4 +804,11 @@
     return sEnabled;
 }
 
+bool ActionScheduler::ignoreChanges( bool ignore )
+{
+  bool oldValue = mIgnore;
+  mIgnore = ignore;
+  return oldValue;
+}
+
 #include "actionscheduler.moc"
Index: kmail/kmversion.h
===================================================================
--- kmail/kmversion.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmversion.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -3,6 +3,6 @@
 #ifndef kmversion_h
 #define kmversion_h
 
-#define KMAIL_VERSION "1.9"
+#define KMAIL_VERSION "1.9.1"
 
 #endif /*kmversion_h*/
Index: kmail/kmail_part.h
===================================================================
--- kmail/kmail_part.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmail/kmail_part.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -78,7 +78,7 @@
     virtual void guiActivateEvent(KParts::GUIActivateEvent *e);
 
   private:
-    KMKernel *kmailKernel;
+    KMKernel *mKMailKernel;
     KMMainWidget *mainWidget;
     ActionManager *mActionManager;
     KMailStatusBarExtension *mStatusBar;
Index: networkstatus/networkstatus.desktop
===================================================================
--- networkstatus/networkstatus.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ networkstatus/networkstatus.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -14,6 +14,7 @@
 Name[hu]=Hálózati állapotjelző szolgáltatás
 Name[is]=Netstöðupúki
 Name[it]=Demone dello stato della rete
+Name[ja]=ネットワークステータスデーモン
 Name[lt]=Tinklo statuso tarnyba
 Name[nb]=Statusnisse for nettverket
 Name[nl]=Netwerkstatusdaemon
@@ -29,7 +30,6 @@
 Name[ta]=வலைப்பின்னல் நிலை டெமான்
 Name[tr]=Ağ Durum İzleyici
 Name[uk]=Даемон стану мережі
-Name[xx]=xxNetwork Status Daemonxx
 Name[zh_CN]=网络状态守护程序
 Comment=Tracks status of network interfaces and provides notification to applications using the network.
 Comment[bg]=Следене на състоянието на мрежата и предаване на информацията на програмите, които имат нужда
@@ -45,6 +45,7 @@
 Comment[hu]=Figyeli a hálózati csatolók állapotát és értesítési lehetőséget biztosít hálózati alkalmazások számára.
 Comment[is]=Fylgist með stöðu netkorta og sendir tilkynningar til forrita sem nota netið.
 Comment[it]=Controlla lo stato delle interfacce di rete e fornisce notifiche alle applicazioni che usano al rete.
+Comment[ja]=ネットワークインターフェイスの状態を追跡し、ネットワークを用いるアプリケーションに通知する。
 Comment[lt]=Seka tinklo sąsajų būseną ir informuoja apie jas programas, naudojančias tinklą
 Comment[nb]=Overvåker status for nettverksgrensesnitt og varsler programmer som bruker nettverket.
 Comment[nl]=Houdt de status bij van de netwerkinterfaces en houdt daar de toepassingen van op de hoogte.
@@ -59,7 +60,6 @@
 Comment[sv]=Bevakar status för nätverksgränssnitt och tillhandahåller underrättelser till program som använder nätverket.
 Comment[ta]=வலைப்பின்னலைப் பயன்படுத்தி வலைப்பின்னல் இடைமுகங்களின் நிலையை கண்காணிக்கிறது மற்றும் பயன்பாடுகளுக்கு அறிவிப்பை வழங்குகிறது.
 Comment[uk]=Слідкує за станом інтерфейсів мережі і сповіщає програми, які користуються мережею.
-Comment[xx]=xxTracks status of network interfaces and provides notification to applications using the network.xx
 Comment[zh_CN]=跟踪网卡的状态并为应用程序提供使用网络的通知。
 Type=Service
 ServiceTypes=KDEDModule
Index: indexlib/tests/large-scale/generate.py
===================================================================
--- indexlib/tests/large-scale/generate.py	(.../tags/KDE/3.5.0/kdepim)	(revision 0)
+++ indexlib/tests/large-scale/generate.py	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -0,0 +1,51 @@
+#!/usr/bin/env python
+import random
+import re
+
+def init_chain(infile):
+	chain = {}
+	last = ('','')
+	for line in infile:
+		for word in line.split():
+			if not chain.has_key(last):
+				chain[last]=[]
+			chain[last].append(word)
+			last=(last[1],word)
+	chain[last]=None
+	return chain
+
+def output(chain,length,outputfile):
+	last = ('','')
+	start=2000
+	for i in range(length+start):
+		if chain[last] is None:
+			break
+		word = random.choice(chain[last])
+		last=(last[1],word)
+		if i > start:
+			outputfile.write(word)
+			outputfile.write(' ')
+	outputfile.write("\n")
+
+def get_words(chain,nwords,outputfile,scriptfile):
+	scriptfile.write("(for f in output/text_*; echo $f) > tmp/so_far\n")
+	for i in range(nwords):
+		word='1'
+		while re.compile("\d").search(word):
+			word=random.choice(random.choice(chain.keys()))
+		word=re.sub(r'\W','',word)
+		outputfile.write(word+"\n")
+		scriptfile.write("grep -i -E -e '(\W|^)%s' -l output/text_* >tmp/part_%s\n" % (word,word))
+		scriptfile.write("perl -e '($file1, $file2) = @ARGV; open F2, $file2; while (<F2>) {$h2{$_}++}; open F1, $file1; while (<F1>) {if ($h2{$_}) {print $_; $h2{$_} = 0;}}' tmp/part_%s tmp/so_far >tmp/so_far_\n" % word) # From scriptome
+		scriptfile.write("mv tmp/so_far_ tmp/so_far\n")
+		scriptfile.write("rm tmp/part_%s\n" % word)
+	scriptfile.write("mv tmp/so_far tmp/expected\n")
+		
+
+chain=init_chain(file("/dev/stdin"))
+for i in range(10000):
+	output(chain,2000,file("output/text_"+str(i+1),'w'))
+
+
+for i in range(1000):
+	get_words(chain,random.randint(1,5),file("output/words_%s.list"%str(i+1),'w'),file("output/words_%s.script"%str(i+1),'w'))
Index: indexlib/tests/large-scale/do-test.zsh
===================================================================
--- indexlib/tests/large-scale/do-test.zsh	(.../tags/KDE/3.5.0/kdepim)	(revision 0)
+++ indexlib/tests/large-scale/do-test.zsh	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -0,0 +1,55 @@
+#!/usr/bin/env zsh
+
+# SET INPUT FILE BELOW
+inputfile=$1
+inputfile=ulyss12.txt
+
+indexlibadmin=../../indexlibadmin
+index=index
+
+rm -rf index
+mkdir index
+
+if test -z $inputfile; then
+	cat <<-END 1>&2
+	This test needs a large input file as a seed.
+
+	You might consider using http://www.gutenberg.org/ as a starting point to get a file.
+
+	Please edit this script ($0) to set the input file.
+END
+	exit 1
+fi
+
+rm -rf output
+mkdir output/
+
+rm -rf tmp
+mkdir tmp/
+
+python generate.py < $inputfile
+
+$indexlibadmin remove $index
+for t in output/text_*; do 
+	$indexlibadmin add $index $t
+done
+
+
+for w in output/words_*.list; do
+	$indexlibadmin search $index "`cat $w`" >tmp/got 2>/dev/null
+	source output/`basename $w list`script
+	if ! diff -q tmp/got tmp/expected; then
+		cat <<-END
+			Pattern $w was wrong!
+
+			Diff:
+		END
+		diff -u tmp/got tmp/expected
+		echo "End of Diff."
+		exit 1
+	fi
+done
+
+rm -f tmp/got tmp/expected tmp/pat
+rmdir tmp
+

Property changes on: indexlib/tests/large-scale/do-test.zsh
___________________________________________________________________
Name: svn:executable
   + *

Index: indexlib/main.cpp
===================================================================
--- indexlib/main.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ indexlib/main.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -36,6 +36,8 @@
 #include "mempool.h"
 #include "compressed.h"
 #include "create.h"
+#include "tokenizer.h"
+#include <sstream>
 #include <map>
 #include <iostream>
 #include <cstdlib>
@@ -62,23 +64,46 @@
 	return read_stream( in );
 }
 
-void usage( int argc, char* argv[] ) {
-	std::cout << argv[ 0 ] << " cmd [index]\n";
+void usage( int argc, char* argv[], const std::map<std::string, int (*)( int, char** )>& commands ) {
+	std::cout 
+		<< argv[ 0 ] 
+		<< " cmd [index]\n"
+		<< "Possible Commands:\n\n";
+
+	for ( std::map<std::string, int (*)( int, char** )>::const_iterator first = commands.begin(), past = commands.end(); first != past; ++first ) {
+		std::cout << '\t' << first->first << '\n';
+	}
+	std::cout << std::endl;
 }
 
 int debug( int argc, char* argv[] ) {
+	using namespace indexlib;
+	using namespace indexlib::detail;
 	std::string type = argv[ 2 ];
 	std::string argument = argv[ 3 ];
-	if ( type == "sa" ) {
+	if ( type == "print.sa" ) {
 		//nolog();
 		std::cout << "stringarray:\n";
 		stringarray sa( argument );
 		sa.print( std::cout );
-	} else if ( type == "compressed" ) {
+	} else if ( type == "print.compressed" ) {
 		compressed_file file( argument );
 		nolog();
 		std::cout << "compressed_file:\n";
 		file.print( std::cout );
+	} else if ( type == "break_up" ) {
+		std::auto_ptr<tokenizer> tok = get_tokenizer( "latin-1:european" );
+		if ( !tok.get() ) {
+			std::cerr << "Could not get tokenizer\n";
+			return 1;
+		}
+		nolog();
+		std::ostringstream whole_str;
+		whole_str << std::ifstream( argument.c_str() ).rdbuf();
+		std::vector<std::string> words = tok->string_to_words( whole_str.str().c_str() );
+		for ( std::vector<std::string>::const_iterator cur = words.begin(), past = words.end(); cur != past; ++cur ) {
+			std::cout << *cur << '\n';
+		}
 	} else {
 		std::cerr << "Unknown function\n";
 		return 1;
@@ -86,9 +111,9 @@
 	return 0;
 }
 
-int remove( int argc, char* argv[] ) {
+int remove_doc( int argc, char* argv[] ) {
 	if ( argc < 4 ) {
-		usage( argc, argv );
+		std::cerr << "Filename argument for remove_doc is required\n";
 		return 1;
 	}
 	index_smart t = get_index( argv[ 2 ] );
@@ -104,7 +129,9 @@
 
 int add( int argc, char* argv[] ) {
 	if ( argc < 4 ) {
-		usage( argc, argv ) ;
+		std::cerr <<
+			"Input file argument is required\n"
+			"Name is optional (defaults to filename)\n";
 		return 1;
 	}
 	index_smart t = get_index( argv[ 2 ] );
@@ -118,17 +145,14 @@
 
 int search( int argc, char* argv[] ) {
 	if ( argc < 4 ) {
-		usage( argc, argv );
+		std::cerr << "Search string is required\n";
 		return 1;
 	}
 	index_smart t = get_index( argv[ 2 ]  );
 	std::vector<unsigned> files = t->search( argv[ 3 ] )->list();
-	if ( files.empty() ) std::cout << "Empty results\n";
-	else {
-		for ( std::vector<unsigned>::const_iterator first = files.begin(), past = files.end();
-				first != past; ++first ) {
-			std::cout << t->lookup_docname( *first ) << std::endl;
-		}
+	for ( std::vector<unsigned>::const_iterator first = files.begin(), past = files.end();
+			first != past; ++first ) {
+		std::cout << t->lookup_docname( *first ) << std::endl;
 	}
 	return 0;
 }
@@ -143,22 +167,29 @@
 	return 0;
 }
 
+int remove( int argc, char* argv[] ) {
+	indexlib::remove( argv[ 2 ] );
+}
+
+	
 int main( int argc, char* argv[]) try {
 	//nolog();
 
-	if ( argc < 3 ) {
-		usage( argc, argv );
-		return 0;
-	}
-
 	std::map<std::string, int (*)( int, char* [] )> handlers;
 	handlers[ "debug" ] = &debug;
 	handlers[ "remove" ] = &remove;
+	handlers[ "remove_doc" ] = &remove_doc;
 	handlers[ "maintenance" ] = &maintenance;
 	handlers[ "add" ] = &add;
 	handlers[ "search" ] = &search;
 	handlers[ "list" ] = &list;
 
+	if ( argc < 3 ) {
+		usage( argc, argv, handlers );
+		return 0;
+	}
+
+
 	int ( *handle )( int, char*[] ) = handlers[ argv[ 1 ] ];
 
 	if ( handle ) return handle( argc, argv );
Index: knode/knode_config_identity.desktop
===================================================================
--- knode/knode_config_identity.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ knode/knode_config_identity.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -52,7 +52,6 @@
 Name[tr]=Kimlik
 Name[uk]=Профіль
 Name[uz]=Шахсият
-Name[xx]=xxIdentityxx
 Name[zh_CN]=身份
 Comment=Personal Information
 Comment[be]=Пэрсанальная інфармацыя
@@ -63,6 +62,7 @@
 Comment[cy]=Gwybodaeth Bersonol
 Comment[da]=Personlig information
 Comment[de]=Persönliche Angaben
+Comment[el]=Προσωπικές πληροφορίες
 Comment[es]=Información personal
 Comment[et]=Personaalne info
 Comment[eu]=Informazio pertsonala
@@ -94,5 +94,4 @@
 Comment[tg]=Маълумоти шахсӣ
 Comment[tr]=Kişisel Bilgi
 Comment[uk]=Особиста інформація
-Comment[xx]=xxPersonal Informationxx
 Comment[zh_CN]=个人信息
Index: knode/knode_config_accounts.desktop
===================================================================
--- knode/knode_config_accounts.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ knode/knode_config_accounts.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -53,7 +53,6 @@
 Name[tr]=Hesaplar
 Name[uk]=Рахунки
 Name[uz]=Ҳисоблар
-Name[xx]=xxAccountsxx
 Name[zh_CN]=账户
 Comment=Setup for Newsgroup and Mail Servers
 Comment[bg]=Настройки на групите и пощенските сървъри
@@ -90,5 +89,4 @@
 Comment[tg]=Қайдҳои баҳисобгирӣ дар серверҳои почтавӣ ва серверҳои телеконференсия
 Comment[tr]=E-posta ve Haber Grubu Sunucuları için Yapılandırma
 Comment[uk]=Налаштування для груп новин і серверів пошти
-Comment[xx]=xxSetup for Newsgroup and Mail Serversxx
 Comment[zh_CN]=新闻组和邮件服务器的设置
Index: knode/articlewidget.cpp
===================================================================
--- knode/articlewidget.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ knode/articlewidget.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -110,13 +110,13 @@
   connect( mViewer, SIGNAL(popupMenu(const QString&, const QPoint&)),
            SLOT(slotURLPopup(const QString&, const QPoint&)) );
 
+  mTimer = new QTimer( this );
+  connect( mTimer, SIGNAL(timeout()), SLOT(slotTimeout()) );
+
   initActions();
   readConfig();
   clear();
 
-  mTimer = new QTimer( this );
-  connect( mTimer, SIGNAL(timeout()), SLOT(slotTimeout()) );
-
   installEventFilter( this );
 }
 
@@ -352,6 +352,9 @@
 {
   disableActions();
   mViewer->begin();
+  mViewer->setUserStyleSheet( mCSSHelper->cssDefinitions( mFixedFontToggle->isChecked() ) );
+  mViewer->write( mCSSHelper->htmlHead( mFixedFontToggle->isChecked() ) );
+  mViewer->write( "</body></html>" );
   mViewer->end();
 }
 
Index: knode/knode_config_read_news.desktop
===================================================================
--- knode/knode_config_read_news.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ knode/knode_config_read_news.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -48,6 +48,5 @@
 Name[tg]=Хондани ахборот
 Name[tr]=Haber Okuma
 Name[uk]=Читання новин
-Name[xx]=xxReading Newsxx
 Name[zh_CN]=阅读新闻
 
Index: knode/knode_config_privacy.desktop
===================================================================
--- knode/knode_config_privacy.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ knode/knode_config_privacy.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -47,7 +47,6 @@
 Name[tg]=Имзо ва тафтиш
 Name[tr]=İmzalama/Doğruluma
 Name[uk]=Підписування і перевірка
-Name[xx]=xxSigning/Verifyingxx
 Name[zh_CN]=签名/校验
 Comment=Protect your privacy by signing and verifying postings
 Comment[bg]=Защита на личната кореспонденция чрез подписване и проверка на съобщенията
@@ -55,7 +54,7 @@
 Comment[cs]=Chraňte své soukromí pomocí podepisování a ověřování podpisů
 Comment[da]=Beskyt dine private oplysninger ved at underskrive og verificere indsendelser
 Comment[de]=Schutz der Privatsphäre durch Signieren und Verifizieren von Beiträgen.
-Comment[el]=Προστατεεύστε το απόρρητό σας υπογράφοντας και επαληθεύοντας τα μηνύματα
+Comment[el]=Προστατεύστε το απόρρητό σας υπογράφοντας και επαληθεύοντας τα μηνύματα
 Comment[es]=Proteja su privacidad firmando y verificando sus envíos
 Comment[et]=Kaitseb sinu privaatsust postitusi signeerides ja konrollides
 Comment[eu]=Babestu zure pribakortasuna argitarapenak sinatu eta egiaztatuz
@@ -80,5 +79,4 @@
 Comment[tg]=Муҳофизати иттилоот ба воситаи имзо ва тафтиши ахборот
 Comment[tr]=Gönderilen iletilerinizi imzalayarak ve doğrulayarak güvenirliliğinizi sağlayın
 Comment[uk]=Захист конфіденційності за допомогою підписування і перевірки повідомлень
-Comment[xx]=xxProtect your privacy by signing and verifying postingsxx
 Comment[zh_CN]=通过对发表的文件进行签名和校验来保护您的隐私
Index: knode/knode_config_cleanup.desktop
===================================================================
--- knode/knode_config_cleanup.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ knode/knode_config_cleanup.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -49,7 +49,6 @@
 Name[tg]=Тозакунии диск
 Name[tr]=Temizle
 Name[uk]=Очищення диску
-Name[xx]=xxCleanupxx
 Name[zh_CN]=清理
 Comment=Preserving Disk Space
 Comment[bg]=Освобождаване на свободно място на диска
@@ -85,5 +84,4 @@
 Comment[tg]=Нигоҳ доштани ҷое дар диск
 Comment[tr]=Saklama için Disk Alanı
 Comment[uk]=Збереження місця на диску
-Comment[xx]=xxPreserving Disk Spacexx
 Comment[zh_CN]=腾出磁盘空间
Index: knode/knode_config_appearance.desktop
===================================================================
--- knode/knode_config_appearance.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ knode/knode_config_appearance.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -56,7 +56,6 @@
 Name[tg]=Намуди зоҳирӣ
 Name[tr]=Görünüm
 Name[uk]=Вигляд
-Name[xx]=xxAppearancexx
 Name[zh_CN]=外观
 Comment=Customize Visual Appearance
 Comment[bg]=Настройки на външния вид
@@ -97,5 +96,4 @@
 Comment[tg]=Танзимоти намуди зоҳирӣ
 Comment[tr]=Görsel Görünümü Özelleştir
 Comment[uk]=Налаштування зовнішнього вигляду
-Comment[xx]=xxCustomize Visual Appearancexx
 Comment[zh_CN]=自定义视觉外观
Index: knode/knode_config_post_news.desktop
===================================================================
--- knode/knode_config_post_news.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ knode/knode_config_post_news.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -47,6 +47,5 @@
 Name[tg]=Ҷойгиркунии мақола
 Name[tr]=Gönderilen Haberler
 Name[uk]=Розміщення новин
-Name[xx]=xxPosting Newsxx
 Name[zh_CN]=投递新闻
 
Index: knode/knode_part.cpp
===================================================================
--- knode/knode_part.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ knode/knode_part.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -60,7 +60,8 @@
   kdDebug(5003) << "KNodePart()..." << endl;
   kdDebug(5003) << "  InstanceName: " << kapp->instanceName() << endl;
 
-  KGlobal::locale()->insertCatalogue("libkdenetwork");
+  KGlobal::locale()->insertCatalogue("libkdepim");
+  KGlobal::locale()->insertCatalogue("libkpgp");
   kapp->dcopClient()->suspend(); // Don't handle DCOP requests yet
   KGlobal::iconLoader()->addAppDir("knode");
   knGlobals.instance = KNodeFactory::instance();
Index: knode/main.cpp
===================================================================
--- knode/main.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ knode/main.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -37,7 +37,8 @@
     return 0;
 
   KNApplication app;
-  KGlobal::locale()->insertCatalogue("libkdenetwork");
+  KGlobal::locale()->insertCatalogue("libkdepim");
+  KGlobal::locale()->insertCatalogue("libkpgp");
   return app.exec();
 }
 
Index: knode/KNode.desktop
===================================================================
--- knode/KNode.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ knode/KNode.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -13,7 +13,6 @@
 Name[sv]=Knode
 Name[ta]=Kநோடு
 Name[th]=อ่านข่าว - K
-Name[xx]=xxKNodexx
 GenericName=News Reader
 GenericName[ar]=قارئ أخبار
 GenericName[az]=Xəbər Oxuyucu
@@ -24,7 +23,7 @@
 GenericName[cs]=Klient pro čtení diskusních skupin
 GenericName[cy]=Darllenydd Newyddion
 GenericName[da]=Nyhedslæser
-GenericName[de]=News-Programm
+GenericName[de]=Usenet-Newsreader
 GenericName[el]=Αναγνώστης νέων
 GenericName[eo]=Legilo por diskutrondoj
 GenericName[es]=Lector de noticias
@@ -68,7 +67,6 @@
 GenericName[ven]=Muvhali wa mafhungo
 GenericName[vi]=Trình đọc News 
 GenericName[xh]=Umfundi weendaba
-GenericName[xx]=xxNews Readerxx
 GenericName[zh_CN]=新闻阅读器
 GenericName[zu]=Umfundi wezindaba
 X-KDE-StartupNotify=true
Index: kioslaves/mbox/readmbox.cc
===================================================================
--- kioslaves/mbox/readmbox.cc	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kioslaves/mbox/readmbox.cc	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -16,6 +16,8 @@
  * License along with this library; if not, write to the Free Software
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
  */
+#include <config.h>
+
 #include "readmbox.h"
 
 #include "mbox.h"
@@ -29,6 +31,10 @@
 #include <qstring.h>
 #include <qtextstream.h>
 
+#ifdef HAVE_SYS_TYPES_H
+#include <sys/types.h>
+#endif
+
 #include <utime.h>
 
 ReadMBox::ReadMBox( const UrlInfo* info, MBoxProtocol* parent, bool onlynew, bool savetime )
@@ -37,6 +43,7 @@
 	m_stream( 0 ),
 	m_current_line( new QString( QString::null ) ),
 	m_current_id( new QString( QString::null ) ),
+	m_atend( true ),
 	m_prev_time( 0 ),
 	m_only_new( onlynew ),
 	m_savetime( savetime ),
@@ -77,16 +84,15 @@
 	if( !m_stream )
 		return true;
 		
-	if( m_stream->atEnd() )
+	*m_current_line = m_stream->readLine();
+	m_atend = m_current_line->isNull();
+	if( m_atend ) // Cursor was at EOF
 	{
-		*m_current_line = QString::null;
 		*m_current_id = QString::null;
 		m_prev_status = m_status;
 		return true;
 	}
 
-	*m_current_line = m_stream->readLine();
-
 	//New message
 	if( m_current_line->left( 5 ) == "From " )
 	{
@@ -115,7 +121,7 @@
 	if( !m_stream )
 		return false;
 		
-	while( !m_stream->atEnd() && *m_current_id != id )
+	while( !m_atend && *m_current_id != id )
 		nextLine();
 
 	return *m_current_id == id;
@@ -138,6 +144,7 @@
 {
 	if( m_stream )
 		m_stream->device()->reset();
+	m_atend = m_stream->atEnd();
 }
 
 bool ReadMBox::atEnd() const
@@ -145,7 +152,7 @@
 	if( !m_stream )
 		return true;
 	
-	return m_stream->atEnd() || ( m_info->type() == UrlInfo::message && *m_current_id != m_info->id() );
+	return m_atend || ( m_info->type() == UrlInfo::message && *m_current_id != m_info->id() );
 }
 
 bool ReadMBox::inListing() const
Index: kioslaves/mbox/readmbox.h
===================================================================
--- kioslaves/mbox/readmbox.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kioslaves/mbox/readmbox.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -121,6 +121,7 @@
 	QTextStream* m_stream;
 	QString* m_current_line;
 	QString* m_current_id;
+	bool m_atend;
 
 	struct utimbuf* m_prev_time;
 
Index: kioslaves/sieve/sieve.protocol
===================================================================
--- kioslaves/sieve/sieve.protocol	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kioslaves/sieve/sieve.protocol	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -37,5 +37,4 @@
 Description[sv]=En I/O-slav för brevfiltreringsprotokollet Sieve
 Description[ta]=Sieve அஞ்சல் வடிகட்டும் நெறிமுறைக்கான ஒரு ioslave
 Description[uk]=Підлеглий В/В для протоколу фільтрування пошти Sieve
-Description[xx]=xxAn ioslave for the Sieve mail filtering protocolxx
 Description[zh_CN]=邮件过滤协议仆人

Property changes on: doc/knode/greyball.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-followup.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-edit-filter.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-new-article.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-subscribe.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-read-news-settings.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-header-settings.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-colors-fonts.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-reply.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/redballchk.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-composer-attachments.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-search.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-news-account.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/eyes.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/redball.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-filters.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-mail-account.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-post-settings.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-composer-settings.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-cleanup.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/newsubs.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-identity.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/greyballchk.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-edit-header1.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-edit-header2.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-start.png
___________________________________________________________________
Name: svn:executable
   - *


Property changes on: doc/knode/knode-views.png
___________________________________________________________________
Name: svn:executable
   - *

Index: kalarm/alarmevent.cpp
===================================================================
--- kalarm/alarmevent.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kalarm/alarmevent.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -692,7 +692,7 @@
 	mFgColour               = fg;
 	mFont                   = font;
 	mAlarmCount             = 1;
-	mLateCancel             = lateCancel;
+	mLateCancel             = lateCancel;     // do this before set(flags)
 	mDeferral               = NO_DEFERRAL;    // do this before set(flags)
 	set(flags);
 	mKMailSerialNumber      = 0;
@@ -2864,10 +2864,6 @@
 	  mDeferred(alarm.mDeferred)
 { }
 
-void KAAlarm::set(int flags)
-{
-	mDeferred = flags & KAEvent::DEFERRAL;
-}
 
 int KAAlarm::flags() const
 {
@@ -2963,7 +2959,7 @@
 	mBeep          = (flags & KAEvent::BEEP) && !mSpeak;
 	mRepeatSound   = flags & KAEvent::REPEAT_SOUND;
 	mRepeatAtLogin = flags & KAEvent::REPEAT_AT_LOGIN;
-	mAutoClose     = flags & KAEvent::AUTO_CLOSE;
+	mAutoClose     = (flags & KAEvent::AUTO_CLOSE) && mLateCancel;
 	mEmailBcc      = flags & KAEvent::EMAIL_BCC;
 	mConfirmAck    = flags & KAEvent::CONFIRM_ACK;
 	mDisplaying    = flags & KAEvent::DISPLAYING_;
Index: kalarm/messagewin.cpp
===================================================================
--- kalarm/messagewin.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kalarm/messagewin.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -182,6 +182,8 @@
 	setAutoSaveSettings(QString::fromLatin1("MessageWin"), false);
 	initView();
 	mWindowList.append(this);
+	if (event.autoClose())
+		mCloseTime = alarm.dateTime().dateTime().addSecs(event.lateCancel() * 60);
 }
 
 /******************************************************************************
@@ -655,6 +657,8 @@
 			config->writeEntry(QString::fromLatin1("Time"), mDateTime.dateTime());
 			config->writeEntry(QString::fromLatin1("DateOnly"), mDateTime.isDateOnly());
 		}
+		if (mCloseTime.isValid())
+			config->writeEntry(QString::fromLatin1("Expiry"), mCloseTime);
 #ifndef WITHOUT_ARTS
 		if (mAudioRepeat  &&  mSilenceButton  &&  mSilenceButton->isEnabled())
 		{
@@ -691,6 +695,7 @@
 	QDateTime dt       = config->readDateTimeEntry(QString::fromLatin1("Time"), &invalidDateTime);
 	bool dateOnly      = config->readBoolEntry(QString::fromLatin1("DateOnly"));
 	mDateTime.set(dt, dateOnly);
+	mCloseTime         = config->readDateTimeEntry(QString::fromLatin1("Expiry"), &invalidDateTime);
 #ifndef WITHOUT_ARTS
 	mAudioFile         = config->readPathEntry(QString::fromLatin1("AudioFile"));
 	mVolume            = static_cast<float>(config->readNumEntry(QString::fromLatin1("Volume"))) / 100;
@@ -1136,6 +1141,16 @@
 */
 void MessageWin::show()
 {
+	if (mCloseTime.isValid())
+	{
+		// Set a timer to auto-close the window
+		int delay = QDateTime::currentDateTime().secsTo(mCloseTime);
+		if (delay < 0)
+			delay = 0;
+		QTimer::singleShot(delay * 1000, this, SLOT(close()));
+		if (!delay)
+			return;    // don't show the window if auto-closing is already due
+	}
 	if (Preferences::messageButtonDelay() == 0)
 		move(0, 0);
 	MainWindowBase::show();
Index: kalarm/alarmevent.h
===================================================================
--- kalarm/alarmevent.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kalarm/alarmevent.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -216,8 +216,6 @@
 #endif
 
 	private:
-		void               set(int flags);
-
 		SubType            mType;             // alarm type
 		bool               mRecurs;           // there is a recurrence rule for the alarm
 		bool               mDeferred;         // whether the alarm is an extra deferred/deferred-reminder alarm
Index: kalarm/messagewin.h
===================================================================
--- kalarm/messagewin.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kalarm/messagewin.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1,7 +1,7 @@
 /*
  *  messagewin.h  -  displays an alarm message
  *  Program:  kalarm
- *  Copyright (C) 2001 - 2005 by David Jarvie <software@astrojar.org.uk>
+ *  Copyright (c) 2001 - 2005 by David Jarvie <software@astrojar.org.uk>
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -99,6 +99,7 @@
 		QFont               mFont;
 		QColor              mBgColour, mFgColour;
 		DateTime            mDateTime;        // date/time displayed in the message window
+		QDateTime           mCloseTime;       // time at which window should be auto-closed
 		QString             mEventID;
 		QString             mAudioFile;
 		float               mVolume;
Index: kalarm/kalarm.h
===================================================================
--- kalarm/kalarm.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kalarm/kalarm.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -26,7 +26,7 @@
 #include <config.h>
 #endif
 
-#define KALARM_VERSION "1.3.4"
+#define KALARM_VERSION "1.3.6"
 
 #include <kdeversion.h>
 
Index: kalarm/mainwindow.cpp
===================================================================
--- kalarm/mainwindow.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kalarm/mainwindow.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1,7 +1,7 @@
 /*
  *  mainwindow.cpp  -  main application window
  *  Program:  kalarm
- *  Copyright (C) 2001 - 2005 by David Jarvie <software@astrojar.org.uk>
+ *  Copyright (c) 2001 - 2005 by David Jarvie <software@astrojar.org.uk>
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -174,6 +174,9 @@
 	MainWindow* main = mainMainWindow();
 	if (main)
 		KAlarm::writeConfigWindowSize("MainWindow", main->size());
+	KToolBar* tb = toolBar();
+	if (tb)
+		tb->saveSettings(KGlobal::config(), "Toolbars");
 	KGlobal::config()->sync();    // save any new window size to disc
 	theApp()->quitIf();
 }
@@ -218,6 +221,8 @@
 			return *it;
 	if (tray)
 		return tray;
+	if (!mWindowList.count())
+		return 0;
 	return mWindowList.first();
 }
 
@@ -378,6 +383,10 @@
 	mActionEnable->setEnabled(false);
 	mActionCreateTemplate->setEnabled(false);
 
+	KToolBar* tb = toolBar();
+	if (tb)
+		tb->applySettings(KGlobal::config(), "Toolbars");
+
 	Undo::emitChanged();     // set the Undo/Redo menu texts
 	Daemon::checkStatus();
 	Daemon::monitoringAlarms();
@@ -985,10 +994,21 @@
 {
 	saveMainWindowSettings(KGlobal::config(), "MainWindow");
 	KEditToolbar dlg(factory());
+	connect(&dlg, SIGNAL(newToolbarConfig()), this, SLOT(slotNewToolbarConfig()));
 	dlg.exec();
 }
 
 /******************************************************************************
+*  Called when OK or Apply is clicked in the Configure Toolbars dialog, to save
+*  the new configuration.
+*/
+void MainWindow::slotNewToolbarConfig()
+{
+	createGUI(UI_FILE);
+	applyMainWindowSettings(KGlobal::config(), "MainWindow");
+}
+
+/******************************************************************************
 *  Called when the Quit menu item is selected.
 */
 void MainWindow::slotQuit()
Index: kalarm/kalarmd/kalarmd.desktop
===================================================================
--- kalarm/kalarmd/kalarmd.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kalarm/kalarmd/kalarmd.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -19,6 +19,7 @@
 Name[hu]=KAlarm szolgáltatás
 Name[is]=KAlarm þjónn
 Name[it]=Demone degli avvisi
+Name[ja]=KAlarm デーモン
 Name[lt]=KAlarm tarnyba
 Name[nb]=KAlarm-nisse
 Name[nn]=KAlarm-nisse
@@ -33,7 +34,6 @@
 Name[ta]=கேஅலாரம் டெமான்
 Name[tr]=KAlarm Servis Programı
 Name[uk]=Даемон KAlarm
-Name[xx]=xxKAlarm Daemonxx
 Name[zh_CN]=KAlarm 进程
 Exec=kalarmd
 Icon=kalarmd
Index: kalarm/kalarmd/kalarmd.autostart.desktop
===================================================================
--- kalarm/kalarmd/kalarmd.autostart.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kalarm/kalarmd/kalarmd.autostart.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -19,6 +19,7 @@
 Name[hu]=KAlarm szolgáltatás
 Name[is]=KAlarm þjónn
 Name[it]=Demone degli avvisi
+Name[ja]=KAlarm デーモン
 Name[lt]=KAlarm tarnyba
 Name[nb]=KAlarm-nisse
 Name[nn]=KAlarm-nisse
@@ -33,7 +34,6 @@
 Name[ta]=கேஅலாரம் டெமான்
 Name[tr]=KAlarm Servis Programı
 Name[uk]=Даемон KAlarm
-Name[xx]=xxKAlarm Daemonxx
 Name[zh_CN]=KAlarm 进程
 Exec=kalarmd --autostart
 Icon=kalarmd
@@ -54,6 +54,7 @@
 Comment[hu]=A KAlarm emlékeztető szolgáltatás automatikus elindítása
 Comment[is]=Ræsa KAlarm áminningaþjónn sjálfkrafa við byrjun setu
 Comment[it]=Avvio automatico del demone degli avvisi
+Comment[ja]=KAlarm アラームデーモンのログイン時の自動起動
 Comment[lt]=KOrganizer/KAlarm priminimų tarnybos automatinis paleidimas prisiregistruojant
 Comment[nb]=start alarmnisse ved innlogging
 Comment[nl]=KAlarm alarmdaemon automatisch starten bij login
@@ -69,7 +70,6 @@
 Comment[ta]=உள்நுழையும்போது கேஅலாரம் அலாரம் டெமான் தானாகவே துவங்கும்
 Comment[tr]=KAlarm alarm servis programı (açılışta başlar)
 Comment[uk]=Автозавантаження даемона нагадувань KAlarm
-Comment[xx]=xxKAlarm alarm daemon autostart at loginxx
 Comment[zh_CN]=登录时自动启动 KAlarm 定时守护进程
 Terminal=false
 NoDisplay=true
Index: kalarm/Changelog
===================================================================
--- kalarm/Changelog	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kalarm/Changelog	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1,5 +1,12 @@
 KAlarm
 
+=== Version 1.3.6 --- 19 December 2005 ===
+Make autoclose of message windows work.
+
+=== Version 1.3.5 --- 14 December 2005 ===
+Fix email attachments being forgotten when saving alarms.
+Fix toolbar configuration being lost after quitting KAlarm.
+
 === Version 1.3.4 --- 2 October 2005 ===
 Fix incorrect recurrence frequency in Alarm Edit dialogue's Alarm tab.
 
Index: kalarm/mainwindow.h
===================================================================
--- kalarm/mainwindow.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kalarm/mainwindow.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -109,6 +109,7 @@
 		void           slotPreferences();
 		void           slotConfigureKeys();
 		void           slotConfigureToolbar();
+		void           slotNewToolbarConfig();
 		void           slotQuit();
 		void           slotDeletion();
 		void           slotSelection();
Index: kalarm/kalarm.desktop
===================================================================
--- kalarm/kalarm.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kalarm/kalarm.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -15,7 +15,6 @@
 Name[ta]=Kஅலாரம்
 Name[th]=เตือนการนัดหมาย - K
 Name[ven]=Alamu ya K
-Name[xx]=xxKAlarmxx
 Type=Application
 Exec=kalarm -caption "%c" %i
 Icon=kalarm
@@ -28,7 +27,7 @@
 GenericName[cy]=Trefnlennydd Larwm Personol
 GenericName[da]=Personlig skemalægning af alarm
 GenericName[de]=Persönliche Termin-Erinnerung
-GenericName[el]=Προσωπικός προγραμματιστής συναγερμού
+GenericName[el]=Προσωπικός προγραμματιστής ειδοποιήσεων
 GenericName[es]=Planificador de alarmas personales
 GenericName[et]=Meeldetuletuste ajastaja
 GenericName[eu]=Alarma pertsonalen programatzailea
@@ -56,7 +55,6 @@
 GenericName[tg]=Идоракунии хотиррасониҳои шахсӣ
 GenericName[tr]=Kişisel Alarm
 GenericName[uk]=Персональний планувальник нагадувань
-GenericName[xx]=xxPersonal Alarm Schedulerxx
 GenericName[zh_CN]=个人日程提醒
 Terminal=false
 X-DCOP-ServiceType=Unique
Index: kalarm/recurrenceedit.cpp
===================================================================
--- kalarm/recurrenceedit.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kalarm/recurrenceedit.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -39,7 +39,6 @@
 #include <kiconloader.h>
 #include <kdialog.h>
 #include <kmessagebox.h>
-#include <kcalendarsystem.h>
 #include <kdebug.h>
 
 #include <libkcal/event.h>
@@ -63,6 +62,7 @@
 #include "recurrenceedit.moc"
 #include "recurrenceeditprivate.moc"
 
+static QString weekDayName(int day, const KLocale*);
 
 // Collect these widget labels together to ensure consistent wording and
 // translations across different modules.
@@ -1050,11 +1050,11 @@
 	// Save the first day of the week, just in case it changes while the dialog is open.
 	QWidget* box = new QWidget(this);   // this is to control the QWhatsThis text display area
 	QGridLayout* dgrid = new QGridLayout(box, 4, 2, 0, KDialog::spacingHint());
-	const KCalendarSystem* calendar = KGlobal::locale()->calendar();
+	const KLocale* locale = KGlobal::locale();
 	for (int i = 0;  i < 7;  ++i)
 	{
 		int day = KAlarm::localeDayInWeek_to_weekDay(i);
-		mDayBox[i] = new CheckBox(calendar->weekDayName(day), box);
+		mDayBox[i] = new CheckBox(weekDayName(day, locale), box);
 		mDayBox[i]->setFixedSize(mDayBox[i]->sizeHint());
 		mDayBox[i]->setReadOnly(readOnly);
 		dgrid->addWidget(mDayBox[i], i%4, i/4, Qt::AlignAuto);
@@ -1244,11 +1244,11 @@
 	mPosButton->setFocusWidget(mWeekCombo);
 
 	mDayOfWeekCombo = new ComboBox(false, box);
-	const KCalendarSystem* calendar = KGlobal::locale()->calendar();
+	const KLocale* locale = KGlobal::locale();
 	for (int i = 0;  i < 7;  ++i)
 	{
 		int day = KAlarm::localeDayInWeek_to_weekDay(i);
-		mDayOfWeekCombo->insertItem(calendar->weekDayName(day));
+		mDayOfWeekCombo->insertItem(weekDayName(day, locale));
 	}
 	mDayOfWeekCombo->setReadOnly(readOnly);
 	QWhatsThis::add(mDayOfWeekCombo, i18n("Select the day of the week on which to repeat the alarm"));
@@ -1395,10 +1395,21 @@
 	QWidget* w = new QWidget(this);   // this is to control the QWhatsThis text display area
 	hlayout->addWidget(w, 1, Qt::AlignAuto);
 	QGridLayout* grid = new QGridLayout(w, 4, 3, 0, KDialog::spacingHint());
-	const KCalendarSystem* calendar = KGlobal::locale()->calendar();
+	const KLocale* locale = KGlobal::locale();
+	mMonthBox[0] = new CheckBox(locale->translate("January"), w);
+	mMonthBox[1] = new CheckBox(locale->translate("February"), w);
+	mMonthBox[2] = new CheckBox(locale->translate("March"), w);
+	mMonthBox[3] = new CheckBox(locale->translate("April"), w);
+	mMonthBox[4] = new CheckBox(locale->translate("May"), w);
+	mMonthBox[5] = new CheckBox(locale->translate("June"), w);
+	mMonthBox[6] = new CheckBox(locale->translate("July"), w);
+	mMonthBox[7] = new CheckBox(locale->translate("August"), w);
+	mMonthBox[8] = new CheckBox(locale->translate("September"), w);
+	mMonthBox[9] = new CheckBox(locale->translate("October"), w);
+	mMonthBox[10] = new CheckBox(locale->translate("November"), w);
+	mMonthBox[11] = new CheckBox(locale->translate("December"), w);
 	for (int i = 0;  i < 12;  ++i)
 	{
-		mMonthBox[i] = new CheckBox(calendar->monthName(i + 1, 2000), w);
 		mMonthBox[i]->setFixedSize(mMonthBox[i]->sizeHint());
 		mMonthBox[i]->setReadOnly(readOnly);
 		grid->addWidget(mMonthBox[i], i%4, i/4, Qt::AlignAuto);
@@ -1565,3 +1576,18 @@
 	    ||  mSavedMonths    != months()
 	    ||  mSavedFeb29Type != feb29Type());
 }
+
+QString weekDayName(int day, const KLocale* locale)
+{
+	switch (day)
+	{
+		case 1: return locale->translate("Monday");
+		case 2: return locale->translate("Tuesday");
+		case 3: return locale->translate("Wednesday");
+		case 4: return locale->translate("Thursday");
+		case 5: return locale->translate("Friday");
+		case 6: return locale->translate("Saturday");
+		case 7: return locale->translate("Sunday");
+	}
+	return QString();
+}
Index: kalarm/kalarm.tray.desktop
===================================================================
--- kalarm/kalarm.tray.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kalarm/kalarm.tray.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -15,7 +15,6 @@
 Name[ta]=Kஅலாரம்
 Name[th]=เตือนการนัดหมาย - K
 Name[ven]=Alamu ya K
-Name[xx]=xxKAlarmxx
 Exec=kalarm --tray
 Icon=kalarm
 Type=Application
@@ -28,7 +27,7 @@
 Comment[cy]=Trefnlennydd Larwm Personol: cychwynnwch fel eicon yn y cafn cysawd
 Comment[da]=Skemalægger personli alarm: start som statusikon.
 Comment[de]=Erinnerungsfunktion im Systemabschnitt der Kontrollleiste
-Comment[el]=Προσωπικός προγραμματιστής συναγερμού: εκκίνηση σαν εικονίδιο στο πλαίσιο συστήματος
+Comment[el]=Προσωπικός προγραμματιστής ειδοποιήσεων: εκκίνηση σαν εικονίδιο στο πλαίσιο συστήματος
 Comment[es]=Programador de alarma personal: comenzar como icono de la bandeja del sistema
 Comment[et]=Häirete ja meeldetuletuste ajakava: käivitamine süsteemse doki ikoonina
 Comment[eu]=Alarma pertsonalen programatzailea: abiatu sistemaren bandejako ikono bezala
@@ -57,7 +56,6 @@
 Comment[tg]=Соати рӯимизии зангдори шахсӣ (ба намуди ишорот дар панели вазифа ба кор дароварда мешавад)
 Comment[tr]=Kişisel Alarm Zamanlayıcı
 Comment[uk]=Персональний планувальник нагадувань: стартує як піктограма в лотку
-Comment[xx]=xxPersonal Alarm Scheduler: start as system tray iconxx
 Comment[zh_CN]=个人日程提醒程序：以系统托盘图标启动
 Terminal=false
 X-KDE-autostart-phase=2
Index: korn/imap_proto.cpp
===================================================================
--- korn/imap_proto.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korn/imap_proto.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -36,7 +36,7 @@
 void Imap_Protocol::configFields( QPtrVector< QWidget >* vector, const QObject* configDialog, QPtrList< AccountInput > * result ) const
 {
 	QMap< QString, QString > encrList;
-	encrList.insert( "ssl", i18n( "Secure Socket Layer" ) );
+	encrList.insert( "ssl", i18n( "SSL" ) );
 	encrList.insert( "tls=auto", i18n( "TLS if possible" ) );
 	encrList.insert( "tls=on", i18n( "Always TLS" ) );
 	encrList.insert( "tls=off", i18n( "Never TLS" ) );
Index: korn/KOrn.desktop
===================================================================
--- korn/KOrn.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korn/KOrn.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -49,7 +49,6 @@
 GenericName[uz]=Янги хат ҳақида хабар берувчи
 GenericName[ven]=U sedzesa poso
 GenericName[xh]=Umposi Wokulumkisa
-GenericName[xx]=xxMail Alertxx
 GenericName[zh_CN]=邮件警告
 GenericName[zu]=Umposi Ohlomile
 Exec=korn  -caption "%c" %i %m %f
@@ -62,6 +61,5 @@
 Name[eo]=Korno
 Name[hi]=कॉर्न
 Name[ta]=கார்ன்
-Name[xx]=xxKornxx
 X-DCOP-ServiceType=Unique
 Categories=Qt;KDE;Network;X-KDE-More;
Index: korn/pop3_proto.cpp
===================================================================
--- korn/pop3_proto.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korn/pop3_proto.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -36,7 +36,7 @@
 void Pop3_Protocol::configFields( QPtrVector< QWidget >* vector, const QObject* configDialog, QPtrList< AccountInput > * result ) const
 {
 	QMap< QString, QString > encrList;
-	encrList.insert( "ssl", i18n( "Secure Socket Layer" ) );
+	encrList.insert( "ssl", i18n( "SSL" ) );
 	encrList.insert( "tls=auto", i18n( "TLS if possible" ) );
 	encrList.insert( "tls=on", i18n( "Always TLS" ) );
 	encrList.insert( "tls=off", i18n( "Never TLS" ) );
Index: libkpimidentities/identity.h
===================================================================
--- libkpimidentities/identity.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ libkpimidentities/identity.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -279,7 +279,7 @@
   bool isXFaceEnabled() const { return mXFaceEnabled; }
   void setXFaceEnabled( const bool );
 
-  static const Identity null;
+  static const Identity& null();
   bool isNull() const;
 protected:
   // if you add new members, make sure they have an operator= (or the
Index: libkpimidentities/identitymanager.cpp
===================================================================
--- libkpimidentities/identitymanager.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ libkpimidentities/identitymanager.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -275,13 +275,13 @@
     << "deprecated method IdentityManager::identityForName() called!" << endl;
   for ( ConstIterator it = begin() ; it != end() ; ++it )
     if ( (*it).identityName() == name ) return (*it);
-  return Identity::null;
+  return Identity::null();
 }
 
 const Identity & IdentityManager::identityForUoid( uint uoid ) const {
   for ( ConstIterator it = begin() ; it != end() ; ++it )
     if ( (*it).uoid() == uoid ) return (*it);
-  return Identity::null;
+  return Identity::null();
 }
 
 const Identity & IdentityManager::identityForNameOrDefault( const QString & name ) const
@@ -317,7 +317,7 @@
       }
     }
   }
-  return Identity::null;
+  return Identity::null();
 }
 
 bool IdentityManager::thatIsMe( const QString & addressList ) const {
Index: libkpimidentities/identity.cpp
===================================================================
--- libkpimidentities/identity.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ libkpimidentities/identity.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -226,7 +226,13 @@
 }
 
 // ### should use a kstaticdeleter?
-const Identity Identity::null;
+static Identity* identityNull = 0;
+const Identity& Identity::null()
+{
+    if ( !identityNull )
+        identityNull = new Identity;
+    return *identityNull;
+}
 
 bool Identity::isNull() const {
   return mIdentity.isEmpty() && mFullName.isEmpty() && mEmailAddr.isEmpty() &&
Index: kmailcvt/filter_lnotes.cxx
===================================================================
--- kmailcvt/filter_lnotes.cxx	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kmailcvt/filter_lnotes.cxx	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -30,12 +30,12 @@
         Filter( i18n("Import Lotus Notes Emails"),
                 "Robert Rockers",
                 i18n("<p><b>Lotus Notes Structured Text mail import filter</b></p>"
-                     "<p>This filter will import Structure Text files from an exported Lotus Notes email "
+                     "<p>This filter will import Structured Text files from an exported Lotus Notes email "
                      "client into KMail. Use this filter if you want to import mails from Lotus or other "
-                     "mailers that use Lotus Notes' Structured Text format.</p>"
+                     "mailers that use the Lotus Notes Structured Text format.</p>"
                      "<p><b>Note:</b> Since it is possible to recreate the folder structure, the imported "
-                     "messages will be stored in subfolders named by the files they ame from under: "
-                     "\"LNotes-Import\" in your local folder.</p>"))
+                     "messages will be stored in subfolders under: \"LNotes-Import\", in your local folder, "
+                     "named using the names of the files the messages came from.</p>"))
 {}
 
 /** Destructor. */
Index: kaddressbook/interfaces/kaddressbook_extension.desktop
===================================================================
--- kaddressbook/interfaces/kaddressbook_extension.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/interfaces/kaddressbook_extension.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -42,7 +42,6 @@
 Comment[tg]=Модули вусъатоти китоби адресии KDE
 Comment[tr]=KAdresDefteri Uzantı Eklentisi
 Comment[uk]=Втулок розширення адресної книги KAddressBook
-Comment[xx]=xxKAddressBook Extension Pluginxx
 Comment[zh_CN]=KAddressBook 扩展插件
 
 [PropertyDef::X-KDE-KAddressBook-ExtensionPluginVersion]
Index: kaddressbook/interfaces/kaddressbook_xxport.desktop
===================================================================
--- kaddressbook/interfaces/kaddressbook_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/interfaces/kaddressbook_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -43,7 +43,6 @@
 Comment[tr]=KAdresDefteri Al/Gönder Eklentisi
 Comment[uk]=Втулок імпорту/експорту адресної книги KAddressBook
 Comment[uz]=Манзиллар дафтари учун импорт/экспорт плагини
-Comment[xx]=xxKAddressBook Import/Export Pluginxx
 Comment[zh_CN]=KAddressBook 导入/导出插件
 
 [PropertyDef::X-KDE-KAddressBook-XXPortPluginVersion]
Index: kaddressbook/interfaces/kaddressbook_contacteditorwidget.desktop
===================================================================
--- kaddressbook/interfaces/kaddressbook_contacteditorwidget.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/interfaces/kaddressbook_contacteditorwidget.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -37,7 +37,6 @@
 Comment[tg]=Муҳаррири алоқоти китоби адресии KDE
 Comment[tr]=Adres Defteri Kişi Düzenleyici Parçacık Eklentisi
 Comment[uk]=Втулок редагування контактів адресної книги
-Comment[xx]=xxKAddressBook Contact Editor Widget Pluginxx
 Comment[zh_CN]=KAddressBook 联系人编辑部件插件
 
 [PropertyDef::X-KDE-KAddressBook-CEWPluginVersion]
Index: kaddressbook/imagewidget.h
===================================================================
--- kaddressbook/imagewidget.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/imagewidget.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -25,15 +25,13 @@
 #define IMAGEWIDGET_H
 
 #include <qlabel.h>
+#include <qpushbutton.h>
 
 #include <kabc/picture.h>
 #include <kdialogbase.h>
 
 #include "contacteditorwidget.h"
 
-class KURLRequester;
-class QCheckBox;
-
 #include <librss/global.h>
 
 namespace RSS {
@@ -46,15 +44,43 @@
 /**
   Small helper class
  */
-class ImageLabel : public QLabel
+class ImageLoader : public QObject
 {
   Q_OBJECT
 
   public:
-    ImageLabel( const QString &title, QWidget *parent );
+    ImageLoader();
 
+    KABC::Picture loadPicture( const KURL &url, bool *ok );
+    KABC::Picture loadBlog( const KURL &url, bool *ok );
+
+  private slots:
+    void loadingComplete( Loader*, Document, Status );
+
+  private:
+    bool mIsLoadingBlog;
+    KABC::Picture mPicture;
+};
+
+/**
+  Small helper class
+ */
+class ImageButton : public QPushButton
+{
+  Q_OBJECT
+
+  public:
+    ImageButton( const QString &title, QWidget *parent );
+
     void setReadOnly( bool readOnly );
 
+    void setPicture( const KABC::Picture &picture );
+    KABC::Picture picture() const;
+
+    void setImageLoader( ImageLoader *loader );
+
+    void setBlogFeed( const KURL &url );
+
   signals:
     void changed();
     void urlDropped( const KURL& );
@@ -64,14 +90,26 @@
     virtual void dropEvent( QDropEvent *event );
     virtual void mouseMoveEvent( QMouseEvent *event );
     virtual void mousePressEvent( QMouseEvent *event );
+    virtual void contextMenuEvent( QContextMenuEvent *event );
 
+  private slots:
+    void load();
+    void loadBlog();
+    void clear();
+
   private:
     void startDrag();
+    void updateGUI();
 
     bool mReadOnly;
+    KURL mBlogFeed;
     QPoint mDragStartPos;
+    KABC::Picture mPicture;
+
+    ImageLoader *mImageLoader;
 };
 
+
 class ImageBaseWidget : public QWidget
 {
   Q_OBJECT
@@ -81,13 +119,8 @@
     ~ImageBaseWidget();
 
     /**
-      Show/hide button for getting image from blog feed.
-    */
-    void showBlogButton( bool show );
-
-    /**
       Set URL of blog feed for getting the image.
-    */
+     */
     void setBlogFeed( const QString & );
 
     /**
@@ -105,32 +138,11 @@
   signals:
     void changed();
 
-  public slots:
-    void urlDropped( const KURL& );
-
-  private slots:
-    void loadImage();
-    void updateGUI();
-    void clear();
-    void imageChanged();
-    void getPictureFromBlog();
-    void slotLoadingComplete( Loader *loader, Document doc, Status status );
-
   private:
-    QPixmap loadPixmap( const KURL &url );
+    ImageButton *mImageButton;
+    ImageLoader *mImageLoader;
 
-    ImageLabel *mImageLabel;
-    KURLRequester *mImageUrl;
-
-    QCheckBox *mUseImageUrl;
-    QPushButton *mClearButton;
-
-    QPushButton *mBlogButton;
-    QString mBlogFeed;
-
     bool mReadOnly;
-
-    RSS::Loader *mRssLoader;
 };
 
 class ImageWidget : public KAB::ContactEditorWidget
Index: kaddressbook/dcopaddressbook.desktop
===================================================================
--- kaddressbook/dcopaddressbook.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/dcopaddressbook.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -45,5 +45,4 @@
 Comment[tr]=DCOP Arayüzü Olan Adres Defteri
 Comment[uk]=Адресна книга з інтерфейсом DCOP
 Comment[uz]=DCOP интерфейсли манзиллар дафтари
-Comment[xx]=xxAddress Book with a DCOP interfacexx
 Comment[zh_CN]=具有 DCOP 接口的地址簿
Index: kaddressbook/kaddressbook.desktop
===================================================================
--- kaddressbook/kaddressbook.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/kaddressbook.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -13,7 +13,6 @@
 Name[sv]=Adressbok
 Name[ta]=கேமுகவரிப் புத்தகம்
 Name[tr]=KDE Adres Defteri
-Name[xx]=xxKAddressBookxx
 GenericName=Address Manager
 GenericName[bg]=Адресник
 GenericName[br]=Merour ar chomlec'hioù
@@ -22,6 +21,7 @@
 GenericName[cy]=Rheolydd Cyfeiriadau
 GenericName[da]=Adressehåndtering
 GenericName[de]=Adressverwaltung
+GenericName[el]=Διαχειριστής διευθύνσεων
 GenericName[es]=Gestor de direcciones
 GenericName[et]=Aadressihaldur
 GenericName[eu]=Helbide kudeatzailea
@@ -48,7 +48,6 @@
 GenericName[ta]=முகவரி மேலாளர்
 GenericName[tr]=Adres Yöneticisi
 GenericName[uk]=Менеджер адрес
-GenericName[xx]=xxAddress Managerxx
 GenericName[zh_CN]=地址管理器
 Exec=kaddressbook %u
 Icon=kaddressbook
Index: kaddressbook/csv-templates/kaddressbook.desktop
===================================================================
--- kaddressbook/csv-templates/kaddressbook.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/csv-templates/kaddressbook.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -35,7 +35,6 @@
 Name[tg]=Китоби адрес (KDE 3.1)
 Name[tr]=KDE Adres Defteri (KDE 3.1)
 Name[ven]=Bugu ya diresi ya K (KDE 3.1)
-Name[xx]=xxKAddressBook (KDE 3.1)xx
 Name[zh_TW]=KAddressBook (KDE 3.1) 通訊錄
 
 [csv column map]
Index: kaddressbook/csv-templates/outlook2000.desktop
===================================================================
--- kaddressbook/csv-templates/outlook2000.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/csv-templates/outlook2000.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -11,7 +11,6 @@
 Name[hi]=आउटलुक 2000
 Name[nso]=Bokantle 2000
 Name[ta]=அவுட்லுக் 2000
-Name[xx]=xxOutlook 2000xx
 
 [csv column map]
 0=5
Index: kaddressbook/csv-templates/yahoo.desktop
===================================================================
--- kaddressbook/csv-templates/yahoo.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/csv-templates/yahoo.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -48,7 +48,6 @@
 Name[tr]=Yahoo! Adres Defteri
 Name[uk]=Адресна книга Yahoo
 Name[uz]=Yahoo! манзиллар дафтари
-Name[xx]=xxYahoo! AddressBookxx
 Name[zh_CN]=Yahoo! 地址簿
 
 [csv column map]
Index: kaddressbook/views/tableview.desktop
===================================================================
--- kaddressbook/views/tableview.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/views/tableview.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -4,6 +4,7 @@
 Name=Table View
 Name[be]=У выглядзе табліцы
 Name[bg]=Преглед в таблица
+Name[br]=Gwel taolenn
 Name[bs]=Pogled tabele
 Name[ca]=Vista de taula
 Name[cs]=Tabulkový pohled
@@ -45,7 +46,6 @@
 Name[tr]=Tablo Görünümü
 Name[uk]=Вигляд таблицею
 Name[uz]=Жадвал кўринишида
-Name[xx]=xxTable Viewxx
 Name[zh_CN]=表格视图
 Type=Service
 ServiceTypes=KAddressBook/View
Index: kaddressbook/views/iconview.desktop
===================================================================
--- kaddressbook/views/iconview.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/views/iconview.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -59,7 +59,6 @@
 Name[ven]=Mbonalelo ya aikhono
 Name[vi]=Xem icon 
 Name[xh]=Imboniselo ye Icon
-Name[xx]=xxIcon Viewxx
 Name[zh_CN]=图标视图
 Name[zu]=Umboniso we Icon
 Type=Service
Index: kaddressbook/views/cardview.desktop
===================================================================
--- kaddressbook/views/cardview.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/views/cardview.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -45,7 +45,6 @@
 Name[tg]=Варақа
 Name[tr]=Kart Görünümü
 Name[uk]=Вигляд картками
-Name[xx]=xxCard Viewxx
 Name[zh_CN]=卡片视图
 Type=Service
 ServiceTypes=KAddressBook/View
Index: kaddressbook/xxport/kde2_xxport.desktop
===================================================================
--- kaddressbook/xxport/kde2_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/xxport/kde2_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -38,7 +38,6 @@
 Name[tg]=Воридоти китоби адресии KDE2
 Name[tr]=KAB KDE2 XXPort Eklentisi
 Name[uk]=Втулок KAB для обміну з KDE2
-Name[xx]=xxKAB KDE2 XXPort Pluginxx
 Name[zh_CN]=KAB KDE2 XXPort 插件
 Comment=Plugin to import the old KDE 2 address book
 Comment[be]=Дапаўненьне для імпарту старой адраснай кнігі KDE 2
@@ -79,7 +78,6 @@
 Comment[tr]=KDE 2 adres defteri bilgilerini alma eklentisi
 Comment[uk]=Втулок для імпорту адресної книги старого формату часів KDE 2
 Comment[uz]=Эски KDE 2 манзиллар дафтарини импорт қилиш учун плагин
-Comment[xx]=xxPlugin to import the old KDE 2 address bookxx
 Comment[zh_CN]=导入旧的 KDE 2 地址簿的插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/xxport/csv_xxport.desktop
===================================================================
--- kaddressbook/xxport/csv_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/xxport/csv_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -3,6 +3,7 @@
 X-KDE-Library=libkaddrbk_csv_xxport
 Name=KAB CSV XXPort Plugin
 Name[be]=Дапаўненьне KAB "Імпарт/Экспарт CSV"
+Name[br]=Lugent XXPorzh CSV KAB
 Name[bs]=KAB dodatak za CSV XXPort
 Name[ca]=Endollable d'importació/exportació CSV per a KAB
 Name[cs]=Exportní modul CSV
@@ -36,7 +37,6 @@
 Name[tg]=Содирот/воридот ба файлҳои CSV
 Name[tr]=KAB CSV XXPort Eklentisi
 Name[uk]=Втулок KAB для обміну через CSV
-Name[xx]=xxKAB CSV XXPort Pluginxx
 Name[zh_CN]=KAB CSV XXPort 插件
 Comment=Plugin to import and export contacts in CSV format
 Comment[be]=Дапаўненьне для імпарту і экспарту кантактаў у фармаце CSV
@@ -76,7 +76,6 @@
 Comment[tg]=Модул барои воридот ва содироти алоқа ба формати CSV
 Comment[tr]=CSV biçimindeki bağlantıları alma ve gönderme eklentisi
 Comment[uk]=Втулок для імпорту та експорту контактів у форматі CSV
-Comment[xx]=xxPlugin to import and export contacts in CSV formatxx
 Comment[zh_CN]=导入和导出 CSV 格式联系人的插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/xxport/vcard_xxport.desktop
===================================================================
--- kaddressbook/xxport/vcard_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/xxport/vcard_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -38,7 +38,6 @@
 Name[tg]=Кор бо vCard
 Name[tr]=KAB vCard XXPort Eklentisi
 Name[uk]=Втулок KAB для обміну через vCard
-Name[xx]=xxKAB vCard XXPort Pluginxx
 Name[zh_CN]=KAB vCard XXPort 插件
 Comment=Plugin to import and export contacts in vCard format
 Comment[be]=Дапаўненьне для імпарту і экспарту кантактаў у фармаце vCard
@@ -78,7 +77,6 @@
 Comment[tg]=Модул барои воридот ва содироти алоқот ба формати vCard
 Comment[tr]=vCard biçimi bağlantıları alma ve gönderme eklentisi
 Comment[uk]=Втулок для імпорту та експорту контактів у форматі vCard
-Comment[xx]=xxPlugin to import and export contacts in vCard formatxx
 Comment[zh_CN]=导入和导出 vCard 格式联系人的插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/xxport/pab_xxport.desktop
===================================================================
--- kaddressbook/xxport/pab_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/xxport/pab_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -36,7 +36,6 @@
 Name[tg]=Воридоти алоқаҳои MS Exchange
 Name[tr]=KAB MS Exchange Kişisel Adres Defteri XXPort Eklentisi
 Name[uk]=Втулок KAB для обміну з персональною адресною книгою MS Exchange
-Name[xx]=xxKAB MS Exchange Personal Addressbook XXPort Pluginxx
 Name[zh_CN]=KAB MS Exchange 个人地址簿 XXPort 插件
 Comment=Plugin to import MS Exchange Personal Address Books
 Comment[be]=Дапаўненьне для імпарту пэрсанальнай адраснай кнігі MS Exchange
@@ -75,7 +74,6 @@
 Comment[tg]=Модул барои воридоти китобҳои адреси шахсии MS Exchange
 Comment[tr]=MS Exchange Kişisel Adres Defteri aktarım eklentisi
 Comment[uk]=Втулок для імпорту персональних адресних книг MS Exchange
-Comment[xx]=xxPlugin to import MS Exchange Personal Address Booksxx
 Comment[zh_CN]=导入 MS Exchange 个人地址簿的插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/xxport/opera_xxport.desktop
===================================================================
--- kaddressbook/xxport/opera_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/xxport/opera_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -37,7 +37,6 @@
 Name[tg]=Мубодилаи иттилоот бо Opera
 Name[tr]=KAB Opera XXPort Eklentisi
 Name[uk]=Name=Втулок KAB для обміну з Opera
-Name[xx]=xxKAB Opera XXPort Pluginxx
 Name[zh_CN]=KAB Opera XXPort 插件
 Comment=Plugin to import Opera contacts
 Comment[be]=Дапаўненьне для імпарту кантактаў Opera
@@ -77,7 +76,6 @@
 Comment[tg]=Модул барои воридоти алоқаи Opera
 Comment[tr]=Opera bağlantılarını alma eklentisi
 Comment[uk]=Втулок для імпорту контактів Opera
-Comment[xx]=xxPlugin to import Opera contactsxx
 Comment[zh_CN]=导入 Opera 联系人的插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/xxport/gnokii_xxport.desktop
===================================================================
--- kaddressbook/xxport/gnokii_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/xxport/gnokii_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -38,7 +38,6 @@
 Name[tg]=Синхронизатсия бо телефони мобилӣ
 Name[tr]=KAB Cep Telefonu XXPort Eklentisi
 Name[uk]=Втулок KAB для обміну з мобільними телефонами
-Name[xx]=xxKAB Mobile Phone XXPort Pluginxx
 Name[zh_CN]=KAB 移动电话 XXPort 插件
 Comment=Mobile Phone Plugin to Import and Export Addressbook Entries
 Comment[bg]=Приставка за експорт/импорт на контактите от/към мобилен телефон
@@ -77,7 +76,6 @@
 Comment[tg]=Модул барои воридот ва содироти алоқаи телефони мобилӣ
 Comment[tr]=Adres Defteri Girdilerini Cep Telefonuna Alma ve Gönderme Eklentisi
 Comment[uk]=Втулок для імпорту та експорту записів у адресній книзі мобільних телефонів
-Comment[xx]=xxMobile Phone Plugin to Import and Export Addressbook Entriesxx
 Comment[zh_CN]=导入和导出地址簿项的移动电话插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/xxport/bookmark_xxport.desktop
===================================================================
--- kaddressbook/xxport/bookmark_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/xxport/bookmark_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -3,6 +3,7 @@
 X-KDE-Library=libkaddrbk_bookmark_xxport
 Name=KAB Bookmark XXPort Plugin
 Name[be]=Дапаўненьне KAB "Экспарт у закладкі"
+Name[br]=Lugent XXPorzh sined KAB
 Name[bs]=KAB dodatak za XXPort zabilješki
 Name[ca]=Endollable d'importació/exportació de punts per a KAB
 Name[cs]=Exportní modul záložek
@@ -37,7 +38,6 @@
 Name[tg]=Содироти поягузор
 Name[tr]=KAB Yer imleri XXPort Eklentisi
 Name[uk]=Втулок обміну закладками KAB
-Name[xx]=xxKAB Bookmark XXPort Pluginxx
 Name[zh_CN]=KAB 书签 XXPort 插件
 Comment=Plugin to export the web addresses of the contacts as bookmarks
 Comment[bg]=Приставка за експорт на уеб адресите на контактите, като отметки
@@ -76,7 +76,6 @@
 Comment[tg]=Модул барои содироти веб-адресҳои алоқа ҳамчун поягузор
 Comment[tr]=Bağlantıların web adreslerini yeri imleri olarak aktarmak için eklenti
 Comment[uk]=Втулок для експорту адрес контактів у Тенетах як закладок
-Comment[xx]=xxPlugin to export the web addresses of the contacts as bookmarksxx
 Comment[zh_CN]=将联系人的网址导出为书签的插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/xxport/vcard_xxport.cpp
===================================================================
--- kaddressbook/xxport/vcard_xxport.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/xxport/vcard_xxport.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -132,9 +132,20 @@
           return true;
 
         KABC::AddresseeList::ConstIterator it;
+        uint counter = 0;
         for ( it = list.begin(); it != list.end(); ++it ) {
-          url = baseUrl.url() + "/" + (*it).givenName() + "_" + (*it).familyName() + ".vcf";
+          QString testUrl;
+          if ( (*it).givenName().isEmpty() && (*it).familyName().isEmpty() )
+            testUrl = baseUrl.url() + "/" + (*it).organization();
+          else
+            testUrl = baseUrl.url() + "/" + (*it).givenName() + "_" + (*it).familyName();
 
+          if ( KIO::NetAccess::exists( testUrl + (counter == 0 ? "" : QString::number( counter )) + ".vcf", false, parentWidget() ) ) {
+            counter++;
+            url = testUrl + QString::number( counter ) + ".vcf";
+          } else
+            url = testUrl + ".vcf";
+
           bool tmpOk;
           KABC::AddresseeList tmpList;
           tmpList.append( *it );
Index: kaddressbook/xxport/ldif_xxport.desktop
===================================================================
--- kaddressbook/xxport/ldif_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/xxport/ldif_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -39,7 +39,6 @@
 Name[tg]=Мубодилаи иттилоот аз KDE2
 Name[tr]=KAB LDIF XXPort Eklentisi
 Name[uk]=Втулок KAB для обміну через LDIF
-Name[xx]=xxKAB LDIF XXPort Pluginxx
 Name[zh_CN]=KAB LDIF XXPort 插件
 Comment=Plugin to import and export contacts in Netscape and Mozilla LDIF format
 Comment[be]=Дапаўненьне для імпарту кантактаў у фармаце Netscape/Mozilla LDIF
@@ -79,7 +78,6 @@
 Comment[tg]=Модул барои воридот ва содироти алоқа аз формати LDIF Netscape ва Mozilla
 Comment[tr]=Netscape ve Mozilla'nın LDIF biçimindeki bağlantılarını alma ve gönderme eklentisi
 Comment[uk]=Втулок для імпорту та експорту контактів у LDIF сумісний з Netscape та Mozilla
-Comment[xx]=xxPlugin to import and export contacts in Netscape and Mozilla LDIF formatxx
 Comment[zh_CN]=导入和导出 Netscape 和 Mozilla LDIF 格式联系人的插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/xxport/eudora_xxport.desktop
===================================================================
--- kaddressbook/xxport/eudora_xxport.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/xxport/eudora_xxport.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -3,6 +3,7 @@
 X-KDE-Library=libkaddrbk_eudora_xxport
 Name=KAB Eudora XXPort Plugin
 Name[be]=Дапаўненьне KAB "Імпарт/Экспарт Eudora"
+Name[br]=Lugent XXPorzh Eudora KAB
 Name[bs]=KAB dodatak za Eudora XXPort
 Name[ca]=Endollable d'importació/exportació Eudora per a KAB
 Name[cs]=Exportní modul do Eudory
@@ -37,7 +38,6 @@
 Name[tg]=Мубодилаи иттилоот бо Eudora
 Name[tr]=KAB Eudora XXPort Eklentisi
 Name[uk]=Втулок KAB для обміну з Eudora
-Name[xx]=xxKAB Eudora XXPort Pluginxx
 Name[zh_CN]=KAB Eudora XXPort 插件
 Comment=Plugin to import and export Eudora contacts
 Comment[be]=Дапаўненьне для імпарту і экспарту кантактаў Eudora
@@ -78,7 +78,6 @@
 Comment[tg]=Модул барои воридот ва содироти алоқаи Eudora
 Comment[tr]=Eudora bağlantılarını alma ve gönderme eklentisi
 Comment[uk]=Втулок для імпорту та експорту контактів з або до Eudora
-Comment[xx]=xxPlugin to import and export Eudora contactsxx
 Comment[zh_CN]=导入和导出 Eudora 联系人的插件
 Type=Service
 ServiceTypes=KAddressBook/XXPort
Index: kaddressbook/editors/protocols/jabberprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/jabberprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/editors/protocols/jabberprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -44,9 +44,7 @@
 Comment[tg]=протоколи Jabber
 Comment[tr]=Jabber Protokolü
 Comment[uk]=Протокол Jabber
-Comment[xx]=xxJabber Protocolxx
 Comment[zh_CN]=Jabber 协议
 Name=Jabber
 Name[ta]=ஜாபர்
-Name[xx]=xxJabberxx
 
Index: kaddressbook/editors/protocols/aimprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/aimprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/editors/protocols/aimprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -45,8 +45,6 @@
 Comment[tg]=Протоколи AIM
 Comment[tr]=AIM Protokolü
 Comment[uk]=Протокол AIM
-Comment[xx]=xxAIM Protocolxx
 Comment[zh_CN]=AIM 协议
 Name=AIM
-Name[xx]=xxAIMxx
 
Index: kaddressbook/editors/protocols/meanwhileprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/meanwhileprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/editors/protocols/meanwhileprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -6,11 +6,12 @@
 X-KDE-InstantMessagingKABCField=messaging/meanwhile
 Comment=Meanwhile Protocol
 Comment[bg]=Протокол Meanwhile
+Comment[br]=Komenad Meanwhile
 Comment[ca]=Protocol Meanwhile
 Comment[cs]=Meanwhile protokol
 Comment[da]=Meanwhile Protokol
 Comment[de]=Meanwhile-Protokoll
-Comment[el]=Προτόκολο Meanwhile
+Comment[el]=Πρωτόκολλο Meanwhile
 Comment[es]=Protocolo Meanwhile
 Comment[et]=Meanwhile'i protokoll
 Comment[eu]=Meanwhile protokoloa
@@ -21,6 +22,7 @@
 Comment[hu]=Meanwhile protokoll
 Comment[is]=Meanwhile samskiptamátinn
 Comment[it]=Protocollo Meanwhile
+Comment[ja]=Meanwhile プロトコル
 Comment[lt]=Meanwhile protokolas
 Comment[nb]=Meanwhile-protokoll
 Comment[nl]=Meanwhile-protocol
@@ -36,8 +38,6 @@
 Comment[ta]=நெறிமுறை
 Comment[tr]=Meanwhile Protokolü
 Comment[uk]=Протокол Meanwhile
-Comment[xx]=xxMeanwhile Protocolxx
 Comment[zh_CN]=Meanwhile 协议
 Name=Meanwhile
-Name[xx]=xxMeanwhilexx
 
Index: kaddressbook/editors/protocols/skypeprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/skypeprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/editors/protocols/skypeprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -10,10 +10,13 @@
 Comment[da]=Skype internettelefoni
 Comment[de]=Internet-Telefonie mit Skype
 Comment[es]=Telefonía por internet con Skype
+Comment[et]=Internetitelefon Skype
+Comment[eu]=Skype-en internet telefonia
 Comment[fr]=Téléphonie Internet Skype
 Comment[he]=טלפוניית רשת של Skype
 Comment[is]=Skype Internet sími
 Comment[it]=Telefonia internet Skype
+Comment[ja]=Skype インターネット電話
 Comment[lt]=Skype Interneto telefonija
 Comment[nb]=Skype IP-telefoni
 Comment[nl]=Skype internettelefonie
@@ -26,7 +29,5 @@
 Comment[sr@Latn]=Skype internet telefonija
 Comment[sv]=Skype Internettelefoni
 Comment[uk]=Інтернет-телефон Skype
-Comment[xx]=xxSkype Internet Telephonyxx
 Comment[zh_CN]=Skype Internet 电话
 Name=Skype
-Name[xx]=xxSkypexx
Index: kaddressbook/editors/protocols/icqprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/icqprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/editors/protocols/icqprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -13,7 +13,7 @@
 Comment[cs]=ICQ protokol
 Comment[da]=ICQ Protokol
 Comment[de]=ICQ-Protokoll
-Comment[el]=Προτόκολο ICQ
+Comment[el]=Πρωτόκολλο ICQ
 Comment[es]=Protocolo ICQ
 Comment[et]=ICQ protokoll
 Comment[eu]=ICQ protokoloa
@@ -44,8 +44,6 @@
 Comment[tg]=Протоколи ICQ
 Comment[tr]=ICQ Protokolü
 Comment[uk]=Протокол ICQ
-Comment[xx]=xxICQ Protocolxx
 Comment[zh_CN]=ICQ 协议
 Name=ICQ
-Name[xx]=xxICQxx
 
Index: kaddressbook/editors/protocols/ircprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/ircprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/editors/protocols/ircprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -20,8 +20,6 @@
 Comment[tg]=IRC (Internet Relay Chat)
 Comment[tr]=İnternet Genel Sohbeti
 Comment[uk]=IRChat
-Comment[xx]=xxInternet Relay Chatxx
 Comment[zh_CN]=Internet 聊天
 Name=IRC
-Name[xx]=xxIRCxx
 
Index: kaddressbook/editors/protocols/msnprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/msnprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/editors/protocols/msnprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -13,12 +13,10 @@
 Comment[pa]=MSN ਸੁਨੇਹਾਦਾਰ
 Comment[ta]=MSN மெசஞ்சர்
 Comment[tr]=MSN Mesajcısı
-Comment[xx]=xxMSN Messengerxx
 Name=MSN Messenger
 Name[bg]=MSN
 Name[cy]=Negesydd MSN
 Name[ja]=MSN メッセンジャー
 Name[ta]=MSN மெசஞ்சர்
 Name[tr]=MSN Mesajcısı
-Name[xx]=xxMSN Messengerxx
 
Index: kaddressbook/editors/protocols/yahooprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/yahooprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/editors/protocols/yahooprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -13,7 +13,7 @@
 Comment[cs]=Yahoo protokol
 Comment[da]=Yahoo Protokol
 Comment[de]=Yahoo!-Protokoll
-Comment[el]=Προτόκολο Yahoo
+Comment[el]=Πρωτόκολλο Yahoo
 Comment[es]=Protocolo Yahoo
 Comment[et]=Yahoo protokoll
 Comment[eu]=Yahoo protokoloa
@@ -44,9 +44,7 @@
 Comment[tg]=Протоколи Yahoo
 Comment[tr]=Yahoo Protokolü
 Comment[uk]=Протокол Yahoo
-Comment[xx]=xxYahoo Protocolxx
 Comment[zh_CN]=Yahoo 协议
 Name=Yahoo
 Name[de]=Yahoo!
-Name[xx]=xxYahooxx
 
Index: kaddressbook/editors/protocols/gaduprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/gaduprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/editors/protocols/gaduprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -7,6 +7,7 @@
 Comment=Gadu-Gadu Protocol
 Comment[be]=Пратакол Gadu-Gadu
 Comment[bg]=Протокол Gadu-Gadu
+Comment[br]=Komenad Gadu-Gadu
 Comment[bs]=Gadu-Gadu protokol
 Comment[ca]=Protocol Gadu-Gadu
 Comment[cs]=Gadu-Gadu protokol
@@ -43,9 +44,7 @@
 Comment[tg]=протоколи Gadu-Gadu
 Comment[tr]=Gadu-Gadu Protokolü
 Comment[uk]=Протокол Gadu-Gadu
-Comment[xx]=xxGadu-Gadu Protocolxx
 Comment[zh_CN]=Gadu-Gadu 协议
 Name=Gadu-Gadu
 Name[ta]=கடு-கடு
-Name[xx]=xxGadu-Gaduxx
 
Index: kaddressbook/editors/protocols/smsprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/smsprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/editors/protocols/smsprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -13,7 +13,7 @@
 Comment[cs]=SMS protokol
 Comment[da]=SMS Protokol
 Comment[de]=SMS-Protokoll
-Comment[el]=Προτόκολο SMS
+Comment[el]=Πρωτόκολλο SMS
 Comment[es]=Protocolo SMS
 Comment[et]=SMS protokoll
 Comment[eu]=SMS protokoloa
@@ -44,9 +44,7 @@
 Comment[tg]=протоколи SMS
 Comment[tr]=SMS Protokolü
 Comment[uk]=Протокол SMS
-Comment[xx]=xxSMS Protocolxx
 Comment[zh_CN]=短信息协议
 Name=SMS
-Name[xx]=xxSMSxx
 Name[zh_CN]=短信息
 
Index: kaddressbook/editors/protocols/groupwiseprotocol.desktop
===================================================================
--- kaddressbook/editors/protocols/groupwiseprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/editors/protocols/groupwiseprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -13,6 +13,8 @@
 Comment[eu]=Novell GroupWise mezularia
 Comment[fr]=Messagerie GroupWise de Novell
 Comment[he]=מסנג'ר של Novell GroupWise
+Comment[is]=Novell GroupWise Samskiptatólið
+Comment[ja]=Novell GroupWiseメッセンジャ
 Comment[lt]=Novell GroupWise momentinių žinučių klientas
 Comment[nl]=Novell GroupWise-messenger
 Comment[pl]=Komunikator Novell GroupWise
@@ -22,12 +24,10 @@
 Comment[sr@Latn]=Novell-ov GroupWise Messenger
 Comment[sv]=Novell Groupwise Messenger
 Comment[ta]=நோவல் குழுவாரியான செய்தியாளன்
-Comment[xx]=xxNovell GroupWise Messengerxx
 Comment[zh_CN]=Novell GroupWise 信使
 Name=GroupWise
 Name[sr]=Groupware
 Name[sr@Latn]=Groupware
 Name[sv]=Groupwise
 Name[ta]=குழுவாரியாக
-Name[xx]=xxGroupWisexx
 
Index: kaddressbook/editors/cryptosettings.desktop
===================================================================
--- kaddressbook/editors/cryptosettings.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/editors/cryptosettings.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -39,7 +39,6 @@
 Name[tg]=Танзимоти рамзгузорӣ
 Name[tr]=Şifreleme Özellikleri
 Name[uk]=Параметри шифрування
-Name[xx]=xxCrypto Preferencesxx
 Name[zh_CN]=加密首选项
 Type=Service
 ServiceTypes=KAddressBook/ContactEditorWidget
Index: kaddressbook/editors/imaddresseditor.desktop
===================================================================
--- kaddressbook/editors/imaddresseditor.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/editors/imaddresseditor.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -15,7 +15,9 @@
 Name[gl]=Mensaxería Instantánea
 Name[he]=מסרים מיידיים
 Name[hu]=Azonnali üzenetküldés (IM)
+Name[is]=Skilaboðaforrit
 Name[it]=Messaggistica istantanea
+Name[ja]=インスタントメッセージ
 Name[lt]=Momentinės žinutės
 Name[nb]=Lynmelding
 Name[nn]=Lynmelding
@@ -33,7 +35,6 @@
 Name[tg]=Хизматгоҳи мубодилаи иттилоот
 Name[tr]=Hızlı Mesajlaşma
 Name[uk]=Миттєвий зв'язок
-Name[xx]=xxInstant Messagingxx
 Name[zh_CN]=即时消息
 Comment=Instant Messaging Address Editor
 Comment[bg]=Редактор на адреси за мигновените съобщения
@@ -51,6 +52,7 @@
 Comment[gl]=Editor de Enderezos de Mensaxería Instantánea
 Comment[he]=עורך כתובות מסרים מידיים
 Comment[hu]=IM-címszerkesztő
+Comment[is]=Vistfangaritill fyrir skilaboðaforrit
 Comment[it]=Editor degli indirizzi per messaggi istantanei
 Comment[ja]=インスタント メッセージ アドレス 編集
 Comment[lt]=Momentinių žinučių adresų redaktorius
@@ -71,7 +73,6 @@
 Comment[tg]=Муҳаррири алоқоти хизматгоҳҳои мубодилаи иттилоот
 Comment[tr]=Hızlı Mesajlaşma Adres Düzenleyicisi
 Comment[uk]=Редактор адрес миттєвого зв'язку
-Comment[xx]=xxInstant Messaging Address Editorxx
 Comment[zh_CN]=即时消息地址编辑器
 ServiceTypes=KAddressBook/ContactEditorWidget
 X-KDE-Library=libkaddrbk_instantmessaging
Index: kaddressbook/editors/kaddressbookimprotocol.desktop
===================================================================
--- kaddressbook/editors/kaddressbookimprotocol.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/editors/kaddressbookimprotocol.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -18,6 +18,7 @@
 Name[gl]=Protocolo de Mensaxería Instantánea de KAddressbook
 Name[he]=פרוטוקול מסרים מידיים של KAddressbook
 Name[hu]=KAddressbook azonnali üzenetküldési protokoll
+Name[is]=KAddressbook skilaboðaforritið
 Name[it]=KAddressbook protocollo messaggistica istantanea
 Name[ja]=KAddressbook インスタント メッセージ プロトコル
 Name[lt]=KAddressbook momentinių žinučių protokolas
@@ -38,7 +39,6 @@
 Name[tg]=Протоколи мубодилаи иттилооти китоби адресии KDE
 Name[tr]=KAddressbook Hızlı Mesajlaşma Protokolü
 Name[uk]=Протокол миттєвого зв'язку KAddressbook
-Name[xx]=xxKAddressbook Instant Messaging Protocolxx
 Name[zh_CN]=KAddressbook 即时消息协议
 [PropertyDef::X-KDE-InstantMessagingKABCField]
 Type=QString
Index: kaddressbook/addresseditwidget.h
===================================================================
--- kaddressbook/addresseditwidget.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/addresseditwidget.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -39,6 +39,7 @@
 class QTextEdit;
 class QToolButton;
 
+class KActiveLabel;
 class KComboBox;
 class KLineEdit;
 class KListView;
@@ -78,7 +79,7 @@
     AddressTypeCombo *mTypeCombo;
 
     QPushButton *mEditButton;
-    QLabel *mAddressField;
+    KActiveLabel *mAddressField;
 
     KABC::Address::List mAddressList;
     KABC::Addressee mAddressee;
Index: kaddressbook/kabcore.cpp
===================================================================
--- kaddressbook/kabcore.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/kabcore.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -799,13 +799,12 @@
 
   KABC::AddressBook::ConstIterator iter;
   const KABC::AddressBook::ConstIterator endIter( mAddressBook->end() );
-  KABC::PhoneNumber::List::Iterator phoneIter;
-  const KABC::PhoneNumber::List::Iterator phoneEndIter( phoneList.end() );
 
   for ( iter = mAddressBook->begin(); !found && ( iter != endIter ); ++iter ) {
     phoneList = (*iter).phoneNumbers();
-    for ( phoneIter = phoneList.begin(); !found && ( phoneIter != phoneEndIter );
-          ++phoneIter) {
+    KABC::PhoneNumber::List::Iterator phoneIter( phoneList.begin() );
+    const KABC::PhoneNumber::List::Iterator phoneEndIter( phoneList.end() );
+    for ( ; !found && ( phoneIter != phoneEndIter ); ++phoneIter) {
       // Get rid of separator chars so just the numbers are compared.
       if ( (*phoneIter).number().replace( r, "" ) == localPhone.replace( r, "" ) ) {
         ownerName = (*iter).realName();
@@ -1175,15 +1174,16 @@
 {
   QStringList categories, allCategories;
   QStringList::ConstIterator catIt;
-  const QStringList::ConstIterator catEndIt( categories.end() );
 
   KABC::AddressBook::ConstIterator it;
   const KABC::AddressBook::ConstIterator endIt( mAddressBook->end() );
   for ( it = mAddressBook->begin(); it != endIt; ++it ) {
     categories = (*it).categories();
-    for ( catIt = categories.begin(); catIt != catEndIt; ++catIt )
+    const QStringList::ConstIterator catEndIt( categories.end() );
+    for ( catIt = categories.begin(); catIt != catEndIt; ++catIt ) {
       if ( !allCategories.contains( *catIt ) )
         allCategories.append( *catIt );
+	}
   }
 
   return allCategories;
Index: kaddressbook/kaddressbook_view.desktop
===================================================================
--- kaddressbook/kaddressbook_view.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/kaddressbook_view.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -43,7 +43,6 @@
 Comment[tg]=Модули намоиши китоби адресии KDE
 Comment[tr]=KAdresDefteri Gösterim Eklentisi
 Comment[uk]=Втулок перегляду адресної книги KAddressBook
-Comment[xx]=xxKAddressBook View Pluginxx
 Comment[zh_CN]=KAddressBook 查看插件
 
 [PropertyDef::X-KDE-KAddressBook-ViewPluginVersion]
Index: kaddressbook/addresseditwidget.cpp
===================================================================
--- kaddressbook/addresseditwidget.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/addresseditwidget.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -37,6 +37,7 @@
 #include <qtooltip.h>
 
 #include <kaccelmanager.h>
+#include <kactivelabel.h>
 #include <kapplication.h>
 #include <kbuttonbox.h>
 #include <kcombobox.h>
@@ -89,7 +90,7 @@
            SLOT( updateAddressEdit() ) );
   layout->addWidget( mTypeCombo );
 
-  mAddressField = new QLabel( this );
+  mAddressField = new KActiveLabel( this );
   mAddressField->setFrameStyle( QFrame::Panel | QFrame::Sunken );
   mAddressField->setMinimumHeight( 20 );
   mAddressField->setAlignment( Qt::AlignTop );
Index: kaddressbook/kcmconfigs/kabcustomfields.desktop
===================================================================
--- kaddressbook/kcmconfigs/kabcustomfields.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/kcmconfigs/kabcustomfields.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -40,7 +40,7 @@
 Name[pl]=Własne strony
 Name[pt]=Páginas Personalizadas
 Name[pt_BR]=Páginas personalizadas
-Name[ru]=Пользовательские вкладки
+Name[ru]=Дополнительные поля
 Name[se]=Iežat siiddut
 Name[sk]=Vlastné stránky
 Name[sl]=Prilagojene strani
@@ -51,7 +51,6 @@
 Name[tg]=Варақаҳои замимавии истифодашаванда
 Name[tr]=Özel Sayfa
 Name[uk]=Нетипові сторінки
-Name[xx]=xxCustom Pagesxx
 Name[zh_CN]=定制页
 Comment=Configure the Custom Pages
 Comment[bg]=Настройки на потребителските полета
@@ -92,7 +91,6 @@
 Comment[tg]=Танзимоти варақаҳои замимавии истифодашаванда
 Comment[tr]=Özel Sayfaları Yapılandır
 Comment[uk]=Налаштування нетипових сторінок
-Comment[xx]=xxConfigure the Custom Pagesxx
 Comment[zh_CN]=配置定制页
 Keywords=kaddressbook, configure, settings, custom fields
 Keywords[bg]=адресник, потребителски, полета, настройки, конфигуриране, kaddressbook, configure, settings, custom fields
@@ -130,5 +128,4 @@
 Keywords[tg]=kaddressbook,китоби адрес,танзимот
 Keywords[tr]=kaddressbook,adres defteri,yapılandır,yapılandırma,özel alanlar
 Keywords[uk]=kaddressbook, налаштування, параметри, нетипові поля
-Keywords[xx]=xxkaddressbook, configure, settings, custom fieldsxx
 Keywords[zh_CN]=kaddressbook, configure, settings, custom fields, 配置, 设置, 定制项
Index: kaddressbook/kcmconfigs/kabconfig.desktop
===================================================================
--- kaddressbook/kcmconfigs/kabconfig.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/kcmconfigs/kabconfig.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -30,6 +30,7 @@
 Name[hu]=Általános
 Name[is]=Almennt
 Name[it]=Generale
+Name[ja]=一般
 Name[lt]=Bendras
 Name[nb]=Generelt
 Name[nl]=Algemeen
@@ -48,7 +49,6 @@
 Name[th]=ทั่วไป
 Name[tr]=Genel
 Name[uk]=Загальні
-Name[xx]=xxGeneralxx
 Name[zh_CN]=常规
 Comment=Configure the Address Book
 Comment[be]=Настроіць адрасную кнігу
@@ -94,7 +94,6 @@
 Comment[tr]=Adres Defterini Yapılandır
 Comment[uk]=Налаштування адресної книги
 Comment[uz]=Манзиллар дафтарини мослаш
-Comment[xx]=xxConfigure the Address Bookxx
 Comment[zh_CN]=配置地址簿
 Keywords=kaddressbook, configure, settings
 Keywords[be]=K Адрасная кніга, настроіць, настройкі, kaddressbook, configure, settings
@@ -139,5 +138,4 @@
 Keywords[tr]=kadresdefteri, yapılandırma, ayarlar
 Keywords[uk]=kaddressbook, налаштування, параметри
 Keywords[uz]=kaddressbook, мослаш, мосламалар, манзиллар дафтари
-Keywords[xx]=xxkaddressbook, configure, settingsxx
 Keywords[zh_CN]=kaddressbook, configure, settings, 配置, 设置
Index: kaddressbook/kcmconfigs/kabldapconfig.desktop
===================================================================
--- kaddressbook/kcmconfigs/kabldapconfig.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/kcmconfigs/kabldapconfig.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -44,7 +44,7 @@
 Name[pt]=Pesquisa na LDAP
 Name[pt_BR]=Procura LDAP
 Name[ro]=Căutare LDAP
-Name[ru]=Поиск в каталогах LDAP
+Name[ru]=Каталоги LDAP
 Name[sk]=LDAP hľadanie
 Name[sl]=Vpogled v LDAP
 Name[sr]=LDAP потрага
@@ -54,7 +54,6 @@
 Name[tg]=Ҷустуҷӯ дар каталогҳои LDAP
 Name[tr]=LDAP Tarama
 Name[uk]=Пошук через LDAP
-Name[xx]=xxLDAP Lookupxx
 Name[zh_CN]=LDAP 查询
 Comment=Configure the Address Book LDAP Settings
 Comment[bg]=Настройки на адресника за използване на сървър LDAP
@@ -94,7 +93,6 @@
 Comment[tr]=Adres Defteri LDAP Ayarlarını Yapılandır
 Comment[uk]=Налаштування параметрів LDAP для адресної книги
 Comment[uz]=LDAP манзиллар дафтарини мослаш
-Comment[xx]=xxConfigure the Address Book LDAP Settingsxx
 Comment[zh_CN]=配置地址簿 LDAP 设置
 Keywords=kaddressbook, configure, settings, LDAP
 Keywords[be]=K Адрасная кніга, настроіць, настройкі, kaddressbook, configure, settings, LDAP
@@ -139,5 +137,4 @@
 Keywords[tr]=adres defteri,yapılandırma,ayarlar,LDAP
 Keywords[uk]=kaddressbook, налаштування, параметри, LDAP
 Keywords[uz]=kaddressbook, мослаш, мосламалар, манзиллар дафтари, LDAP
-Keywords[xx]=xxkaddressbook, configure, settings, LDAPxx
 Keywords[zh_CN]=kaddressbook, configure, settings, LDAP, 配置, 设置
Index: kaddressbook/thumbnailcreator/ldifvcardthumbnail.desktop
===================================================================
--- kaddressbook/thumbnailcreator/ldifvcardthumbnail.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/thumbnailcreator/ldifvcardthumbnail.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -39,7 +39,6 @@
 Name[tg]=Файлҳои визиткаи электронӣ
 Name[tr]=Elektronik İş Kartı Dosyaları
 Name[uk]=файли електронних візитних карток
-Name[xx]=xxElectronic Business Card Filesxx
 Name[zh_CN]=电子名片文件
 ServiceTypes=ThumbCreator
 MimeTypes=text/x-vcard,text/x-ldif
Index: kaddressbook/imagewidget.cpp
===================================================================
--- kaddressbook/imagewidget.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/imagewidget.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -24,6 +24,7 @@
 #include <kabc/picture.h>
 #include <kdebug.h>
 #include <kdialog.h>
+#include <kfiledialog.h>
 #include <kglobalsettings.h>
 #include <kiconloader.h>
 #include <kimageio.h>
@@ -31,7 +32,6 @@
 #include <klocale.h>
 #include <kmessagebox.h>
 #include <kurldrag.h>
-#include <kurlrequester.h>
 #include <libkdepim/kpixmapregionselectordialog.h>
 
 #include <librss/loader.h>
@@ -39,37 +39,173 @@
 #include <librss/image.h>
 
 #include <qapplication.h>
-#include <qcheckbox.h>
 #include <qdragobject.h>
+#include <qeventloop.h>
 #include <qgroupbox.h>
 #include <qlabel.h>
 #include <qlayout.h>
 #include <qpixmap.h>
-#include <qtooltip.h>
+#include <qpopupmenu.h>
 
+#include <unistd.h>
+
 #include "imagewidget.h"
 
-ImageLabel::ImageLabel( const QString &title, QWidget *parent )
-  : QLabel( title, parent ), mReadOnly( false )
+ImageLoader::ImageLoader()
+  : QObject( 0, "ImageLoader" ),
+    mIsLoadingBlog( false )
 {
+}
+
+
+KABC::Picture ImageLoader::loadPicture( const KURL &url, bool *ok )
+{
+  KABC::Picture picture;
+  QString tempFile;
+
+  if ( url.isEmpty() )
+    return picture;
+
+  (*ok) = false;
+
+  QImage image;
+  if ( url.isLocalFile() ) {
+    image.load( url.path() );
+    picture.setData( image );
+    (*ok) = true;
+  } else if ( KIO::NetAccess::download( url, tempFile, 0 ) ) {
+    image.load( tempFile );
+    picture.setData( image );
+    (*ok) = true;
+    KIO::NetAccess::removeTempFile( tempFile );
+  }
+
+  if ( !(*ok) ) {
+    // image does not exist (any more)
+    KMessageBox::sorry( 0, i18n( "This contact's image cannot be found." ) );
+    return picture;
+  }
+
+  QPixmap pixmap = picture.data();
+
+  QPixmap selectedPixmap = KPIM::KPixmapRegionSelectorDialog::getSelectedImage( pixmap, 100, 140, 0 );
+  if ( selectedPixmap.isNull() ) {
+    (*ok) = false;
+    return picture;
+  }
+
+  image = selectedPixmap;
+  if ( image.height() != 140 || image.width() != 100 ) {
+    if ( image.height() > image.width() )
+      image = image.scaleHeight( 140 );
+    else
+      image = image.scaleWidth( 100 );
+  }
+
+  picture.setData( image );
+  (*ok) = true;
+
+  return picture;
+}
+
+KABC::Picture ImageLoader::loadBlog( const KURL &url, bool *ok )
+{
+  RSS::Loader *loader = RSS::Loader::create();
+  connect( loader, SIGNAL( loadingComplete( Loader*, Document, Status ) ),
+           this, SLOT( loadingComplete( Loader*, Document, Status ) ) );
+  loader->loadFrom( url, new RSS::FileRetriever );
+
+  mIsLoadingBlog = true;
+  while ( mIsLoadingBlog ) {
+    qApp->eventLoop()->processEvents( QEventLoop::ExcludeUserInput );
+    usleep( 500 );
+  }
+
+  if ( mPicture.data().isNull() ) {
+    KMessageBox::sorry( 0,
+        i18n( "Blog feed at '%1' does not contain an image." ).arg( url.url() ) );
+    (*ok) = false;
+  }
+  (*ok) = true;
+
+  return mPicture;
+}
+
+void ImageLoader::loadingComplete( RSS::Loader*,
+                                   RSS::Document doc,
+                                   RSS::Status status )
+{
+  mIsLoadingBlog = false;
+
+  if ( status != RSS::Success ) {
+    mPicture = KABC::Picture();
+    return;
+  }
+
+  if ( !doc.image() ) {
+    mPicture = KABC::Picture();
+    return;
+  }
+
+  bool ok = false;
+  KABC::Picture pic = loadPicture( doc.image()->url().url(), &ok );
+  if ( ok )
+    mPicture = pic;
+}
+
+ImageButton::ImageButton( const QString &title, QWidget *parent )
+  : QPushButton( title, parent ),
+    mReadOnly( false ), mImageLoader( 0 )
+{
   setAcceptDrops( true );
+
+  connect( this, SIGNAL( clicked() ), SLOT( load() ) );
 }
 
-void ImageLabel::setReadOnly( bool readOnly )
+void ImageButton::setReadOnly( bool readOnly )
 {
   mReadOnly = readOnly;
 }
 
-void ImageLabel::startDrag()
+void ImageButton::setPicture( const KABC::Picture &picture )
 {
-  if ( pixmap() && !pixmap()->isNull() ) {
-    QImageDrag *drag = new QImageDrag( pixmap()->convertToImage(), this );
+  mPicture = picture;
+  updateGUI();
+}
+
+KABC::Picture ImageButton::picture() const
+{
+  return mPicture;
+}
+
+void ImageButton::setImageLoader( ImageLoader *loader )
+{
+  mImageLoader = loader;
+}
+
+void ImageButton::setBlogFeed( const KURL &url )
+{
+  mBlogFeed = url;
+}
+
+void ImageButton::startDrag()
+{
+  if ( !mPicture.data().isNull() ) {
+    QImageDrag *drag = new QImageDrag( mPicture.data(), this );
     drag->dragCopy();
   }
 }
 
-void ImageLabel::dragEnterEvent( QDragEnterEvent *event )
+void ImageButton::updateGUI()
 {
+  if ( mPicture.data().isNull() )
+    setPixmap( KGlobal::iconLoader()->iconPath( "personal", KIcon::Desktop ) );
+  else
+    setPixmap( mPicture.data() );
+}
+
+void ImageButton::dragEnterEvent( QDragEnterEvent *event )
+{
   bool accepted = false;
 
   if ( QImageDrag::canDecode( event ) )
@@ -81,7 +217,7 @@
   event->accept( accepted );
 }
 
-void ImageLabel::dropEvent( QDropEvent *event )
+void ImageButton::dropEvent( QDropEvent *event )
 {
   if ( mReadOnly )
     return;
@@ -90,7 +226,8 @@
     QPixmap pm;
 
     if ( QImageDrag::decode( event, pm ) ) {
-      setPixmap( pm );
+      mPicture.setData( pm.convertToImage() );
+      updateGUI();
       emit changed();
     }
   }
@@ -104,18 +241,25 @@
       }
     }
 
-    emit urlDropped( urls.first() );
-    emit changed();
+    if ( mImageLoader ) {
+      bool ok = false;
+      KABC::Picture pic = mImageLoader->loadPicture( urls[ 0 ], &ok );
+      if ( ok ) {
+        mPicture = pic;
+        updateGUI();
+        emit changed();
+      }
+    }
   }
 }
 
-void ImageLabel::mousePressEvent( QMouseEvent *event )
+void ImageButton::mousePressEvent( QMouseEvent *event )
 {
   mDragStartPos = event->pos();
-  QLabel::mousePressEvent( event );
+  QPushButton::mousePressEvent( event );
 }
 
-void ImageLabel::mouseMoveEvent( QMouseEvent *event )
+void ImageButton::mouseMoveEvent( QMouseEvent *event )
 {
   if ( (event->state() & LeftButton) &&
        (event->pos() - mDragStartPos).manhattanLength() >
@@ -124,255 +268,100 @@
   }
 }
 
-
-ImageBaseWidget::ImageBaseWidget( const QString &title, QWidget *parent,
-                                  const char *name )
-  : QWidget( parent, name ), mReadOnly( false ), mRssLoader( 0 )
+void ImageButton::contextMenuEvent( QContextMenuEvent *event )
 {
-  QHBoxLayout *topLayout = new QHBoxLayout( this, KDialog::marginHint(),
-                                            KDialog::spacingHint() );
-  QGroupBox *box = new QGroupBox( 0, Qt::Vertical, title, this );
-  QGridLayout *boxLayout = new QGridLayout( box->layout(), 3, 3,
-                                            KDialog::spacingHint() );
-  boxLayout->setRowStretch( 3, 1 );
+  QPopupMenu menu( this );
+  menu.insertItem( i18n( "Reset" ), this, SLOT( clear() ) );
+  if ( mBlogFeed.isValid() )
+    menu.insertItem( i18n("Get From Blog"), this, SLOT( loadBlog() ) );
 
-  mImageLabel = new ImageLabel( i18n( "Picture" ), box );
-  mImageLabel->setFixedSize( 100, 140 );
-  mImageLabel->setFrameStyle( QFrame::Panel | QFrame::Sunken );
-  boxLayout->addMultiCellWidget( mImageLabel, 0, 3, 0, 0, AlignTop );
-
-  mImageUrl = new KURLRequester( box );
-  mImageUrl->setFilter( KImageIO::pattern() );
-  mImageUrl->setMode( KFile::File );
-  boxLayout->addWidget( mImageUrl, 0, 1 );
-
-  mClearButton = new QPushButton( box );
-  mClearButton->setSizePolicy( QSizePolicy( QSizePolicy::Minimum, QSizePolicy::Minimum ) );
-  mClearButton->setIconSet( SmallIconSet( QApplication::reverseLayout() ? "locationbar_erase" : "clear_left" ) );
-  mClearButton->setEnabled( false );
-  boxLayout->addWidget( mClearButton, 0, 2 );
-
-  mBlogButton = new QPushButton( i18n("Get From Blog"), box );
-  boxLayout->addMultiCellWidget( mBlogButton, 1, 1, 1, 2 );
-  connect( mBlogButton, SIGNAL( clicked() ), SLOT( getPictureFromBlog() ) );
-  showBlogButton( false );
-
-  mUseImageUrl = new QCheckBox( i18n( "Store as URL" ), box );
-  mUseImageUrl->setEnabled( false );
-  boxLayout->addMultiCellWidget( mUseImageUrl, 2, 2, 1, 2 );
-
-  topLayout->addWidget( box );
-
-  QToolTip::add( mClearButton, i18n( "Reset" ) );
-
-  connect( mImageLabel, SIGNAL( changed() ),
-           SIGNAL( changed() ) );
-  connect( mImageLabel, SIGNAL( urlDropped( const KURL& ) ),
-           SLOT( urlDropped( const KURL& ) ) );
-  connect( mImageUrl, SIGNAL( textChanged( const QString& ) ),
-           SIGNAL( changed() ) );
-  connect( mImageUrl, SIGNAL( urlSelected( const QString& ) ),
-           SLOT( loadImage() ) );
-  connect( mImageUrl, SIGNAL( urlSelected( const QString& ) ),
-           SIGNAL( changed() ) );
-  connect( mImageUrl, SIGNAL( urlSelected( const QString& ) ),
-           SLOT( updateGUI() ) );
-  connect( mUseImageUrl, SIGNAL( toggled( bool ) ),
-           SIGNAL( changed() ) );
-  // FIXME: Is there really no race condition with all these mImageUrl signals?
-  connect( mClearButton, SIGNAL( clicked() ),
-           SLOT( clear() ) );
+  menu.exec( event->globalPos() );
 }
 
-ImageBaseWidget::~ImageBaseWidget()
+void ImageButton::load()
 {
-}
-
-void ImageBaseWidget::setReadOnly( bool readOnly )
-{
-  mReadOnly = readOnly;
-  mImageLabel->setReadOnly( mReadOnly );
-  mImageUrl->setEnabled( !mReadOnly );
-  if ( !mBlogFeed.isEmpty() ) mBlogButton->setEnabled( !readOnly );
-}
-
-void ImageBaseWidget::showBlogButton( bool show )
-{
-  if ( show )
-    mBlogButton->show();
-  else
-    mBlogButton->hide();
-}
-
-void ImageBaseWidget::setBlogFeed( const QString &feed )
-{
-  mBlogFeed = feed;
-  mBlogButton->setEnabled( !feed.isEmpty() );
-}
-
-void ImageBaseWidget::setImage( const KABC::Picture &photo )
-{
-  bool blocked = signalsBlocked();
-  blockSignals( true );
-
-  if ( photo.isIntern() ) {
-    QPixmap px = photo.data();
-
-    if ( px.height() != 140 || px.width() != 100 ) {
-      if ( px.height() > px.width() )
-        px = px.convertToImage().scaleHeight( 140 );
-      else
-        px = px.convertToImage().scaleWidth( 100 );
+  KURL url = KFileDialog::getOpenURL( QString(), QString(), this );
+  if ( url.isValid() ) {
+    if ( mImageLoader ) {
+      bool ok = false;
+      KABC::Picture pic = mImageLoader->loadPicture( url, &ok );
+      if ( ok ) {
+        mPicture = pic;
+        updateGUI();
+        emit changed();
+      }
     }
-
-    mImageLabel->setPixmap( px );
-    mUseImageUrl->setChecked( false );
-  } else {
-    mImageUrl->setURL( photo.url() );
-    if ( !photo.url().isEmpty() )
-      mUseImageUrl->setChecked( true );
-    loadImage();
   }
-
-  blockSignals( blocked );
-
-  updateGUI();
 }
 
-KABC::Picture ImageBaseWidget::image() const
+void ImageButton::loadBlog()
 {
-  KABC::Picture photo;
-
-  if ( mUseImageUrl->isChecked() )
-    photo.setUrl( mImageUrl->url() );
-  else {
-    if ( mImageLabel->pixmap() ) {
-      photo.setData( mImageLabel->pixmap()->convertToImage() );
-    }
+  bool ok = false;
+  KABC::Picture pic = mImageLoader->loadBlog( mBlogFeed, &ok );
+  if ( ok ) {
+    mPicture = pic;
+    updateGUI();
+    emit changed();
   }
-
-  return photo;
 }
 
-void ImageBaseWidget::urlDropped( const KURL &url )
+void ImageButton::clear()
 {
-  mImageUrl->setURL( url.url() );
-  loadImage();
-  mImageUrl->setURL( url.url() );
+  mPicture = KABC::Picture();
+  updateGUI();
 
   emit changed();
 }
 
-void ImageBaseWidget::loadImage()
+ImageBaseWidget::ImageBaseWidget( const QString &title,
+                                  QWidget *parent, const char *name )
+  : QWidget( parent, name ), mReadOnly( false )
 {
-  QPixmap pixmap = loadPixmap( KURL( mImageUrl->url() ) );
-  if(! pixmap.isNull() )
-    mImageLabel->setPixmap( pixmap );
-}
+  mImageLoader = new ImageLoader();
 
-void ImageBaseWidget::updateGUI()
-{
-  if ( !mReadOnly ) {
-    mUseImageUrl->setEnabled( !mImageUrl->url().isEmpty() );
-    mClearButton->setEnabled( !mImageUrl->url().isEmpty() || ( mImageLabel->pixmap() && !mImageLabel->pixmap()->isNull() ) );
-  }
-}
+  QVBoxLayout *topLayout = new QVBoxLayout( this, KDialog::marginHint(),
+                                            KDialog::spacingHint() );
+  QGroupBox *box = new QGroupBox( 0, Qt::Vertical, title, this );
+  QVBoxLayout *layout = new QVBoxLayout( box->layout(), KDialog::spacingHint() );
 
-void ImageBaseWidget::clear()
-{
-  mImageLabel->clear();
-  mImageUrl->clear();
-  mUseImageUrl->setChecked( false );
+  mImageButton = new ImageButton( i18n( "Picture" ), box );
+  mImageButton->setFixedSize( 100, 140 );
+  mImageButton->setImageLoader( mImageLoader );
+  layout->addWidget( mImageButton );
 
-  updateGUI();
+  topLayout->addWidget( box );
 
-  emit changed();
+  connect( mImageButton, SIGNAL( changed() ), SIGNAL( changed() ) );
 }
 
-void ImageBaseWidget::imageChanged()
+ImageBaseWidget::~ImageBaseWidget()
 {
-  updateGUI();
-
-  emit changed();
+  delete mImageLoader;
+  mImageLoader = 0;
 }
 
-QPixmap ImageBaseWidget::loadPixmap( const KURL &url )
+void ImageBaseWidget::setReadOnly( bool readOnly )
 {
-  QString tempFile;
-  QPixmap pixmap;
-
-  if ( url.isEmpty() )
-    return pixmap;
-
-  if ( url.isLocalFile() )
-    pixmap = QPixmap( url.path() );
-  else if ( KIO::NetAccess::download( url, tempFile, this ) ) {
-    pixmap = QPixmap( tempFile );
-    KIO::NetAccess::removeTempFile( tempFile );
-  }
-
-  if ( pixmap.isNull() ) {
-    // image does not exist (any more)
-    KMessageBox::sorry( this, i18n( "This contact's image cannot be found." ) );
-    return pixmap;
-  }
-
-  QPixmap selectedPixmap = KPIM::KPixmapRegionSelectorDialog::getSelectedImage( pixmap, 100, 140, this );
-  if ( selectedPixmap.isNull() )
-    return QPixmap();
-  pixmap = selectedPixmap;
-  mImageUrl->clear();
-
-  if ( pixmap.height() != 140 || pixmap.width() != 100 ) {
-    if ( pixmap.height() > pixmap.width() )
-      pixmap = pixmap.convertToImage().scaleHeight( 140 );
-    else
-      pixmap = pixmap.convertToImage().scaleWidth( 100 );
-  }
-
-  return pixmap;
+  mReadOnly = readOnly;
+  mImageButton->setReadOnly( mReadOnly );
 }
 
-void ImageBaseWidget::getPictureFromBlog()
+void ImageBaseWidget::setBlogFeed( const QString &feed )
 {
-  if ( mRssLoader ) {
-    return;
-  }
-
-  mRssLoader = RSS::Loader::create();
-  connect( mRssLoader, SIGNAL( loadingComplete( Loader *, Document,
-    Status ) ),
-    SLOT( slotLoadingComplete( Loader *, Document, Status ) ) );
-  mRssLoader->loadFrom( mBlogFeed, new RSS::FileRetriever );
-
-  // TODO: Show progress for fetching image from blog.
+  mImageButton->setBlogFeed( feed );
 }
 
-void ImageBaseWidget::slotLoadingComplete( RSS::Loader *loader,
-  RSS::Document doc, RSS::Status status )
+void ImageBaseWidget::setImage( const KABC::Picture &photo )
 {
-  if ( status != RSS::Success ) {
-    KMessageBox::sorry( this,
-      i18n("Unable to retrieve blog feed from '%1': %2").arg( mBlogFeed )
-      .arg( loader->errorCode() ) );
-    return;
-  }
+  mImageButton->setPicture( photo );
+}
 
-  if ( !doc.image() ) {
-    KMessageBox::sorry( this,
-      i18n("Blog feed at '%1' does not contain an image.").arg( mBlogFeed ) );
-    return;
-  }
-
-  blockSignals( true );
-  mImageUrl->setURL( doc.image()->url().url() );
-  loadImage();
-  blockSignals( false );
-  imageChanged();
-
-  mRssLoader = 0;
+KABC::Picture ImageBaseWidget::image() const
+{
+  return mImageButton->picture();
 }
 
+
 ImageWidget::ImageWidget( KABC::AddressBook *ab, QWidget *parent, const char *name )
   : KAB::ContactEditorWidget( ab, parent, name )
 {
@@ -381,7 +370,6 @@
 
   mPhotoWidget = new ImageBaseWidget( KABC::Addressee::photoLabel(), this );
   layout->addWidget( mPhotoWidget );
-  mPhotoWidget->showBlogButton( true );
 
   mLogoWidget = new ImageBaseWidget( KABC::Addressee::logoLabel(), this );
   layout->addWidget( mLogoWidget );
Index: kaddressbook/features/distributionlist.desktop
===================================================================
--- kaddressbook/features/distributionlist.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/features/distributionlist.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -41,12 +41,12 @@
 Name[tr]=KAB Dağıtım Listesi Eklentisi
 Name[uk]=Втулок списку розповсюдження KAB
 Name[uz]=Тарқатиш рўйхат плагини
-Name[xx]=xxKAB Distribution List Pluginxx
 Name[zh_CN]=KAB 分发列表插件
 Comment=Plugin for managing distribution lists
 Comment[ar]=ملحق لإدارة قوائم التوزيع
 Comment[be]=Дапаўненьне для кіраваньня сьпісамі распаўсюджваньня
 Comment[bg]=Приставка за управление на списъци
+Comment[br]=Lugent melestradur ar rolloù ingaladur
 Comment[bs]=Dodatak za upravljanje distribucionim listama
 Comment[ca]=Endollable per a gestionar llistes de distribució
 Comment[cs]=Modul pro správu distribučních seznamů
@@ -86,7 +86,6 @@
 Comment[tr]=Dağıtım listelerini yönetmek için eklenti
 Comment[uk]=Втулок для керування списками розповсюдження
 Comment[uz]=Тарқатиш рўйхатларни бошқариш учу плагин
-Comment[xx]=xxPlugin for managing distribution listsxx
 Comment[zh_CN]=管理分发列表的插件
 Type=Service
 ServiceTypes=KAddressBook/Extension
Index: kaddressbook/features/resourceselection.desktop
===================================================================
--- kaddressbook/features/resourceselection.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kaddressbook/features/resourceselection.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -38,11 +38,11 @@
 Name[tg]=Идоракунии китоби адресӣ
 Name[tr]=Adres Defteri Düzenleme Eklentisi
 Name[uk]=Втулок для керування адресною книгою
-Name[xx]=xxAddress Book Management Pluginxx
 Name[zh_CN]=地址簿管理插件
 Comment=Plugin for managing address books
 Comment[be]=Дапаўненьне для кіраваньня адраснамі кнігамі
 Comment[bg]=Приставка за управление на адресника
+Comment[br]=Lugent melestradur ar c'harnedoù chomlec'hioù
 Comment[bs]=Dodatak za upravljanje adresarima
 Comment[ca]=Endollable per gestionar llibretes d'adreces
 Comment[cs]=Modul pro správu knih adres
@@ -77,7 +77,6 @@
 Comment[tg]=Идоракунии китобҳои адресӣ
 Comment[tr]=Adres defteterini düzenlemek için eklenti
 Comment[uk]=Втулок для керування адресними книгами
-Comment[xx]=xxPlugin for managing address booksxx
 Comment[zh_CN]=管理地址簿的插件
 Type=Service
 ServiceTypes=KAddressBook/Extension
Index: plugins/kmail/bodypartformatter/text_calendar.desktop
===================================================================
--- plugins/kmail/bodypartformatter/text_calendar.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ plugins/kmail/bodypartformatter/text_calendar.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -23,7 +23,6 @@
 Name[ta]=பயன்பாட்டு எண்மம்
 Name[tg]=Миқдори зиёди бинарии барномот
 Name[tr]=Uygulama Sekizli Akışı
-Name[xx]=xxApplication Octetstreamxx
 Name[zh_CN]=应用程序 Octetstream
 Comment=A bodypart formatter plugin for text/calendar
 Comment[bg]=Редактор с поддръжка на форматиране за текст/календар
@@ -37,6 +36,7 @@
 Comment[eu]=Testu/egutegientzako gorputz-zati formateatzaile bat
 Comment[fr]=Module de formatage pour le text/calendar
 Comment[hu]=Formázómodul text/calendar adatfolyamok kezeléséhez
+Comment[is]=Sniðmátstól fyrir text/calendar
 Comment[it]=Un plugin per formattare il corpo di text/calendar
 Comment[ja]=text/calendar 用の Bodypart フォーマッタ プラグイン
 Comment[nb]=En formaterer for meldingstekster i tekst/kalender
@@ -55,7 +55,6 @@
 Comment[tg]=Модули ба андозадарории text/calendar
 Comment[tr]=text/calendar için bir gövde biçimleyici eklentisi
 Comment[uk]=Втулок форматування для text/calendar
-Comment[xx]=xxA bodypart formatter plugin for text/calendarxx
 Comment[zh_CN]=text/calendar 的格式化插件
 
 [Plugin]
Index: plugins/kmail/bodypartformatter/text_vcard.desktop
===================================================================
--- plugins/kmail/bodypartformatter/text_vcard.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ plugins/kmail/bodypartformatter/text_vcard.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -23,7 +23,6 @@
 Name[ta]=பயன்பாட்டு எண்மம்
 Name[tg]=Миқдори зиёди бинарии барномот
 Name[tr]=Uygulama Sekizli Akışı
-Name[xx]=xxApplication Octetstreamxx
 Name[zh_CN]=应用程序 Octetstream
 Comment=A bodypart formatter plugin for text/vcard
 Comment[bg]=Редактор с поддръжка на форматиране за текст/vcard
@@ -38,6 +37,7 @@
 Comment[eu]=Testu/vcard-en gorputz-zati formateatzaile bat
 Comment[fr]=Un formateur de partie de corps pour text/vcard
 Comment[hu]=Formázómodul text/vcard adatfolyamok kezeléséhez
+Comment[is]=Sniðmátstól fyrir text/vcard
 Comment[it]=Un plugin per formattare il corpo di text/vcard
 Comment[ja]=text/vcard 用の Bodypart フォーマッタ プラグイン
 Comment[nb]=Et programtilllegg for text/vcard for brødtekst-formatering
@@ -56,7 +56,6 @@
 Comment[tg]=Модули ба андозадарории text/vcard
 Comment[tr]=text/vcard için bir gövde biçimleyici eklentisi
 Comment[uk]=Втулок форматування для text/vcard
-Comment[xx]=xxA bodypart formatter plugin for text/vcardxx
 Comment[zh_CN]=text/vcard 的格式化插件
 
 [Plugin]
Index: plugins/kmail/bodypartformatter/text_xdiff.desktop
===================================================================
--- plugins/kmail/bodypartformatter/text_xdiff.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ plugins/kmail/bodypartformatter/text_xdiff.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -23,7 +23,6 @@
 Name[ta]=பயன்பாட்டு எண்மம்
 Name[tg]=Миқдори зиёди бинарии барномот
 Name[tr]=Uygulama Sekizli Akışı
-Name[xx]=xxApplication Octetstreamxx
 Name[zh_CN]=应用程序 Octetstream
 Comment=A bodypart formatter plugin for text/x-diff
 Comment[bg]=Редактор с поддръжка на форматиране за текст/x-diff
@@ -36,7 +35,9 @@
 Comment[eu]=Testu/x-diff-en gorputz-zati formateatzaile bat
 Comment[fr]=Un formateur de partie de corps pour text/x-diff
 Comment[hu]=Formázómodul text/x-diff adatok kezeléséhez
+Comment[is]=Sniðmátstól fyrir text/x-diff
 Comment[it]=Un plugin per formattare il corpo di text/x-diff
+Comment[ja]=text/x-diff 用の bodypart フォーマッタプラグイン
 Comment[nb]=Et programtilllegg for text/x-diff for brødtekst-formatering
 Comment[nl]=Een opmaakplugin voor text/x-diff
 Comment[nn]=Eit programtilllegg for text/x-diff for brødtekstformatering
@@ -51,7 +52,6 @@
 Comment[ta]=text/x-diffக்கான ஒரு பகுதி வடிவமைப்பான் சொருகுப்பொருள்
 Comment[tr]=text/x-diff için bir gövde biçimleyici eklentisi
 Comment[uk]=Втулок форматування для text/x-diff
-Comment[xx]=xxA bodypart formatter plugin for text/x-diffxx
 Comment[zh_CN]=text/x-diff 的格式化插件
 [Plugin]
 Type=text/x-diff
Index: kitchensync/multisynk/multisynk.desktop
===================================================================
--- kitchensync/multisynk/multisynk.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/multisynk/multisynk.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -2,7 +2,6 @@
 Encoding=UTF-8
 Name=MultiSynK
 Name[sv]=Multisynk
-Name[xx]=xxMultiSynKxx
 GenericName=Synchronization
 GenericName[bg]=Синхронизация
 GenericName[ca]=Sincronització
@@ -36,7 +35,6 @@
 GenericName[ta]=கூட்டிணைப்பு
 GenericName[tr]=Senkronizasyon
 GenericName[uk]=Синхронізація
-GenericName[xx]=xxSynchronizationxx
 GenericName[zh_CN]=同步
 Exec=multisynk
 Icon=multisynk
Index: kitchensync/kitchensync/debugger/debugger.desktop
===================================================================
--- kitchensync/kitchensync/debugger/debugger.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/kitchensync/debugger/debugger.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -9,6 +9,7 @@
 Name[cy]=Dadnamydd Kysylltydd
 Name[da]=Konnector-fejlretter
 Name[de]=Konnector-Debugger
+Name[el]=Αποσφαλματωτής του Konnector
 Name[es]=Konnector para depuración
 Name[et]=Konnectori siluja
 Name[eu]=Konnector araztailea
@@ -39,7 +40,6 @@
 Name[tg]=Тасҳеҳкунандаи Konnector
 Name[tr]=Konnector Hata Ayıklayıcı
 Name[uk]=Зневадник Konnector
-Name[xx]=xxKonnector Debuggerxx
 Name[zh_CN]=Konnector 调试程序
 Icon=
 ServiceTypes=KitchenSync/ActionPart
Index: kitchensync/kitchensync/syncerpart/syncerpart.desktop
===================================================================
--- kitchensync/kitchensync/syncerpart/syncerpart.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/kitchensync/syncerpart/syncerpart.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -35,7 +35,6 @@
 Name[tg]=Қисмати синхронизатсия
 Name[tr]=Eşleyici (Syncronizer) Kısmı
 Name[uk]=Складова синхронізації
-Name[xx]=xxSynchronizer Partxx
 Name[zh_CN]=同步部件
 Icon=
 ServiceTypes=KitchenSync/ActionPart
Index: kitchensync/kitchensync/viewer/viewer.desktop
===================================================================
--- kitchensync/kitchensync/viewer/viewer.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/kitchensync/viewer/viewer.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -36,7 +36,6 @@
 Name[tg]=Намоиши маълумот
 Name[tr]=Veri Gösterici
 Name[uk]=Перегляд даних
-Name[xx]=xxData Viewerxx
 Name[zh_CN]=数据查看器
 Icon=
 ServiceTypes=KitchenSync/ActionPart
Index: kitchensync/kitchensync/plucker/kitchensync-pluck-rdf.desktop
===================================================================
--- kitchensync/kitchensync/plucker/kitchensync-pluck-rdf.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/kitchensync/plucker/kitchensync-pluck-rdf.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -9,6 +9,7 @@
 Name[cs]=Přidat do KitchenSync Plucker modulu
 Name[da]=Tilføj til køkkenvask plucker-plugin
 Name[de]=Zum KitchenSync Plucker Modul hinzufügen
+Name[el]=Προσθήκη στο πρόσθετο KitchenSync Plucker
 Name[es]=Añadir a la extensión Plucker de KitchenSync
 Name[et]=Lisa KitchenSynci Pluckeri pluginale
 Name[eu]=Gehitu KitchenSync-i Plucker plugin-a
@@ -16,6 +17,7 @@
 Name[hu]=Hozzáadás a KitchenSync Plucker bővítőmodulhoz
 Name[is]=Bæta við KitchenSync Plucker íforritið
 Name[it]=Aggiungi al plugin KitchenSync Plucker
+Name[ja]=KitchenSync Plucker プラグインに追加
 Name[lt]=KitchenSync Plucker priedo pridėlis
 Name[nb]=Programtillegg for KitchenSync-plukking
 Name[nl]=Toevoegen aan KitchenSync Plucker Plugin
@@ -30,7 +32,6 @@
 Name[sv]=Lägg till i Kitchensyncs plockningsinsticksprogram
 Name[tr]=KitchenSync Plucker Eklentisine Ekle
 Name[uk]=Додати до втулку Plucker у KitchenSync
-Name[xx]=xxAdd to KitchenSync Plucker Pluginxx
 Name[zh_CN]=添加到 KitchenSync Plucker 插件
 Exec=dcop kitchensync PluckerInterface "addPluckerFeed(KURL)" %u
 Icon=knode
Index: kitchensync/kitchensync/plucker/kitchensync-pluck.desktop
===================================================================
--- kitchensync/kitchensync/plucker/kitchensync-pluck.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/kitchensync/plucker/kitchensync-pluck.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -9,6 +9,7 @@
 Name[cs]=Přidat do KitchenSync Plucker modulu
 Name[da]=Tilføj til køkkenvask plucker-plugin
 Name[de]=Zum KitchenSync Plucker Modul hinzufügen
+Name[el]=Προσθήκη στο πρόσθετο KitchenSync Plucker
 Name[es]=Añadir a la extensión Plucker de KitchenSync
 Name[et]=Lisa KitchenSynci Pluckeri pluginale
 Name[eu]=Gehitu KitchenSync-i Plucker plugin-a
@@ -16,6 +17,7 @@
 Name[hu]=Hozzáadás a KitchenSync Plucker bővítőmodulhoz
 Name[is]=Bæta við KitchenSync Plucker íforritið
 Name[it]=Aggiungi al plugin KitchenSync Plucker
+Name[ja]=KitchenSync Plucker プラグインに追加
 Name[lt]=KitchenSync Plucker priedo pridėlis
 Name[nb]=Programtillegg for KitchenSync-plukking
 Name[nl]=Toevoegen aan KitchenSync Plucker Plugin
@@ -30,7 +32,6 @@
 Name[sv]=Lägg till i Kitchensyncs plockningsinsticksprogram
 Name[tr]=KitchenSync Plucker Eklentisine Ekle
 Name[uk]=Додати до втулку Plucker у KitchenSync
-Name[xx]=xxAdd to KitchenSync Plucker Pluginxx
 Name[zh_CN]=添加到 KitchenSync Plucker 插件
 Exec=dcop kitchensync PluckerInterface "addPluckerUrl(KURL)" %u
 Icon=knode
Index: kitchensync/kitchensync/plucker/plucker.desktop
===================================================================
--- kitchensync/kitchensync/plucker/plucker.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/kitchensync/plucker/plucker.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -11,6 +11,7 @@
 Name[he]=רכיב Plucker
 Name[hu]=Plucker objektum
 Name[is]=Plucker hluti
+Name[ja]=Plucker パート
 Name[lt]=Plucker komponentas
 Name[nb]=Plucker-del
 Name[nl]=Plucker part
@@ -25,7 +26,6 @@
 Name[ta]=இழுக்கும் பகுதி
 Name[tr]=Plucker Kısmı
 Name[uk]=Компонент Plucker
-Name[xx]=xxPlucker Partxx
 Name[zh_CN]=Plucker 部件
 ServiceTypes=KitchenSync/ActionPart
 X-KDE-Library=libksync_pluckerpart
Index: kitchensync/kitchensync/backup/restore.desktop
===================================================================
--- kitchensync/kitchensync/backup/restore.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/kitchensync/backup/restore.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -7,6 +7,7 @@
 Name[cs]=Obnova konektoru
 Name[da]=Konnector genopret
 Name[de]=Konnector-Wiederherstellung
+Name[el]=Αποκατάσταση του Konnector
 Name[es]=Konnector para restauración
 Name[et]=Konnectori taastaja
 Name[eu]=Konnector leheneratu
@@ -32,7 +33,6 @@
 Name[tg]=Барқарор кардани Konnector
 Name[tr]=Konnector Geri Yükleme
 Name[uk]=Відновлення Konnector
-Name[xx]=xxKonnector Restorexx
 Name[zh_CN]=Konnector 恢复
 Icon=
 ServiceTypes=KitchenSync/ActionPart
Index: kitchensync/kitchensync/backup/backup.desktop
===================================================================
--- kitchensync/kitchensync/backup/backup.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/kitchensync/backup/backup.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -8,6 +8,7 @@
 Name[cy]=Copi-wrth-gefn Kysylltydd
 Name[da]=Konnector sikkerhedskopi
 Name[de]=Konnector-Sicherung
+Name[el]=Αντίγραφο ασφαλείας του Konnector
 Name[es]=Konnector para copia de seguridad
 Name[et]=Konnectori varukoopia
 Name[eu]=Konnector babes-kopia
@@ -37,7 +38,6 @@
 Name[tg]=Нусхаи захиравии Konnector
 Name[tr]=Konnector Yedeği
 Name[uk]=Резервна копія Konnector
-Name[xx]=xxKonnector Backupxx
 Name[zh_CN]=Konnector 备份
 Icon=
 ServiceTypes=KitchenSync/ActionPart
Index: kitchensync/kitchensync/overview/overview.desktop
===================================================================
--- kitchensync/kitchensync/overview/overview.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/kitchensync/overview/overview.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -42,7 +42,6 @@
 Name[uk]=Складова OverView
 Name[ven]=Tshipida tsha mbonalelo
 Name[xh]=IndawanaYokujongwaNgaphezulu
-Name[xx]=xxOverView Partxx
 Name[zh_CN]=概览部件
 Name[zh_TW]=OverView 組件
 Name[zu]=Ingxenye yokufingqiwe
Index: kitchensync/kitchensync/lib/kitchensync.desktop
===================================================================
--- kitchensync/kitchensync/lib/kitchensync.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/kitchensync/lib/kitchensync.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -39,7 +39,6 @@
 Name[tg]=Мудири синхронизатсияи KitchenSync
 Name[uk]=Маніпулятор KitchenSync
 Name[ven]=Mufhiritanyi wa KitchenSyncsedzi
-Name[xx]=xxKitchenSync Manipulatorxx
 Name[zh_CN]=KitchenSync 操纵程序
 Name[zh_TW]=KitchenSync 操作器
 Name[zu]=Umsebenzisi we-KitchenSync
Index: kitchensync/kitchensync/fileview/fileview.desktop
===================================================================
--- kitchensync/kitchensync/fileview/fileview.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/kitchensync/fileview/fileview.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -30,7 +30,6 @@
 Name[uk]=Складова Fileview
 Name[ven]=Tshipida tsha mbonalelo ya faela
 Name[xh]=IndawanaYefayileYokubona
-Name[xx]=xxFileviewPartxx
 Name[zh_CN]=文件预览部件
 Name[zu]=Ingxenye yombukiso wefayela
 Icon=konqeror
Index: kitchensync/libkonnector2/plugins/kabc/kabckonnector.desktop
===================================================================
--- kitchensync/libkonnector2/plugins/kabc/kabckonnector.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/libkonnector2/plugins/kabc/kabckonnector.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -37,7 +37,6 @@
 Name[tg]=Коннектор ба китоби адрес
 Name[tr]=Adres Defteri Konnector Bilşeni
 Name[uk]=Konnector до адресної книги
-Name[xx]=xxAddressBook Konnectorxx
 Name[zh_CN]=地址簿 Konnector
 Group=Test
 Vendor=KDE Team
Index: kitchensync/libkonnector2/plugins/threadedkonnector/threadedkonnector.desktop
===================================================================
--- kitchensync/libkonnector2/plugins/threadedkonnector/threadedkonnector.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/libkonnector2/plugins/threadedkonnector/threadedkonnector.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -10,6 +10,7 @@
 Name[cy]=Kysylltydd arddangosol ar gyfer weithredoliant edafeddedig
 Name[da]=Demo-konnector for en trådet implementation
 Name[de]=Demo-Konnector zur Implementierung von Threads
+Name[el]=Δοκιμαστικός Konnector για μια νηματική υλοποίηση
 Name[es]=Conector de demostración para una implementación con hilos
 Name[et]=Konnectori demo
 Name[eu]=Haridun inplementazioetzako eredu Konnector-a
@@ -17,6 +18,7 @@
 Name[hu]=Demókonnektor többszálú megvalósításra
 Name[is]=Prufu Konnector fyrir fjölþráða útfærslu
 Name[it]=Connettore demo per un'implementazione basata su thread
+Name[ja]=スレッド化された実装のための Demo Konnector
 Name[nb]=Demo konnector for en trådet implementering
 Name[nl]=Demo-Konnector voor 'threaded' implementatie
 Name[nn]=Demo-Konnector for ein tråda implementering
@@ -30,7 +32,6 @@
 Name[sv]=Demonstration av Konnector för trådad implementering
 Name[ta]=இணைக்கப்பட்ட நடைமுறைக்கான இணைப்பான் காட்சி
 Name[uk]=Konnector для демонстрації реалізації через нитки
-Name[xx]=xxDemo Konnector for a Threaded Implementationxx
 Name[zh_CN]=线程实现的 Konnector 演示
 Group=Test
 Vendor=Mathias Fröhlich
Index: kitchensync/libkonnector2/plugins/kcal/kcalkonnector.desktop
===================================================================
--- kitchensync/libkonnector2/plugins/kcal/kcalkonnector.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/libkonnector2/plugins/kcal/kcalkonnector.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -38,7 +38,6 @@
 Name[tg]=Конекктор
 Name[tr]=Takvim Konnector Bileşeni
 Name[uk]=Konnector до календаря
-Name[xx]=xxCalendar Konnectorxx
 Name[zh_CN]=日历 Konnector
 Group=Test
 Vendor=KDE Team
Index: kitchensync/libkonnector2/plugins/local/localkonnector.desktop
===================================================================
--- kitchensync/libkonnector2/plugins/local/localkonnector.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/libkonnector2/plugins/local/localkonnector.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -40,7 +40,6 @@
 Name[tg]=Коннектори локалӣ
 Name[tr]=Yerel Konnector Bileşeni
 Name[uk]=Локальний Konnector
-Name[xx]=xxLocal Konnectorxx
 Name[zh_CN]=本地 Konnector
 Group=Test
 Vendor=KDE Team
Index: kitchensync/libkonnector2/plugins/dummy/dummykonnector.desktop
===================================================================
--- kitchensync/libkonnector2/plugins/dummy/dummykonnector.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/libkonnector2/plugins/dummy/dummykonnector.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -39,7 +39,6 @@
 Name[tg]=Коннектори тасҳеҳкунанда
 Name[tr]=Hayali Konnector
 Name[uk]=Фіктивний Konnector
-Name[xx]=xxDummy Konnectorxx
 Name[zh_CN]=哑 Konnector
 Group=Test
 Vendor=KDE Team
Index: kitchensync/libkonnector2/plugins/remote/remotekonnector.desktop
===================================================================
--- kitchensync/libkonnector2/plugins/remote/remotekonnector.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/libkonnector2/plugins/remote/remotekonnector.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -37,7 +37,6 @@
 Name[tg]=Коннектори ҳузфшуда
 Name[tr]=Uzak Konnector Bileşeni
 Name[uk]=Віддалений Konnector
-Name[xx]=xxRemote Konnectorxx
 Name[zh_CN]=远程 Konnector
 Group=Test
 Vendor=KDE Team
Index: kitchensync/libkonnector2/plugins/qtopia/qtopia.desktop
===================================================================
--- kitchensync/libkonnector2/plugins/qtopia/qtopia.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/libkonnector2/plugins/qtopia/qtopia.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -24,7 +24,6 @@
 Name[ta]=Qடோப்பியா இணைப்பான்
 Name[tg]=Коннектор ба Qtopia
 Name[tr]=Qtopia Konnector Bileşeni
-Name[xx]=xxQtopia Konnectorxx
 Group= PDA
 Vendor = Holger 'zecke' Freyther
 Id=Qtopia1.5
Index: kitchensync/libkonnector2/filter.desktop
===================================================================
--- kitchensync/libkonnector2/filter.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/libkonnector2/filter.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -16,6 +16,7 @@
 Comment[hu]=Szűrő a KitchenSync-csatolóhoz
 Comment[is]=Sía fyrir KitchenSync Konnector
 Comment[it]=Filtro per il Konnector KitchenSync
+Comment[ja]=KitchenSync Konnector 用フィルタ
 Comment[lt]=Filtras, skirtas KitchenSync Konnector
 Comment[nb]=Programtillegg for KitchenSync Konnector
 Comment[nl]=Filter voor KitchenSync Konnector
@@ -30,7 +31,6 @@
 Comment[ta]=கிச்சன்கூட்டிணைப்பு இணைப்பானுக்கான அலங்காரம்
 Comment[tr]=KitchenSync Konnector için filtre
 Comment[uk]=Фільтр для KitchenSync Konnector
-Comment[xx]=xxFilter for KitchenSync Konnectorxx
 Comment[zh_CN]=KitchenSync Konnector 的过滤器
 Name=KitchenSyncFilter
 Name[bg]=Филтър за KitchenSync
@@ -41,7 +41,6 @@
 Name[pt_BR]=Filtro KitchenSync
 Name[sv]=Kitchensync-filter
 Name[ta]=கிச்சன்சிங்க் அலங்காரம்
-Name[xx]=xxKitchenSyncFilterxx
 
 [PropertyDef::X-KDE-KitchenSyncFilterType]
 Type=QString
Index: kitchensync/libkonnector2/konnector_manager.desktop
===================================================================
--- kitchensync/libkonnector2/konnector_manager.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/libkonnector2/konnector_manager.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -20,7 +20,6 @@
 Name[ta]=கிச்சன்கூட்டிணைப்பு இணைப்பான்கள்
 Name[tr]=KitchenSync Konnector bileşenleri
 Name[uk]=Конектори KitchenSync
-Name[xx]=xxKitchenSync Konnectorsxx
 Type=Service
 ServiceTypes=KResources/Manager
 
Index: kitchensync/libkonnector2/filters/calendarfilter.desktop
===================================================================
--- kitchensync/libkonnector2/filters/calendarfilter.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/libkonnector2/filters/calendarfilter.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -12,12 +12,15 @@
 Name[cs]=Filtr kalendáře
 Name[da]=Kalenderfilter
 Name[de]=Filter für Kalender
+Name[el]=Φίλτρο ημερολογίου
 Name[es]=Filtro de calendario
 Name[et]=Kalendrifilter
+Name[eu]=Egutegiaren iragazkia
 Name[fr]=Filtre pour le calendrier
 Name[he]=מסנן לוח שנה
 Name[is]=Dagatalssía
 Name[it]=Filtro calendario
+Name[ja]=カレンダーフィルタ
 Name[lt]=Kalendoriaus filtras
 Name[nb]=Kalender filter
 Name[nl]=Agendafilter
@@ -32,7 +35,6 @@
 Name[ta]=நாள்காட்டி அலங்காரம்
 Name[tr]=Takvim Süzgeci
 Name[uk]=Фільтр Календаря
-Name[xx]=xxCalendar Filterxx
 Name[zh_CN]=日历过滤器
 
 Comment=Filters events and todos in a calendar
@@ -40,8 +42,10 @@
 Comment[cs]=Filtruje události a úkoly v knize adres
 Comment[da]=Filtrerer begivenheder og gøremål i en kalender
 Comment[de]=Filtert Ereignisse und Aufgaben in einem Kalender
+Comment[el]=Φιλτράρει γεγονότα και προς υλοποίηση εργασίες σε ένα ημερολόγιο
 Comment[es]=Filtra los eventos y las tareas pendientes de un calendario
 Comment[et]=Kalendri sündmuste ja ülesannete filtreerimine
+Comment[eu]=Egutegian gertaerak eta egitekoak iragazten ditu
 Comment[fr]=Permet de filtrer les évènements et les tâches du calendrier
 Comment[he]=מסנן אירועים ומטלות בלוח השנה
 Comment[is]=Síar atburði og verkþætti í dagatali
@@ -60,5 +64,4 @@
 Comment[ta]=நாட்காட்டியில் செய்திகளையும் செய்யவேண்டியவைகளையும் வடிகட்டுகிறது
 Comment[tr]=Bir takvimdeki olayları ve yapılacakları süzer
 Comment[uk]=Фільтрує події і завдання в календарі
-Comment[xx]=xxFilters events and todos in a calendarxx
 Comment[zh_CN]=过滤日历中的事件和待办
Index: kitchensync/libkonnector2/filters/addressbookfilter.desktop
===================================================================
--- kitchensync/libkonnector2/filters/addressbookfilter.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/libkonnector2/filters/addressbookfilter.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -12,12 +12,15 @@
 Name[cs]=Filtr knihy adres
 Name[da]=Addressebogsfilter
 Name[de]=Filter für Adressbuch
+Name[el]=Φίλτρο του Βιβλίου διευθύνσεων
 Name[es]=Filtro de la libreta de direcciones
 Name[et]=Aadressiraamatu filter
+Name[eu]=Helbide-liburuaren iragazkia
 Name[fr]=Filtre pour le carnet d'adresses
 Name[he]=מסנן פנקס כתובות
 Name[is]=Sía fyrir vistfangaskrá
 Name[it]=Filtro rubrica indirizzi
+Name[ja]=アドレス帳フィルタ
 Name[lt]=Adresų knygelės filtras
 Name[nb]=Filter for adressebok
 Name[nl]=Adresboekfilter
@@ -32,7 +35,6 @@
 Name[ta]=முகவரி புத்தக அலங்காரம்
 Name[tr]=Adres Defteri Süzgeci
 Name[uk]=Фільтр адресної книги
-Name[xx]=xxAddress Book Filterxx
 Name[zh_CN]=地址簿过滤器
 
 Comment=Filters contacts in an address book
@@ -40,12 +42,15 @@
 Comment[cs]=Filtruje kontakty v knize adres
 Comment[da]=Filtrerer kontakter i en adressebog
 Comment[de]=Filtert Kontakte in einem Adressbuch
+Comment[el]=Φιλτράρει τις επαφές ενός βιβλίου διευθύνσεων
 Comment[es]=Filtra los contactos de la libreta de direcciones
 Comment[et]=Kontaktide filtreerimine aadressiraamatus
+Comment[eu]=Helbide-liburuko kontaktuak iragazten ditu
 Comment[fr]=Permet de filtrer les contacts du carnet d'adresses
 Comment[he]=מסנן אנשי קשר בפנקס הכתובות
 Comment[is]=Síar tengiliði í vistfangaskrá
 Comment[it]=Filtra i contatti di una rubrica indirizzi
+Comment[ja]=アドレス帳の連絡先をフィルタ
 Comment[lt]=Filtruoja kontaktus adresų knygelėje
 Comment[nb]=Filtrerer kontakter i en adressebok
 Comment[nl]=Filtert contactpersonen uit een adresboek
@@ -54,11 +59,11 @@
 Comment[pt]=Filtra contactos num livros de endereços
 Comment[pt_BR]=Filtra contatos num livro de endereços
 Comment[ru]=Фильтр контактов адресной книги
+Comment[sl]=Filtrira stike v adresarju
 Comment[sr]=Филтрира контакте у адресару
 Comment[sr@Latn]=Filtrira kontakte u adresaru
 Comment[sv]=Filtrerar kontakter i en adressbok
 Comment[ta]=முகவரிப் புத்தகத்தில் தொடர்புகளை வடிகட்டு
 Comment[tr]=Bir adres defterindeki bağlantıları süzer
 Comment[uk]=Фільтрує контакти в адресній книзі
-Comment[xx]=xxFilters contacts in an address bookxx
 Comment[zh_CN]=过滤地址簿中的联系人
Index: kitchensync/libkonnector2/konnector.desktop
===================================================================
--- kitchensync/libkonnector2/konnector.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kitchensync/libkonnector2/konnector.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -46,7 +46,6 @@
 Comment[uk]=Визначення Konnector
 Comment[ven]=Dzithalutshedzo dza Konnector
 Comment[xh]=Iinkcazelo ze Konnector
-Comment[xx]=xxKonnector Definitionsxx
 Comment[zh_CN]=Konnector 定义
 Comment[zh_TW]=Kontour 定義
 Comment[zu]=Izincazelo ze-Konnector
@@ -59,7 +58,6 @@
 Name[nso]=Mokgomaganyi
 Name[pl]=Łącznik
 Name[ta]=இணைப்பான்
-Name[xx]=xxKonnectorxx
 [PropertyDef::Group]
 Type=QString
 
Index: libkdepim/komposer/plugins/default/defaulteditor.desktop
===================================================================
--- libkdepim/komposer/plugins/default/defaulteditor.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ libkdepim/komposer/plugins/default/defaulteditor.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -32,6 +32,7 @@
 Name[hu]=Komposer szerkesztő
 Name[is]=Komposer ritill
 Name[it]=Editor Komposer
+Name[ja]=Komposer エディタ
 Name[lt]=Komposer redaktorius
 Name[nb]=Komposer-redigering
 Name[nl]=Komposer-editor
@@ -47,7 +48,6 @@
 Name[ta]=கம்போசர் தொகுப்பான்
 Name[tr]=Komposer Düzenleyicisi
 Name[uk]=Редактор Komposer
-Name[xx]=xxKomposer Editorxx
 Name[zh_CN]=Komposer 编辑器
 Comment=Komposer default editor
 Comment[bg]=Подразбиращ се редактор за Komposer
@@ -65,6 +65,7 @@
 Comment[hu]=A Komposer alapértelmezett szerkesztője
 Comment[is]=Sjálfgefinn ritill Komposer
 Comment[it]=Editor di default per Komposer
+Comment[ja]=Komposer 標準エディタ
 Comment[lt]=Komposer numatytasis redaktorius
 Comment[nb]=Komposer standard-redigerer
 Comment[nl]=Komposer standaardeditor
@@ -80,5 +81,4 @@
 Comment[ta]=கம்போசர் முன்னிருப்பு தொகுப்பான்
 Comment[tr]=Öntanımlı Komposer düzenleyicisi
 Comment[uk]=Типовий редактор Komposer
-Comment[xx]=xxKomposer default editorxx
 Comment[zh_CN]=Komposer 默认编辑器
Index: libkdepim/komposer/core/komposerplugin.desktop
===================================================================
--- libkdepim/komposer/core/komposerplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ libkdepim/komposer/core/komposerplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -42,7 +42,6 @@
 Name[tg]=Модули Komposer
 Name[tr]=Komposer Eklentisi
 Name[uk]=Втулок Komposer
-Name[xx]=xxKomposer Pluginxx
 Name[zh_CN]=Komposer 插件
 
 [PropertyDef::X-Komposer-Version]
Index: libkdepim/komposer/core/komposerconfig.desktop
===================================================================
--- libkdepim/komposer/core/komposerconfig.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ libkdepim/komposer/core/komposerconfig.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -16,7 +16,6 @@
 Name[hi]=कम्पोज़र
 Name[pt]=Kompositor
 Name[ta]=கம்போசர்
-Name[xx]=xxKomposerxx
 Comment=KDE Komposer
 Comment[bg]=Писане на форматиран текст
 Comment[br]=Komposer KDE
@@ -34,7 +33,6 @@
 Comment[ru]=Композитор KDE
 Comment[ta]=கேடிஇ கம்போசர்
 Comment[tg]=Композитори KDE
-Comment[xx]=xxKDE Komposerxx
 Keywords=komposer
 Keywords[bg]=редактор, съставител, форматиране, текст, komposer
 Keywords[ca]=compositor
@@ -49,4 +47,3 @@
 Keywords[sr@Latn]=komposer,sastavljač
 Keywords[ta]=கம்போசர்
 Keywords[tg]=komposer,нотаҳо
-Keywords[xx]=xxkomposerxx
Index: libkdepim/komposer/core/komposereditor.desktop
===================================================================
--- libkdepim/komposer/core/komposereditor.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ libkdepim/komposer/core/komposereditor.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -39,7 +39,6 @@
 Comment[tg]=Муҳаррири Komposer
 Comment[tr]=Komposer Düzenleyicisi
 Comment[uk]=Редактор Komposer
-Comment[xx]=xxKomposer Editorxx
 Comment[zh_CN]=Komposer 编辑器
 
 [PropertyDef::X-Komposer-Weight]
Index: libkdepim/addresseelineedit.cpp
===================================================================
--- libkdepim/addresseelineedit.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ libkdepim/addresseelineedit.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -805,7 +805,7 @@
   if ( ( obj == this ) &&
      ( e->type() == QEvent::AccelOverride ) ) {
     QKeyEvent *ke = static_cast<QKeyEvent*>( e );
-    if ( ke->key() == Key_Up || ke->key() == Key_Down ) {
+    if ( ke->key() == Key_Up || ke->key() == Key_Down || ke->key() == Key_Tab ) {
       ke->accept();
       return true;
     }
@@ -834,7 +834,7 @@
         }
         return true;
       }
-    } else if ( ke->key() == Key_Down ) {
+    } else if ( ke->key() == Key_Down || ke->key() == Key_Tab ) {
       // same strategy for downwards
       //kdDebug() << "EVENTFILTER: Key_Down. currentIndex=" << currentIndex << endl;
       QListBoxItem *itemBelow = completionBox()->item( currentIndex + 1 );
Index: libkcal/localdir.desktop
===================================================================
--- libkcal/localdir.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ libkcal/localdir.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -40,7 +40,6 @@
 Name[tg]=Тақвимот дар каталоги локалӣ
 Name[tr]=Yerel Dizindeki Takvim
 Name[uk]=Календар у локальному каталозі
-Name[xx]=xxCalendar in Local Directoryxx
 Name[zh_CN]=本地目录中的日历
 X-KDE-Library=kcal_localdir
 Type=Service
Index: libkcal/local.desktop
===================================================================
--- libkcal/local.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ libkcal/local.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -40,7 +40,6 @@
 Name[tg]=Тақвимот дар файли локалӣ
 Name[tr]=Yerel Dosyadaki Takvim
 Name[uk]=Календар у локальному файлі
-Name[xx]=xxCalendar in Local Filexx
 Name[zh_CN]=本地文件中的日历
 X-KDE-Library=kcal_local
 Type=Service
Index: libkcal/kcal_manager.desktop
===================================================================
--- libkcal/kcal_manager.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ libkcal/kcal_manager.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -44,7 +44,6 @@
 Name[tr]=Takvim
 Name[uk]=Календар
 Name[uz]=Календар
-Name[xx]=xxCalendarxx
 Name[zh_CN]=日历
 Type=Service
 ServiceTypes=KResources/Manager
Index: libkcal/icalformatimpl.cpp
===================================================================
--- libkcal/icalformatimpl.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ libkcal/icalformatimpl.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -804,7 +804,7 @@
       QStringList attachments = alarm->mailAttachments();
       if (attachments.count() > 0) {
         for (QStringList::Iterator at = attachments.begin();  at != attachments.end();  ++at) {
-          icalattach_new_from_url(QFile::encodeName( *at ).data());
+          attach = icalattach_new_from_url(QFile::encodeName( *at ).data());
           icalcomponent_add_property(a,icalproperty_new_attach(attach));
         }
       }
Index: libkcal/htmlexport.cpp
===================================================================
--- libkcal/htmlexport.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ libkcal/htmlexport.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -223,6 +223,10 @@
   *ts << "    <th class=\"sum\">" << i18n("Start Time") << "</th>\n";
   *ts << "    <th>" << i18n("End Time") << "</th>\n";
   *ts << "    <th>" << i18n("Event") << "</th>\n";
+  if ( mSettings->eventLocation() ) {
+    *ts << "    <th>" << i18n("Location") << "</th>\n";
+    ++columns;
+  }
   if ( mSettings->eventCategories() ) {
     *ts << "    <th>" << i18n("Categories") << "</th>\n";
     ++columns;
@@ -285,6 +289,12 @@
   }
   *ts << "    </td>\n";
 
+  if ( mSettings->eventLocation() ) {
+    *ts << "  <td>\n";
+    formatLocation( ts, event );
+    *ts << "  </td>\n";
+  }
+
   if ( mSettings->eventCategories() ) {
     *ts << "  <td>\n";
     formatCategories( ts, event );
@@ -346,6 +356,10 @@
     *ts << "    <th>" << i18n("Due Date") << "</th>\n";
     ++columns;
   }
+  if ( mSettings->taskLocation() ) {
+    *ts << "    <th>" << i18n("Location") << "</th>\n";
+    ++columns;
+  }
   if ( mSettings->taskCategories() ) {
     *ts << "    <th>" << i18n("Categories") << "</th>\n";
     ++columns;
@@ -451,6 +465,14 @@
     *ts << "  </td>\n";
   }
 
+  if ( mSettings->taskLocation() ) {
+    *ts << "  <td";
+    if (completed) *ts << " class=\"done\"";
+    *ts << ">\n";
+    formatLocation(ts,todo);
+    *ts << "  </td>\n";
+  }
+
   if ( mSettings->taskCategories() ) {
     *ts << "  <td";
     if (completed) *ts << " class=\"done\"";
@@ -502,6 +524,15 @@
   return false;
 }
 
+void HtmlExport::formatLocation (QTextStream *ts,Incidence *event)
+{
+  if (!event->location().isEmpty()) {
+    *ts << "    " << cleanChars(event->location()) << "\n";
+  } else {
+    *ts << "    &nbsp;\n";
+  }
+}
+
 void HtmlExport::formatCategories (QTextStream *ts,Incidence *event)
 {
   if (!event->categoriesStr().isEmpty()) {
Index: libkcal/htmlexportsettings.kcfg
===================================================================
--- libkcal/htmlexportsettings.kcfg	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ libkcal/htmlexportsettings.kcfg	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -78,6 +78,10 @@
       <default code="true">i18n("Calendar")</default>
     </entry>
 
+    <entry type="Bool" name="EventLocation" key="Export Location">
+      <label>Export location of the events</label>
+      <default>true</default>
+    </entry>
     <entry type="Bool" name="EventCategories" key="Export Categories">
       <label>Export categories of the events</label>
       <default>true</default>
@@ -103,6 +107,10 @@
       <label>Export due dates of the to-dos</label>
       <default>true</default>
     </entry>
+    <entry type="Bool" name="TaskLocation" key="Export Location">
+      <label>Export location of the to-dos</label>
+      <default>true</default>
+    </entry>
     <entry type="Bool" name="TaskCategories" key="Export Categories">
       <label>Export categories of the to-dos</label>
       <default>true</default>
Index: libkcal/htmlexport.h
===================================================================
--- libkcal/htmlexport.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ libkcal/htmlexport.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -69,17 +69,18 @@
     void createFreeBusyView( QTextStream *ts );
 
     void createTodo( QTextStream *ts, Todo *todo);
-    void createEvent( QTextStream *ts, Event *event, QDate date, 
+    void createEvent( QTextStream *ts, Event *event, QDate date,
                       bool withDescription = true);
     void createFooter( QTextStream *ts );
 
     bool checkSecrecy( Incidence * );
 
+    void formatLocation( QTextStream *ts, Incidence *event );
     void formatCategories( QTextStream *ts, Incidence *event );
     void formatAttendees( QTextStream *ts, Incidence *event );
- 
+
     QString breakString( const QString &text );
-    
+
     QDate fromDate() const;
     QDate toDate() const;
     QString styleSheet() const;
Index: libkcal/incidence.cpp
===================================================================
--- libkcal/incidence.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ libkcal/incidence.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -668,7 +668,7 @@
 QString Incidence::statusName(Incidence::Status status)
 {
   switch (status) {
-    case StatusTentative:    return i18n("Tentative");
+    case StatusTentative:    return i18n("incidence status", "Tentative");
     case StatusConfirmed:    return i18n("Confirmed");
     case StatusCompleted:    return i18n("Completed");
     case StatusNeedsAction:  return i18n("Needs-Action");
Index: libkcal/attendee.cpp
===================================================================
--- libkcal/attendee.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ libkcal/attendee.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -80,7 +80,7 @@
       return i18n("Declined");
       break;
     case Tentative:
-      return i18n("Tentative");
+      return i18n("attendee status", "Tentative");
       break;
     case Delegated:
       return i18n("Delegated");
Index: kpilot/conduits/sysinfoconduit/sysinfo_conduit.desktop
===================================================================
--- kpilot/conduits/sysinfoconduit/sysinfo_conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/conduits/sysinfoconduit/sysinfo_conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -36,7 +36,6 @@
 Comment[tg]=Канали таҳвили иттилооти системавӣ аз Pilot ва қайдкунӣ ба файл
 Comment[tr]=Bu bileşen, el bilgisayarınızın bilgilerini bir dosyaya yazar.
 Comment[uk]=Цей акведук записує інформацію про кишеньковий пристрій і синхронізацію у файл.
-Comment[xx]=xxThis conduit writes information about your handheld and the sync to a file.xx
 Comment[zh_CN]=此管道写入您手持设备的信息，并同步至一文件。
 Name=System Information
 Name[be]=Сыстэмная інфармацыя
@@ -80,7 +79,6 @@
 Name[tr]=Sistem Bilgisi
 Name[uk]=Системна інформація
 Name[uz]=Тизим ҳақида маълумот
-Name[xx]=xxSystem Informationxx
 Name[zh_CN]=系统信息
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/notepadconduit/notepad-conduit.desktop
===================================================================
--- kpilot/conduits/notepadconduit/notepad-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/conduits/notepadconduit/notepad-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -17,7 +17,6 @@
 Name[sv]=Anteckningar
 Name[ta]=நோட்பேட்
 Name[tg]=Эзоҳот
-Name[xx]=xxNotePadxx
 Name[zh_CN]=记事本
 Comment=This conduit backs up NotePad drawings to a local folder.
 Comment[bg]=Създаване на архивни копия на изображенията създадени с NotePad в локална директория.
@@ -32,6 +31,7 @@
 Comment[hu]=Bővítőmodul NotePad-rajzok helyi könyvtárba való lementéséhez.
 Comment[is]=Þessi rás afritar NotePad teikningar í staðbundna möppu.
 Comment[it]=Questo conduit archivia i disegni NotePad drawings in una cartella locale.
+Comment[ja]=このコンジットは NotePad の絵をローカルのフォルダにバックアップする。
 Comment[lt]=Šis kanalas padaro NotePad piešinių atsargines kopijas į vietinį aplanką.
 Comment[nb]=Denne kanalen tar sikkerhetskopi av NotePad tegninger til en lokal mappe.
 Comment[nl]=Dit conduit maakt een backup van de notitie-aantekeningen naar een lokale map.
@@ -46,7 +46,6 @@
 Comment[ta]=இது நோட்பேடின் வரைபடங்களை உள்ளடைவுக்கு சேமிக்கிறது
 Comment[tr]=Bu bileşen, NotePad çizimlerini yerel bir dosyaya aktarır veya alır.
 Comment[uk]=Цей акведук створює резервну копію нотаток у локальній теці.
-Comment[xx]=xxThis conduit backs up NotePad drawings to a local folder.xx
 Comment[zh_CN]=此管道将记事本的绘图保存到本地文件夹。
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/memofileconduit/memofile-conduit.desktop
===================================================================
--- kpilot/conduits/memofileconduit/memofile-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/conduits/memofileconduit/memofile-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -14,6 +14,7 @@
 Name[hu]=Memófájl
 Name[is]=Minnismiðaskrá
 Name[it]=File appunti
+Name[ja]=メモファイル
 Name[lt]=Memo byla
 Name[nb]=Notatfil
 Name[nl]=Memobestand
@@ -27,7 +28,6 @@
 Name[ta]=மெமோ கோப்பு
 Name[tr]=Hatırlatma Dosyası
 Name[uk]=Файл примітки
-Name[xx]=xxMemo Filexx
 Name[zh_CN]=备忘文件
 Comment=This conduit syncs your handheld memos with a local directory.
 Comment[bg]=Синхронизация на бележките на КДЕ с мобилни устройства.
@@ -42,6 +42,7 @@
 Comment[hu]=Ezzel a csatolóval egy kézi számítógép memóit lehet szinkronizálni a helyi címjegyzékkel.
 Comment[is]=Þessi rás samstillir minnismiða lófatölvunnar þinnar við staðbundna möppu.
 Comment[it]=Questo condotto sincronizza gli appunti del tuo palmare con una cartella locale.
+Comment[ja]=このコンジットはハンドヘルドのメモとローカルのディレクトリを同期させます。
 Comment[lt]=Šis kanalas sinchronizuoja Jūsų užrašus su vietiniu aplanku.
 Comment[nb]=Denne kanalen synkroniserer PDA-ens notater med en lokal mappe.
 Comment[nl]=Dit conduit synchroniseert de memo's van uw handheld met een lokale map.
@@ -56,7 +57,6 @@
 Comment[ta]=இந்த குழாய் கையில் உள்ள முகவரிப்புத்தகத்தை கேடிஇயின் முகவரிப்புத்தகத்தோடு ஒத்திசைக்கிறது
 Comment[tr]=Bu bileşen el bilgisayarı hatırlatmalarını yerel bir dosyaya aktarır veya alır.
 Comment[uk]=Цей акведук синхронізує примітки кишенькового пристрою з локальним каталогом.
-Comment[xx]=xxThis conduit syncs your handheld memos with a local directory.xx
 Comment[zh_CN]=此管道会将您手持设备中的备忘与本地目录同步。
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/timeconduit/time_conduit.desktop
===================================================================
--- kpilot/conduits/timeconduit/time_conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/conduits/timeconduit/time_conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -36,7 +36,6 @@
 Comment[tg]=Канали синзронизатсияи муддат
 Comment[tr]=Bu bileşen, el bilgisayarınızın saatini PC saatine bakarak ayarlar.
 Comment[uk]=Цей акведук синхронізує час у кишеньковому пристрої з часом комп'ютера.
-Comment[xx]=xxThis conduit sets the time on your handheld from the PC clock.xx
 Comment[zh_CN]=此管道把您手持设备的时间与电脑同步。
 Name=Time Synchronization
 Name[be]=Сынхранізацыя часу
@@ -77,7 +76,6 @@
 Name[tg]=Синхронизатсияи муддат
 Name[tr]=Zaman Senkronizasyonu
 Name[uk]=Синхронізація часу
-Name[xx]=xxTime Synchronizationxx
 Name[zh_CN]=时间同步
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/perlconduit/perl-conduit.desktop
===================================================================
--- kpilot/conduits/perlconduit/perl-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/conduits/perlconduit/perl-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -36,7 +36,6 @@
 Name[tg]=Perl (намуна)
 Name[tr]=Perl (Örnek)
 Name[uk]=Perl (зразок)
-Name[xx]=xxPerl (Sample)xx
 Name[zh_CN]=Perl (例子)
 Comment=This sample conduit runs a Perl interpreter.
 Comment[bg]=Пример за изпълнение на интерпретатора на Perl
@@ -71,7 +70,6 @@
 Comment[tg]=Канали ба кор андозии ҳуруфотҳои Perl.
 Comment[tr]=Bu bileşen, bir Perl yorumlayıcısını çalıştırır.
 Comment[uk]=Цей акведук запускає інтерпретатор Perl.
-Comment[xx]=xxThis sample conduit runs a Perl interpreter.xx
 Comment[zh_CN]=此示例管道运行 Perl 解释器。
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/docconduit/kpalmdoc.desktop
===================================================================
--- kpilot/conduits/docconduit/kpalmdoc.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/conduits/docconduit/kpalmdoc.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -5,7 +5,6 @@
 Name[hi]=के-पॉम-डॉक
 Name[sv]=Kpalm DOC
 Name[ta]=கேகைdoc
-Name[xx]=xxKPalmDOCxx
 GenericName=PalmDOC Converter
 GenericName[bg]=Конвертиране на PalmDOC
 GenericName[bs]=PalmDOC konverter
@@ -45,7 +44,6 @@
 GenericName[tg]=Конвертёри PalmDOC
 GenericName[tr]=PalmDOC Çevirici
 GenericName[uk]=Перетворювач PalmDOC
-GenericName[xx]=xxPalmDOC Converterxx
 GenericName[zh_CN]=PalmDOC 转换器
 Exec=kpalmdoc
 Icon=kpalmdoc
Index: kpilot/conduits/docconduit/doc_conduit.desktop
===================================================================
--- kpilot/conduits/docconduit/doc_conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/conduits/docconduit/doc_conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -15,6 +15,7 @@
 Comment[hu]=Szöveges fájlok hozzáadása a kézi számítógéphez, DOC-olvasók számára.
 Comment[is]=Bætir textaskrám, sem hægt er að lesa í DOC lesara, við lófatölvuna þína.
 Comment[it]=Aggiunge file di testo al tuo Pilot, adatti per lettori DOC.
+Comment[ja]=テキストファイルを DOC リーダに適した形式でハンドヘルドに追加する。
 Comment[lt]=Prideda teksto bylas prie Jūsų nešiojamos knygelės, tinka DOC skaityklėms.
 Comment[nb]=Legger til tekstfiler på PDA-en, som passer for DOC-lesere.
 Comment[nl]=Voegt tekstvelden toe aan uw handheld, geschikt voor DOC-lezers.
@@ -30,7 +31,6 @@
 Comment[ta]=DOC  படிப்பவர்களுக்கு பொருத்தமான உங்கள் பைலட்டுக்குரிய உரை கோப்புகளை சேர்க்கும்
 Comment[tr]=Metin dosyalarını el bilgisayarınıza ekler, DOC biçimi okuyucuları için uygundur.
 Comment[uk]=Додає текстові файли до вашого кишенькового пристрою так, що вони читатимуться у переглядачах DOC.
-Comment[xx]=xxAdds text files to your handheld, suitable for DOC readers.xx
 Comment[zh_CN]=将文本文件添加到您的手持设备中，以便适合 DOC 阅读程序。
 Name=Palm DOC
 Name[ca]=DOC de Palm
@@ -39,7 +39,6 @@
 Name[hi]=पॉम डॉक
 Name[pt]=DOC do Palm
 Name[ta]=பாம் ஆவணம்
-Name[xx]=xxPalm DOCxx
 Implemented=file
 ServiceTypes=KPilotConduit
 X-KDE-Library=conduit_doc
Index: kpilot/conduits/malconduit/mal_conduit.desktop
===================================================================
--- kpilot/conduits/malconduit/mal_conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/conduits/malconduit/mal_conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -39,7 +39,6 @@
 Name[tg]=Канали MAL (AvantGo)
 Name[tr]=MAL (AvantGo) Kanalı
 Name[uk]=Акведук MAL (AvantGo)
-Name[xx]=xxMAL (AvantGo) Conduitxx
 Name[zh_CN]=MAL (AvantGo) 管道
 Comment=Syncronize AvantGo (or generally a MAL server's content) to the handheld. This allows you to view web-pages offline on the handheld, like your cinema or TV schedule, or any other web page.
 Comment[bg]=Синхронизиране на AvantGo към мобилно устройство. Тази приставка Ви позволява да разглеждате уеб страници без връзка с Мрежата.
@@ -55,6 +54,7 @@
 Comment[hu]=AvantGo (vagy MAL-kiszolgáló) adatainak szinkronizálása a kézi számítógéppel. Lehetővé teszi weboldalak offline módban való megtekintését, például a mozi- vagy tévéműsort, vagy bármi mást.
 Comment[is]=Samstillir AvantGo (eða venjulega innihald MAL þjóns) við lófatölvuna. Þetta gerir þér kleyft að skoða vefsíður þegar þú ert ótengd(ur) vefnum, t.d. kvikmynda eða sjónvarpsdagskrá.
 Comment[it]=Sincronizza AvantGo (o il contenuto di un generico server MAL) con il palmare. In questo modo potrai visualizzare le pagine web offline sul palmare come per esempio la programmazione di un cinema o una TV o qualsiasi altra pagina web.
+Comment[ja]=AvantGo (又は一般に MAL サーバのコンテンツ) をハンドヘルドと同期させる。これにより、ハンドヘルドで、映画や TV 番組表や他のウェブページのようなウェブページをオフラインで閲覧可能になる。
 Comment[lt]=Sinchronizuoti AvantGo (ar MAL serverio turinį apskritai) su nešiojamu įrenginiu. Tai leis jums peržiūrėti žiniatinklio puslapius nešiojamame įrenginyje, tokius kaip kino teatro ar TV programas, bei bet kokį kitą puslapį, neprisijungus prie Interneto.
 Comment[nb]=Synkroniser AvantGo (eller generelt innholdet i en MAL-tjener) til PDA-en. På denne måten kan du se nettsider frakoblet på PDA-en. slik som TV-programlister, kinoprogrammer eller andre nettsider.
 Comment[nl]=Avantgo met de handheld synchroniseren (of eigenlijk met de inhoud van een MAL-server). Dit maakt het mogelijk om een webpagina offline op uw handheld te bekijken. Dit is handig voor allerlei zaken als bijvoorbeeld de TV-gids.
@@ -69,7 +69,6 @@
 Comment[ta]=AvantGoஐ கையில் வைத்திருப்பதில் கூட்டிணைக்கவும் (அல்லது ஒரு MAL சேவகனின் உள்ளடக்கத்திற்கு). இதன்மூலம் கையில் இருப்பதிலேயே  வலைப்பக்கங்களை பார்க்கலாம், அதாவது சினிமா, தொலைக்காட்டி அட்டவ்ணை, அல்லது ஏதாவது ஒரு வலைப்பக்கம்.
 Comment[tr]=AvantGo içeriğini (ya da genel olarak MAL sunucuları içeriğini) el bilgisayarı ile birleştirir. Bu, web sayfalarını el bilgisayarınızda çevirim dışı olarak görüntülemenizi sağlar.
 Comment[uk]=Синхронізація AvantGo (або вміст серверів MAL) на кишеньковий пристрій . Це дозволяє переглядати веб-сторінки на кишеньковому пристрої без з'єднання з Інтернетом.
-Comment[xx]=xxSyncronize AvantGo (or generally a MAL server's content) to the handheld. This allows you to view web-pages offline on the handheld, like your cinema or TV schedule, or any other web page.xx
 Comment[zh_CN]=将 AvantGo(或 MAL 服务器的内容)同步到手持设备中。这允许您在手持设备中脱机查看 Web 页，比如影讯、电视节目时间表或任何其它网页。
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/popmail/popmail-conduit.desktop
===================================================================
--- kpilot/conduits/popmail/popmail-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/conduits/popmail/popmail-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -15,6 +15,7 @@
 Comment[hu]=Ezzel a csatolóval kézi számítógépről lehet levelet küldeni a KMailen keresztül.
 Comment[is]=Sendu tölvupóst frá lófatölvunni þinni gegnum KMail.
 Comment[it]=Invia la posta dal tuo palmare tramite KMail.
+Comment[ja]=KMail 経由ハンドヘルドからメールを送信
 Comment[lt]=Siųsti paštą iš nešiojamo įrenginio per KMail.
 Comment[nb]=Send e-post fra PDA-en gjennom KMail.
 Comment[nl]=Dit conduit verzendt mail van uw handheld met behulp van KMail.
@@ -29,7 +30,6 @@
 Comment[ta]=இந்த காப்புக்குழாய் உங்கள் கையேட்டில் இருந்து தேதி புத்தகத்தை கேஅமைபாளருக்கு ஒத்திசைக்கிறது
 Comment[tr]=El bilgisayarınızdan KMail aracılığı ile e-posta gönderir.
 Comment[uk]=Відсилання пошти з кишенькового пристрою через KMail.
-Comment[xx]=xxSend mail from your handheld through KMail.xx
 Comment[zh_CN]=通过 KMail 从您的手持设备发送邮件。
 Name=Mail
 Name[be]=Пошта
@@ -74,7 +74,6 @@
 Name[tr]=Posta
 Name[uk]=Пошта
 Name[uz]=Хат-хабар
-Name[xx]=xxMailxx
 Name[zh_CN]=邮件
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/knotes/knotes-conduit.desktop
===================================================================
--- kpilot/conduits/knotes/knotes-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/conduits/knotes/knotes-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -38,7 +38,6 @@
 Comment[tg]=Канали синхронизатсияи қайдоти Pilot ва KDE.
 Comment[tr]=Bu kanal KNotes ile el bilgisayarınızı senkronize etmenize olanak sağlar
 Comment[uk]=Цей акведук синхронізує Memo Pad з тижневиком KNotes.
-Comment[xx]=xxThis conduit syncs the Memo Pad application with KNotes.xx
 Comment[zh_CN]=此管道将会将您的备忘程序与 KNotes 同步。
 Name=KNotes / Memos
 Name[be]=K Нататкі
@@ -68,7 +67,6 @@
 Name[ta]=கேகுறிப்புகள்/குறிப்பாணைகள்
 Name[tg]=KNotes / Қайдот
 Name[tr]=KNotlar / Hatırlatmalar
-Name[xx]=xxKNotes / Memosxx
 Name[zh_CN]=KNotes / 备忘
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/pythonconduit/python-conduit.desktop
===================================================================
--- kpilot/conduits/pythonconduit/python-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/conduits/pythonconduit/python-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -36,7 +36,6 @@
 Name[tg]=Python (намуна)
 Name[tr]=Python (Örnek)
 Name[uk]=Python (зразок)
-Name[xx]=xxPython (Sample)xx
 Name[zh_CN]=Python (例子)
 Comment=This sample conduit runs a Python interpreter.
 Comment[bg]=Пример за изпълнение на интерпретатора на Python
@@ -71,7 +70,6 @@
 Comment[tg]=Канали ба кор андозии ҳуруфотҳои Python
 Comment[tr]=Bu bileşen, bir Python yorumlayıcısını çalıştırır.
 Comment[uk]=Цей акведук запускає інтерпретатор Python.
-Comment[xx]=xxThis sample conduit runs a Python interpreter.xx
 Comment[zh_CN]=此示例管道运行 Python 解释器。
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/null/null-conduit.desktop
===================================================================
--- kpilot/conduits/null/null-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/conduits/null/null-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -7,7 +7,6 @@
 Name[sk]=NIČ
 Name[ta]=வெற்று மதிப்பு
 Name[tr]=BOŞ
-Name[xx]=xxNULLxx
 Comment=This conduit does nothing.
 Comment[bg]=Това нещо прави нищо
 Comment[bs]=Ovaj conduit ne radi ništa.
@@ -45,7 +44,6 @@
 Comment[tg]=Канале, ки дар ҳолати шурӯъ нест.
 Comment[tr]=Bu kanal herhangi bir işlem yapmaz.
 Comment[uk]=Цей акведук нічого не робить.
-Comment[xx]=xxThis conduit does nothing.xx
 Comment[zh_CN]=此管道不做任何事。
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/vcalconduit/todo-conduit.desktop
===================================================================
--- kpilot/conduits/vcalconduit/todo-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/conduits/vcalconduit/todo-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -9,7 +9,7 @@
 Comment[cy]=Mae'r cwndid yma yn cydamseru'r rhestr I-Wneud o'ch llawiadur i KTrefnydd.
 Comment[da]=Denne conduit synkroniserer din gøremålsliste fra din håndholdte til KOrganizer.
 Comment[de]=Abgleich der Aufgabenlisten von Taschencomputer und KOrganizer
-Comment[el]=Αυτός ο σύνδεσμος συγχρονίζει τη λίστα προς-υλοποίηση από τον υπολογιστή παλάμης σας στο KOrganizer.
+Comment[el]=Αυτός ο σύνδεσμος συγχρονίζει τη λίστα προς υλοποίηση από τον υπολογιστή παλάμης σας στο KOrganizer.
 Comment[es]=Este conducto sincroniza la lista de tareas pendientes de su agenda electrónica con KOrganizer.
 Comment[et]=See kanal sünkroniseerib pihuarvuti ja KOrganizeri ülesannete nimekirja.
 Comment[eu]=Kanal honek zure agenda elektronikoko egitekoen zerrenda KOrganizer-era sinkronizatzen du.
@@ -36,7 +36,6 @@
 Comment[tg]=Канали синхронизатсияи рӯйхати вазифоти Pilot ва органайзери KDE.
 Comment[tr]=Bu bileşen el bilgisayarınızdaki Yapılacaklar Listesini KOrganizer ile birleştirir.
 Comment[uk]=Цей акведук синхронізує список завдань кишенькового пристрою з тижневиком KOrganizer.
-Comment[xx]=xxThis conduit syncs the ToDo list from your handheld to KOrganizer.xx
 Comment[zh_CN]=此管道会将您的待办列表与 KOrganizer 同步。
 Name=ToDos (KOrganizer)
 Name[be]=Заданьні (K Арганізатар)
@@ -45,7 +44,7 @@
 Name[cs]=Úkoly (KOrganizer)
 Name[da]=Gøremål (KOrganizer)
 Name[de]=Aufgaben (KOrganizer)
-Name[el]=Προς υλοποίηση (KOrganizer)
+Name[el]=Προς υλοποίηση εργασίες (KOrganizer)
 Name[es]=Tareas pendientes (KOrganizer)
 Name[et]=Ülesanded (KOrganizer)
 Name[eu]=Egitekoak (KOrganizer)
@@ -73,7 +72,6 @@
 Name[tg]=Вазифот (KOrganizer)
 Name[tr]=Yapılacaklar (KOrganizer)
 Name[uk]=Завдання (KOrganizer)
-Name[xx]=xxToDos (KOrganizer)xx
 Name[zh_CN]=待办事项 (KOrganizer)
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/vcalconduit/vcal-conduit.desktop
===================================================================
--- kpilot/conduits/vcalconduit/vcal-conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/conduits/vcalconduit/vcal-conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -38,7 +38,6 @@
 Name[tg]=Тақвимот (KOrganizer)
 Name[tr]=Takvim (KOrganizer)
 Name[uk]=Календар (KOrganizer)
-Name[xx]=xxCalendar (KOrganizer)xx
 Name[zh_CN]=日历 (KOrganizer)
 Comment=This conduit synchronizes your handheld with the KOrganizer datebook.
 Comment[bg]=Синхронизация на календара на мобилно устройство с организатора в КДЕ.
@@ -55,6 +54,7 @@
 Comment[hu]=Ezzel a csatolóval szinkronizálhatók a kézi számítógép és a KOrganizer dátumai.
 Comment[is]=Þessi rás samstillir lófatölvuna þína við dagbók KOrganizer.
 Comment[it]=Questo conduit sincronizza il tuo palmare con il calendario di KOrganizer.
+Comment[ja]=このコンジットはハンドヘルドと KOrganizer のデータブックを同期させます。
 Comment[nb]=Denne kanalen synkroniserer PDA-en med KOrganizers almanakk.
 Comment[nl]=Dit conduit synchroniseert uw handheld met KOrganizer's datumboek.
 Comment[pl]=Ten łącznik synchronizuje palmtopa z terminarzem KOrganizera.
@@ -68,7 +68,6 @@
 Comment[ta]=இந்த குழாய் உங்கள் பைலட்டை கேஅமைப்பாளர் தேதிபுத்தகத்துடன் ஒத்திசைக்கிறது
 Comment[tr]=Bu bileşen el bilgisayarınızı KOrganizer'daki randevu defteriyle senkronize eder.
 Comment[uk]=Цей акведук синхронізує ваш кишеньковий пристрій з тижневиком KOrganizer.
-Comment[xx]=xxThis conduit synchronizes your handheld with the KOrganizer datebook.xx
 Comment[zh_CN]=此管道会将您的手持设备与 KOrganizer 的日程安排同步。
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/conduits/abbrowserconduit/abbrowser_conduit.desktop
===================================================================
--- kpilot/conduits/abbrowserconduit/abbrowser_conduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/conduits/abbrowserconduit/abbrowser_conduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -37,7 +37,6 @@
 Comment[tg]=Канали синхронизатсияи китоби адресии Pilot ва KDE.
 Comment[tr]=Bu bileşen el bilgisayarı adres defteri ile KDE'ninkini birleştirir.
 Comment[uk]=Цей акведук синхронізує адресну книгу кишенькового пристрою з адресною книгою KDE.
-Comment[xx]=xxThis conduit syncs the handheld addressbook with KDE's addressbook.xx
 Comment[zh_CN]=此管道会将您的手持设备与 KDE 的地址簿同步。
 Name=Addressbook
 Name[ar]=دفتر العناوين
@@ -85,7 +84,6 @@
 Name[tr]=Adresdefteri
 Name[uk]=Адресна книга
 Name[uz]=Манзиллар дафтари
-Name[xx]=xxAddressbookxx
 Name[zh_CN]=地址簿
 Implemented=file
 ServiceTypes=KPilotConduit
Index: kpilot/kpilot/kpilot_config.desktop
===================================================================
--- kpilot/kpilot/kpilot_config.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/kpilot/kpilot_config.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -48,7 +48,6 @@
 Name[tg]=Танзимоти KPilot
 Name[tr]=KPilot Yapılandırması
 Name[uk]=Налаштування KPilot
-Name[xx]=xxKPilot Configurationxx
 Name[zh_CN]=KPilot 配置
 Comment=KPilot Main Configuration
 Comment[bg]=Главни настройки на KPilot
@@ -85,7 +84,6 @@
 Comment[tg]=Параметрҳои умумии KPilot
 Comment[tr]=KPilot Ana Yapılandırması
 Comment[uk]=Загальні параметри KPilot
-Comment[xx]=xxKPilot Main Configurationxx
 Comment[zh_CN]=KPilot 主要配置
 Keywords=kpilot,main
 Keywords[bg]=главни, настройки, мобилен, мобилни, устройство, устройства, kpilot, main
@@ -121,5 +119,4 @@
 Keywords[ta]=கேபைலட்,முக்கிய
 Keywords[tg]=kpilot,main,умумӣ,танзимот
 Keywords[tr]=kpilot,ana
-Keywords[xx]=xxkpilot,mainxx
 Keywords[zh_CN]=kpilot,main,主要
Index: kpilot/kpilot/kpilot.desktop
===================================================================
--- kpilot/kpilot/kpilot.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/kpilot/kpilot.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -11,7 +11,6 @@
 Name[sv]=Kpilot
 Name[ta]=கேபைலட்
 Name[ven]=Mufhufhisi wa K
-Name[xx]=xxKPilotxx
 Name[zu]=KUmshayeli webhanoyi
 GenericName=PalmPilot Tool
 GenericName[af]=Palmpilot Program
@@ -67,7 +66,6 @@
 GenericName[ven]=Tshishimuswa tsha mureili wa palm
 GenericName[vi]=Công cụ PalmPilot
 GenericName[xh]=Isixhobo se PalmPilot
-GenericName[xx]=xxPalmPilot Toolxx
 GenericName[zh_CN]=PalmPilot 工具
 GenericName[zh_TW]=PalmPilot 工具
 GenericName[zu]=Ithuluzi lesandla soMshayeli webhanoyi
Index: kpilot/kpilot/kpilotconduit.desktop
===================================================================
--- kpilot/kpilot/kpilotconduit.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/kpilot/kpilotconduit.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -51,6 +51,5 @@
 Comment[uk]=Акведук KPilot
 Comment[ven]=Conduit ya mureili wa K
 Comment[vi]=Truyền dẫn KPilot 
-Comment[xx]=xxKPilot Conduitxx
 Comment[zh_CN]=KPilot 管道
 Comment[zu]=KUmshayeli webhanoyi Conduit
Index: kpilot/kpilot/kpilotdaemon.desktop
===================================================================
--- kpilot/kpilot/kpilotdaemon.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kpilot/kpilot/kpilotdaemon.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -31,7 +31,6 @@
 Name[ta]=கேபைலட் டெமன்
 Name[tg]=Демони KPilot
 Name[ven]=Daemon ya Mureili wa K
-Name[xx]=xxKPilotDaemonxx
 Name[zu]=KUmshayeli webhanoyi Daemon
 Exec=kpilotDaemon
 NoDisplay=true
Index: knotes/knote.cpp
===================================================================
--- knotes/knote.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ knotes/knote.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -622,9 +622,11 @@
     actionCollection()->action( "insert_date" )->setEnabled( !readOnly );
     actionCollection()->action( "delete_note" )->setEnabled( !readOnly );
 
-    // TODO: replace the menu
+    actionCollection()->action( "edit_undo" )->setEnabled( !readOnly && m_editor->isUndoAvailable() );
+    actionCollection()->action( "edit_redo" )->setEnabled( !readOnly && m_editor->isRedoAvailable() );
+    actionCollection()->action( "edit_cut" )->setEnabled( !readOnly && m_editor->hasSelectedText() );
+    actionCollection()->action( "edit_paste" )->setEnabled( !readOnly );
     actionCollection()->action( "edit_clear" )->setEnabled( !readOnly );
-    actionCollection()->action( "edit_paste" )->setEnabled( !readOnly );
 
     updateFocus();
 }
Index: knotes/local.desktop
===================================================================
--- knotes/local.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ knotes/local.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -37,7 +37,6 @@
 Name[tg]=Хабарҳо дар файли локалӣ
 Name[tr]=Yerel Dosyadaki Notlar
 Name[uk]=Нотатки у локальному файлі
-Name[xx]=xxNotes in Local Filexx
 Name[zh_CN]=本地文件中的笔记
 X-KDE-Library=knotes_local
 Type=Service
Index: knotes/ChangeLog
===================================================================
--- knotes/ChangeLog	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ knotes/ChangeLog	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1,6 +1,10 @@
 ChangeLog for KNotes
 ====================
 
+2005/12/30  Michael Brade <brade@kde.org>
+
+    * more correct enabling of edit actions when (un)locking a note
+
 2005/09/06  Michael Brade <brade@kde.org>
 
     * make note colors in Kicker work again for new notes and on start-up.
Index: knotes/knotes_manager.desktop
===================================================================
--- knotes/knotes_manager.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ knotes/knotes_manager.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -40,7 +40,6 @@
 Name[tr]=Notlar
 Name[uk]=Примітки
 Name[uz]=Ёзма хотира
-Name[xx]=xxNotesxx
 Name[zh_CN]=便笺
 Type=Service
 ServiceTypes=KResources/Manager
Index: knotes/knotes.desktop
===================================================================
--- knotes/knotes.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ knotes/knotes.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -56,7 +56,6 @@
 GenericName[uk]=Вигулькні нотатки
 GenericName[vi]=Ghi chép Popup
 GenericName[xh]=Ivelisa iincwadana
-GenericName[xx]=xxPopup Notesxx
 GenericName[zh_CN]=弹出式记事本
 GenericName[zh_TW]=彈出式筆記本
 GenericName[zu]=Amapheshana Abhaliwe Aziphumelayo
@@ -78,7 +77,6 @@
 Name[sv]=Knotes
 Name[ta]=கேகுறிப்புகள்
 Name[th]=บันทึกช่วยจำ
-Name[xx]=xxKNotesxx
 
 X-KDE-StartupNotify=true
 X-DCOP-ServiceType=Unique
Index: kontact/plugins/test/kptestplugin.desktop
===================================================================
--- kontact/plugins/test/kptestplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/test/kptestplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -50,7 +50,6 @@
 Comment[tr]=Kontact Test Eklentisi
 Comment[uk]=Тестовий втулок Kontact
 Comment[uz]=Kontact учун синаш плагини
-Comment[xx]=xxKontact Test Pluginxx
 Comment[zh_CN]=Kontact Test 插件
 Name=TestPlugin
 Name[be]=Тэставае дапаўненьне
@@ -87,5 +86,4 @@
 Name[tr]=Test Eklentisi
 Name[uk]=Тестовий втулок
 Name[ven]=Lingani Plugin
-Name[xx]=xxTestPluginxx
 Name[zh_CN]=Test 插件
Index: kontact/plugins/akregator/akregatorplugin.desktop
===================================================================
--- kontact/plugins/akregator/akregatorplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/akregator/akregatorplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -31,6 +31,7 @@
 Comment[hu]=Akregator bővítőmodul
 Comment[is]=Akregator íforrit
 Comment[it]=Plugin aKregator
+Comment[ja]=Akregator プラグイン
 Comment[lt]=Akregator priedas
 Comment[nb]=Akgregator-programtillegg
 Comment[nl]=Akregatorplugin
@@ -46,7 +47,6 @@
 Comment[ta]=Akregator சொருகுப்பொருள்
 Comment[tr]=Akregator Eklentisi
 Comment[uk]=Втулок Akregator
-Comment[xx]=xxAkregator Pluginxx
 Comment[zh_CN]=Akregator 插件
 Name=Feeds
 Name[bg]=Новини
@@ -54,7 +54,7 @@
 Name[cs]=Kanály
 Name[da]=Kilder
 Name[de]=Nachrichten
-Name[el]=Ροές
+Name[el]=Εισροές
 Name[es]=Orígenes
 Name[et]=Kanalid
 Name[eu]=Iturriak
@@ -64,6 +64,7 @@
 Name[hu]=Hírforrások
 Name[is]=Fréttastraumar
 Name[it]=Fonti
+Name[ja]=フィード
 Name[lt]=Kanalai
 Name[nb]=Kanaler
 Name[nn]=Kanalar
@@ -78,6 +79,5 @@
 Name[ta]=உள்ளீடுகள்
 Name[tr]=Haberler
 Name[uk]=Подачі
-Name[xx]=xxFeedsxx
 Name[zh_CN]=种子
 
Index: kontact/plugins/akregator/akregatorplugin3.2.desktop
===================================================================
--- kontact/plugins/akregator/akregatorplugin3.2.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/akregator/akregatorplugin3.2.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -30,6 +30,7 @@
 Comment[hu]=Akregator bővítőmodul
 Comment[is]=Akregator íforrit
 Comment[it]=Plugin aKregator
+Comment[ja]=Akregator プラグイン
 Comment[lt]=Akregator priedas
 Comment[nb]=Akgregator-programtillegg
 Comment[nl]=Akregatorplugin
@@ -45,7 +46,6 @@
 Comment[ta]=Akregator சொருகுப்பொருள்
 Comment[tr]=Akregator Eklentisi
 Comment[uk]=Втулок Akregator
-Comment[xx]=xxAkregator Pluginxx
 Comment[zh_CN]=Akregator 插件
 Name=Feeds
 Name[bg]=Новини
@@ -53,7 +53,7 @@
 Name[cs]=Kanály
 Name[da]=Kilder
 Name[de]=Nachrichten
-Name[el]=Ροές
+Name[el]=Εισροές
 Name[es]=Orígenes
 Name[et]=Kanalid
 Name[eu]=Iturriak
@@ -63,6 +63,7 @@
 Name[hu]=Hírforrások
 Name[is]=Fréttastraumar
 Name[it]=Fonti
+Name[ja]=フィード
 Name[lt]=Kanalai
 Name[nb]=Kanaler
 Name[nn]=Kanalar
@@ -77,6 +78,5 @@
 Name[ta]=உள்ளீடுகள்
 Name[tr]=Haberler
 Name[uk]=Подачі
-Name[xx]=xxFeedsxx
 Name[zh_CN]=种子
 
Index: kontact/plugins/kitchensync/kitchensync.desktop
===================================================================
--- kontact/plugins/kitchensync/kitchensync.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/kitchensync/kitchensync.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -53,7 +53,6 @@
 Comment[tg]=Модули KitchenSync
 Comment[tr]=KitchenSync Eklentisi
 Comment[uk]=Втулок KitchenSync
-Comment[xx]=xxKitchenSync Pluginxx
 Comment[zh_CN]=KitchenSync 插件
 Name=Synchronization
 Name[ar]=تزامن
@@ -99,5 +98,4 @@
 Name[tr]=Senkronizasyon
 Name[uk]=Синхронізація
 Name[uz]=Тенглаштириш
-Name[xx]=xxSynchronizationxx
 Name[zh_CN]=同步
Index: kontact/plugins/karm/karmplugin.desktop
===================================================================
--- kontact/plugins/karm/karmplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/karm/karmplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -18,12 +18,15 @@
 Comment[cs]=Modul KArm
 Comment[da]=KArm-plugin
 Comment[de]=KArm-Modul
+Comment[el]=Πρόσθετο του KArm
 Comment[es]=Extensión KArm
 Comment[et]=KArmi plugin
+Comment[eu]=KArm plugina
 Comment[fr]=Module pour KArm
 Comment[ga]=Breiseán KArm
 Comment[is]=KArm íforrit
 Comment[it]=Plugin KArm
+Comment[ja]=KArm プラグイン
 Comment[lt]=KArm priedas
 Comment[nb]=KArm-programtillegg
 Comment[nl]=KArm-plugin
@@ -32,12 +35,12 @@
 Comment[pt]='Plugin' KArm
 Comment[pt_BR]=Plugin do KArm
 Comment[ru]=Модуль KArm
+Comment[sl]=Vstavek KArm
 Comment[sr]=Прикључак KArm-а
 Comment[sr@Latn]=Priključak KArm-a
 Comment[sv]=Karm-insticksprogram
 Comment[tr]=KArm Eklentisi
 Comment[uk]=Втулок KArm
-Comment[xx]=xxKArm Pluginxx
 Comment[zh_CN]=KArm 插件
 
 Name=KArm
@@ -49,4 +52,3 @@
 Name[sv]=Karm
 Name[ta]=Kஅம்
 Name[xh]=KAlrm
-Name[xx]=xxKArmxx
Index: kontact/plugins/summary/kcmkontactsummary.desktop
===================================================================
--- kontact/plugins/summary/kcmkontactsummary.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/summary/kcmkontactsummary.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -26,6 +26,7 @@
 Name[hu]=Komponensek
 Name[is]=Einingar
 Name[it]=Componenti
+Name[ja]=コンポーネント
 Name[lt]=Komponentai
 Name[nb]=Komponenter
 Name[nl]=Componenten
@@ -41,7 +42,6 @@
 Name[ta]=பகுதிகள்
 Name[tr]=Bileşenler
 Name[uk]=Компоненти
-Name[xx]=xxComponentsxx
 Name[zh_CN]=组件
 Comment=General Configuration of Kontact's Summary View
 Comment[bg]=Настройка на обобщението
@@ -77,5 +77,4 @@
 Comment[tg]=Танзимотҳои умумии дайджести Kontact
 Comment[tr]=Kontact'ın Özet Görünümü için Genel Yapılandırma
 Comment[uk]=Загальні параметри підсумків Kontact
-Comment[xx]=xxGeneral Configuration of Kontact's Summary Viewxx
 Comment[zh_CN]=Kontact 概览视图的常规配置
Index: kontact/plugins/summary/summaryplugin.desktop
===================================================================
--- kontact/plugins/summary/summaryplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/summary/summaryplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -50,7 +50,6 @@
 Comment[tg]=Модули дайджести Kontact
 Comment[tr]=Kontact Özet Gösterim Eklentisi
 Comment[uk]=Втулок Kontact для перегляду зведень
-Comment[xx]=xxKontact SummaryView Pluginxx
 Comment[zh_CN]=Kontact 概览视图插件
 Name=Summary
 Name[br]=Diverrañ
@@ -94,7 +93,6 @@
 Name[tr]=Özet
 Name[uk]=Зведення
 Name[uz]=Ҳисобот
-Name[xx]=xxSummaryxx
 Name[zh_CN]=概览
 #Always last
 InitialPreference=0
Index: kontact/plugins/kmail/kmailplugin.desktop
===================================================================
--- kontact/plugins/kmail/kmailplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/kmail/kmailplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -60,7 +60,6 @@
 Comment[tr]=Kontact KMail Eklentisi
 Comment[uk]=Втулок електронної пошти Kontact
 Comment[uz]=Kontact учун KMail плагини
-Comment[xx]=xxKontact KMail Pluginxx
 Comment[zh_CN]=Kontact KMail 插件
 Name=Mail
 Name[be]=Пошта
@@ -105,5 +104,4 @@
 Name[tr]=Posta
 Name[uk]=Пошта
 Name[uz]=Хат-хабар
-Name[xx]=xxMailxx
 Name[zh_CN]=邮件
Index: kontact/plugins/kmail/kcmkmailsummary.desktop
===================================================================
--- kontact/plugins/kmail/kcmkmailsummary.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/kmail/kcmkmailsummary.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -54,7 +54,6 @@
 Name[tr]=Posta
 Name[uk]=Пошта
 Name[uz]=Хат-хабар
-Name[xx]=xxMailxx
 Name[zh_CN]=邮件
 Comment=Mail Summary Setup
 Comment[bg]=Настройки на обобщението на писмата
@@ -91,7 +90,6 @@
 Comment[tg]=Танзимоти дайджести почта
 Comment[tr]=E-posta Özeti Yapılandırması
 Comment[uk]=Налаштування підсумку пошти
-Comment[xx]=xxMail Summary Setupxx
 Comment[zh_CN]=邮件摘要设置
 Keywords=email, summary, configure, settings
 Keywords[bg]=резюме, общо, обобщение, пощенски, клиент, е-поща, email, summary, configure, settings
@@ -128,5 +126,4 @@
 Keywords[tg]=email, summary, configure, settings,танзимот, дайджест,почта
 Keywords[tr]=e-posta, özet, yapılandır, yapılandırma
 Keywords[uk]=пошта, підсумок, налаштування, параметри
-Keywords[xx]=xxemail, summary, configure, settingsxx
 Keywords[zh_CN]=email, summary, configure, settings, 电子邮件, 摘要, 配置, 设置
Index: kontact/plugins/weather/weatherplugin.desktop
===================================================================
--- kontact/plugins/weather/weatherplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/weather/weatherplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -57,7 +57,6 @@
 Comment[tr]=Kontact Hava Durumu Eklentisi
 Comment[uk]=Втулок погоди Kontact
 Comment[uz]=Kontact учун об-ҳаво плагини
-Comment[xx]=xxKontact Weather Pluginxx
 Comment[zh_CN]=Kontact 天气插件
 Name=Weather Service
 Name[br]=Servij an amzer
@@ -65,12 +64,15 @@
 Name[cy]=GwasanaethTywydd
 Name[da]=Vejrtjeneste
 Name[de]=Wetterdienst
+Name[el]=Υπηρεσία πρόβλεψης Καιρού
 Name[es]=Servicio meteorológico
 Name[et]=Ilmateade
+Name[eu]=Eguraldiaren zerbitzua
 Name[fr]=KWeatherService
 Name[ga]=Seirbhís Aimsire
 Name[is]=Veðurþjónusta
 Name[it]=Servizio meteorologico
+Name[ja]=気象サービス
 Name[lt]=Orų tarnyba
 Name[nb]=Værtjeneste
 Name[nl]=Weerbericht
@@ -85,5 +87,4 @@
 Name[tr]=Hava Durumu Servisi
 Name[uk]=Служба погоди
 Name[uz]=Об-ҳаво хизмати
-Name[xx]=xxWeather Servicexx
 Name[zh_CN]=天气服务
Index: kontact/plugins/multisynk/multisynk.desktop
===================================================================
--- kontact/plugins/multisynk/multisynk.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/multisynk/multisynk.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -28,6 +28,7 @@
 Comment[hu]=MultiSynk bővítőmodul
 Comment[is]=MultiSynk íforrit
 Comment[it]=Plugin MultiSync
+Comment[ja]=MultiSynk プラグイン
 Comment[lt]=MultiSynk priedas
 Comment[nb]=Programtillegg for MultiSynk
 Comment[nl]=MultiSynk-plugin
@@ -43,7 +44,6 @@
 Comment[ta]=பலவிதகூட்டிணைப்பு சொருகுப்பொருள்
 Comment[tr]=MultiSynk Eklentisi
 Comment[uk]=Втулок MultiSynk
-Comment[xx]=xxMultiSynk Pluginxx
 Comment[zh_CN]=MultiSynk 插件
 Name=Synchronization
 Name[ar]=تزامن
@@ -89,5 +89,4 @@
 Name[tr]=Senkronizasyon
 Name[uk]=Синхронізація
 Name[uz]=Тенглаштириш
-Name[xx]=xxSynchronizationxx
 Name[zh_CN]=同步
Index: kontact/plugins/knode/knodeplugin.desktop
===================================================================
--- kontact/plugins/knode/knodeplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/knode/knodeplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -57,7 +57,6 @@
 Comment[tr]=Kontact KNode Eklentisi
 Comment[uk]=Втулок новин (KNode) Kontact
 Comment[uz]=Kontact учун KNode плагини
-Comment[xx]=xxKontact KNode Pluginxx
 Comment[zh_CN]=Kontact KNode 插件
 Name=News
 Name[be]=Навіны
@@ -101,5 +100,4 @@
 Name[tr]=Haberler
 Name[uk]=Новини
 Name[uz]=Янгиликлар
-Name[xx]=xxNewsxx
 Name[zh_CN]=新闻
Index: kontact/plugins/specialdates/kcmsdsummary.desktop
===================================================================
--- kontact/plugins/specialdates/kcmsdsummary.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/specialdates/kcmsdsummary.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -27,6 +27,7 @@
 Name[hu]=Fontos dátumok
 Name[is]=Sérstakir dagar
 Name[it]=Date speciali
+Name[ja]=特別な日
 Name[lt]=Ypatingos datos
 Name[nb]=Spesielle datoer
 Name[nl]=Speciale data
@@ -43,7 +44,6 @@
 Name[tr]=Özel Tarihler
 Name[uk]=Особливі дати
 Name[uz]=Махсус кунлар
-Name[xx]=xxSpecial Datesxx
 Name[zh_CN]=特殊日期
 Comment=Special Dates Summary Setup
 Comment[bg]=Настройки на специалните случаи
@@ -59,6 +59,7 @@
 Comment[hu]=A fontos dátumok áttekintőjének beállításai
 Comment[is]=Yfirlitsuppsetning sérstakra daga
 Comment[it]=Impostazioni per le date speciali
+Comment[ja]=特別な日の要約設定
 Comment[lt]=Ypatingų datų santraukos sąranka
 Comment[nb]=Sammendragsoppsett for spesielle datoer
 Comment[nl]=Instellingen voor speciale data in overzicht
@@ -74,7 +75,6 @@
 Comment[ta]=விசேஷ தேதிகள் சுருக்க அமைப்பு
 Comment[tr]=Özel Tarih Özeti Yapılandırması
 Comment[uk]=Налаштування підсумку особливих дат
-Comment[xx]=xxSpecial Dates Summary Setupxx
 Comment[zh_CN]=特殊日期摘要设置
 Keywords=birthday, anniversary, holiday, configure, settings
 Keywords[bg]=рождени, рожден, дни, ден, годишнина, годишнини, обобщение, birthday, anniversary, configure, settings
@@ -82,7 +82,7 @@
 Keywords[cs]=narozeniny,výročí,nastavení,nastavit,svátek
 Keywords[da]=fødselsdag, årsdag, helligdage, indstil, opsætning
 Keywords[de]=Geburtstag,Jahrestag,Feiertag,einstellen,Einstellungen
-Keywords[el]=γεννέθλια, επέτειος, εορτή, ρύθμιση, ρυθμίσεις
+Keywords[el]=γενέθλια, επέτειος, εορτή, ρύθμιση, ρυθμίσεις
 Keywords[es]=cumpleaños, aniversario, vacaciones, configurar, preferencias
 Keywords[et]=sünnipäev, tähtpäev, pidupäev, seadistamine, seadistused
 Keywords[eu]=urtebetezea, urteurrena, jaia, konfiguratu, ezarpenak
@@ -91,6 +91,7 @@
 Keywords[hu]=születésnap,évforduló,szabadság,konfigurálás,beállítások
 Keywords[is]=afmæli, frídagar, stillingar, stilla
 Keywords[it]=compleanno, anniversario, vacanze, configura, impostazioni
+Keywords[ja]=誕生日,記念日,休日,設定,設定
 Keywords[lt]=birthday, anniversary, holiday, configure, settings, konfigūruoti, nustatymai, gimtadieniai, išeiginės,sukaktys
 Keywords[nb]=fødselsdag, jubileum, ferie, sette opp, innstillinger
 Keywords[nl]=verjaardag,jubileum,vakantie,instellingen,configuratie,feestdag
@@ -106,5 +107,4 @@
 Keywords[ta]=பிறந்தநாள், ஆண்டுவிழா, விடுமுறை, வடிவமைப்பு, அமைப்புகள்
 Keywords[tr]=doğumgünü, evlilik yıldönümü, tatil, yapılandır, ypılandırma
 Keywords[uk]=birthday, anniversary, holiday, configure, settings, день народження, ювілей, свято, налаштування, параметри
-Keywords[xx]=xxbirthday, anniversary, holiday, configure, settingsxx
 Keywords[zh_CN]=birthday, anniversary, holiday, configure, settings, 周年纪念, 配置, 设置, 假日
Index: kontact/plugins/specialdates/specialdatesplugin.desktop
===================================================================
--- kontact/plugins/specialdates/specialdatesplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/specialdates/specialdatesplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -30,6 +30,7 @@
 Name[hu]=Fontos dátumok
 Name[is]=Sérstakir dagar
 Name[it]=Date speciali
+Name[ja]=特別な日
 Name[lt]=Ypatingos datos
 Name[nb]=Spesielle datoer
 Name[nl]=Speciale data
@@ -46,7 +47,6 @@
 Name[tr]=Özel Tarihler
 Name[uk]=Особливі дати
 Name[uz]=Махсус кунлар
-Name[xx]=xxSpecial Datesxx
 Name[zh_CN]=特殊日期
 Comment=Special Dates Plugin
 Comment[bg]=Приставка за специални случаи
@@ -62,6 +62,7 @@
 Comment[hu]=Fontos dátumok bővítőmodul
 Comment[is]=Sérstakir dagar íforrit
 Comment[it]=Plugin per le date speciali
+Comment[ja]=特別な日プラグイン
 Comment[lt]=Ypatingų dienų priedas
 Comment[nb]=Programtillegg for spesielle datoer
 Comment[nl]=Plugin voor speciale data
@@ -77,5 +78,4 @@
 Comment[ta]=விசேஷ தேதிகள் சொருகுப்பொருள்
 Comment[tr]=Özel Tarihler Eklentisi
 Comment[uk]=Втулок особливих дат
-Comment[xx]=xxSpecial Dates Pluginxx
 Comment[zh_CN]=特殊日期插件
Index: kontact/plugins/specialdates/sdsummarywidget.cpp
===================================================================
--- kontact/plugins/specialdates/sdsummarywidget.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/specialdates/sdsummarywidget.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -79,7 +79,7 @@
 
 SDSummaryWidget::SDSummaryWidget( Kontact::Plugin *plugin, QWidget *parent,
                                     const char *name )
-  : Kontact::Summary( parent, name ), mPlugin( plugin ), mCalendar( 0 )
+  : Kontact::Summary( parent, name ), mPlugin( plugin ), mCalendar( 0 ), mHolidays( 0 )
 {
   // Create the Summary Layout
   QVBoxLayout *mainLayout = new QVBoxLayout( this, 3, 3 );
@@ -170,13 +170,9 @@
   KConfig hconfig( "korganizerrc" );
   hconfig.setGroup( "Time & Date" );
   QString location = hconfig.readEntry( "Holidays" );
-  if ( !location.isNull() ) {
-    if ( location != mLastLocation ) {
-      if ( !mLastLocation.isNull() && !mLastLocation.isEmpty() )
-        delete mHolidays;
-      mLastLocation = location;
-      mHolidays = new KHolidays::KHolidays( location );
-    }
+  if ( !location.isEmpty() ) {
+    if ( mHolidays ) delete mHolidays;
+    mHolidays = new KHolidays( location );
     return true;
   }
   return false;
Index: kontact/plugins/specialdates/sdsummarywidget.h
===================================================================
--- kontact/plugins/specialdates/sdsummarywidget.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/specialdates/sdsummarywidget.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -78,7 +78,6 @@
     bool mShowHolidays;
     bool mShowSpecialsFromCal;
 
-    QString mLastLocation;
     KHolidays::KHolidays *mHolidays;
 };
 
Index: kontact/plugins/kpilot/kpilotplugin.desktop
===================================================================
--- kontact/plugins/kpilot/kpilotplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/kpilot/kpilotplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -54,7 +54,6 @@
 Comment[tg]=Модули Kontact барои дастрасӣ ба KPilot
 Comment[tr]=Kontact KPilot Eklentisi
 Comment[uk]=Втулок Kontact для KPilot
-Comment[xx]=xxKontact KPilot Pluginxx
 Comment[zh_CN]=Kontact KPilot 插件
 Name=KPilot Configuration
 Name[be]=Канфігурацыя KPilot
@@ -93,5 +92,4 @@
 Name[tg]=Танзимоти KPilot
 Name[tr]=KPilot Yapılandırması
 Name[uk]=Налаштування KPilot
-Name[xx]=xxKPilot Configurationxx
 Name[zh_CN]=KPilot 配置
Index: kontact/plugins/knotes/knotesplugin.desktop
===================================================================
--- kontact/plugins/knotes/knotesplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/knotes/knotesplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -56,7 +56,6 @@
 Comment[tr]=Kontact KNotes Eklentisi
 Comment[uk]=Втулок приміток (KNotes) Kontact
 Comment[uz]=Kontact учун KNotes плагини
-Comment[xx]=xxKontact KNotes Pluginxx
 Comment[zh_CN]=Kontact KNotes 插件
 Name=Notes
 Name[be]=Нататкі
@@ -97,5 +96,4 @@
 Name[tr]=Notlar
 Name[uk]=Примітки
 Name[uz]=Ёзма хотира
-Name[xx]=xxNotesxx
 Name[zh_CN]=便笺
Index: kontact/plugins/korganizer/kcmkorgsummary.desktop
===================================================================
--- kontact/plugins/korganizer/kcmkorgsummary.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/korganizer/kcmkorgsummary.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -15,7 +15,10 @@
 Name[cs]=Schůzky a úkoly
 Name[da]=Møder og gøremål
 Name[de]=Termine und Aufgaben
+Name[el]=Ραντεβού και εργασίες προς υλοποίηση
 Name[es]=Citas y tareas pendientes
+Name[et]=Kohtumised ja ülesanded
+Name[eu]=Hitzorduak eta egitekoak
 Name[fr]=Évènements et tâches
 Name[is]=Fundir og verkþættir
 Name[it]=Appuntamenti e cose da fare
@@ -31,17 +34,20 @@
 Name[sr@Latn]=Sastanci i obaveze
 Name[sv]=Möten och uppgifter
 Name[uk]=Зустрічі і завдання
-Name[xx]=xxAppointments and To-dosxx
 Name[zh_CN]=约会和待办
 Comment=Appointments and To-dos Summary Setup
 Comment[bg]=Приставка за обобщен преглед на срещите и задачите
 Comment[cs]=Nastavení souhrnu schůzek a úkolů
 Comment[da]=Indstilling af oversigt over møder og gøremål
 Comment[de]=Einstellung der Übersicht über Termine und Aufgaben
+Comment[el]=Ρύθμιση ραντεβού και προς υλοποίηση εργασιών
 Comment[es]=Configuración del resumen de citas y de tareas pendientes
+Comment[et]=Kohtumiste ja ülesannete kokkuvõtte seadistus
+Comment[eu]=Hitzordu eta egitekoen laburpenen konfigurazioa
 Comment[fr]=Configuration du résumé des évènements et des tâches
 Comment[is]=Uppsetning á yfirliti yfir fundi og verkþætti
 Comment[it]=Impostazioni sommario appuntamenti e cose da fare
+Comment[ja]=予約と To-do の概要設定
 Comment[lt]=Susitikimų ir užduočių santraukos nustatymai
 Comment[nb]=Oppsett av sammendraget av gjøremål og avtaler
 Comment[nl]=Overzichtsinstellingen voor evenementen en taken
@@ -54,7 +60,6 @@
 Comment[sr@Latn]=Podešavanje sažetka sastanaka i obaveza
 Comment[sv]=Inställning av översikt över möten och uppgifter
 Comment[uk]=Налаштування зведення зустрічей і завдань
-Comment[xx]=xxAppointments and To-dos Summary Setupxx
 Comment[zh_CN]=约会和待办摘要设置
 Keywords=calendar, todos, configure, settings
 Keywords[be]=каляндар, заданьні, настроіць, настройкі, calendar, todos, configure, settings
@@ -92,5 +97,4 @@
 Keywords[tg]=calendar, todos, configure, settings,танзимот, тақвим,вазифа
 Keywords[tr]=takvim, yapılacaklar, yapılandır, yapılandırma
 Keywords[uk]=календар, завдання, налаштування, установки
-Keywords[xx]=xxcalendar, todos, configure, settingsxx
 Keywords[zh_CN]=calendar, todos, configure, settings, 日历, 待办事项, 配置, 设置
Index: kontact/plugins/korganizer/todoplugin.desktop
===================================================================
--- kontact/plugins/korganizer/todoplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/korganizer/todoplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -21,7 +21,7 @@
 Comment[cs]=Modul úkolů KOrganizeru pro aplikaci Kontact
 Comment[da]=Kontact KOrganizer gøremålsliste-plugin
 Comment[de]=Kontact KOrganizer-Aufgabenlisten-Modul
-Comment[el]=Πρόσθετο του Kontact για την προς-υλοποίηση λίστα του KOrganizer
+Comment[el]=Πρόσθετο του Kontact για την προς υλοποίηση λίστα του KOrganizer
 Comment[es]=Extensión de tareas pendientes de KOrganizer para Kontact
 Comment[et]=Kontacti KOrganizeri ülesannete nimekirja plugin
 Comment[eu]=Kontact-en KOrganizer-en egitekoen plugin-a
@@ -30,6 +30,7 @@
 Comment[hu]=Kontact-bővítőmodul a KOrganizer feladatlistához
 Comment[is]=Kontact KOrganizer verkþátta íforrit
 Comment[it]=Plugin Kontact per le cose da fare di KOrganizer
+Comment[ja]=Kontact KOrganizer To-do リストプラグイン
 Comment[lt]=Kontact KOrganizer darbų sąrašo priedas
 Comment[nb]=Kontact programtillegg for KOrganizer gjøreliste
 Comment[nl]=Kontact KOrganizer takenlijstplugin
@@ -45,7 +46,6 @@
 Comment[ta]=கேஅமைப்பாளர் செய்யவேண்டிய பட்டியல் சொருகுப்பொருளை தொடர்புகொள்
 Comment[tr]=Kontact KOrganizer Yapılacaklar Listesi Eklentisi
 Comment[uk]=Втулок списку завдань KOrganizer для Kontact
-Comment[xx]=xxKontact KOrganizer To-do List Pluginxx
 Comment[zh_CN]=Kontact KOrganizer 待办清单插件
 Name=To-do List
 Name[br]=Roll an traoù d'ober
@@ -54,7 +54,7 @@
 Name[cy]=Rhestr I'w-Wneud
 Name[da]=Gøremålsliste
 Name[de]=Aufgaben
-Name[el]=Λίστα προς-υλοποίηση
+Name[el]=Λίστα προς υλοποίηση
 Name[es]=Tareas pendientes
 Name[et]=Ülesanded
 Name[eu]=Egitekoen zerrenda
@@ -64,6 +64,7 @@
 Name[hu]=Feladatok
 Name[is]=Verkþættir
 Name[it]=Cose da fare
+Name[ja]=To-do リスト
 Name[lt]=Darbai
 Name[nb]=Gjøreliste
 Name[nl]=Takenlijst
@@ -81,5 +82,4 @@
 Name[tr]=Yapılacaklar Listesi
 Name[uk]=Список завдань
 Name[uz]=Вазифалар рўйхати
-Name[xx]=xxTo-do Listxx
 Name[zh_CN]=待办清单
Index: kontact/plugins/korganizer/journalplugin.desktop
===================================================================
--- kontact/plugins/korganizer/journalplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/korganizer/journalplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -31,6 +31,7 @@
 Comment[hu]=Kontact-bővítőmodul a KOrganizer-naplóhoz
 Comment[is]=Kontact KOrganizer dagbókar íforrit
 Comment[it]=Plugin Kontact per il diario di KOrganizer
+Comment[ja]=Kontact KAddressbook プラグイン
 Comment[lt]=Kontact KOrganizer dienyno priedas
 Comment[nb]=Kontact programtillegg for KOrganizer dagbok
 Comment[nl]=Kontact KOrganizer Journaalplugin
@@ -46,7 +47,6 @@
 Comment[ta]=கேஅமைப்பாளர் செய்தி சொருகுப்பொருளை தொடர்புகொள்
 Comment[tr]=Kontact KOrganizer Günlük Eklentisi
 Comment[uk]=Втулок журналу для (KOrganizer) Kontact
-Comment[xx]=xxKontact KOrganizer Journal Pluginxx
 Comment[zh_CN]=Kontact KOrganizer 日记插件
 Name=Journal
 Name[br]=Deizlevr
@@ -76,5 +76,4 @@
 Name[tr]=Günlük
 Name[uk]=Журнал
 Name[uz]=Кундалик
-Name[xx]=xxJournalxx
 Name[zh_CN]=日记
Index: kontact/plugins/korganizer/korganizerplugin.desktop
===================================================================
--- kontact/plugins/korganizer/korganizerplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/korganizer/korganizerplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -58,7 +58,6 @@
 Comment[tr]=Kontact KOrganizer Eklentisi
 Comment[uk]=Втулок календаря KOrganizer для Kontact
 Comment[uz]=Kontact учун KOrganizer плагини
-Comment[xx]=xxKontact KOrganizer Pluginxx
 Comment[zh_CN]=Kontact KOrganizer 插件
 Name=Calendar
 Name[be]=Каляндар
@@ -103,5 +102,4 @@
 Name[tr]=Takvim
 Name[uk]=Календар
 Name[uz]=Календар
-Name[xx]=xxCalendarxx
 Name[zh_CN]=日历
Index: kontact/plugins/kaddressbook/kaddressbookplugin.desktop
===================================================================
--- kontact/plugins/kaddressbook/kaddressbookplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/kaddressbook/kaddressbookplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -58,7 +58,6 @@
 Comment[tr]=Kontact KAdresDefteri Eklentisi
 Comment[uk]=Втулок адресної книги Kontact
 Comment[uz]=Kontact учун KAddressBook плагини
-Comment[xx]=xxKontact KAddressBook Pluginxx
 Comment[zh_CN]=Kontact KAddressbook 插件
 Name=Contacts
 Name[be]=Кантакты
@@ -103,5 +102,4 @@
 Name[tr]=Bağlantılar
 Name[uk]=Контакти
 Name[uz]=Алоқалар
-Name[xx]=xxContactsxx
 Name[zh_CN]=联系人
Index: kontact/plugins/newsticker/kcmkontactknt.desktop
===================================================================
--- kontact/plugins/newsticker/kcmkontactknt.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/newsticker/kcmkontactknt.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -18,6 +18,7 @@
 Name[cy]=Ticer Newyddion
 Name[da]=Nyhedstelegraf
 Name[de]=Newsticker
+Name[el]=Προβολέας ειδήσεων
 Name[eo]=Novaĵprezentilo
 Name[es]=Teletipo de noticias
 Name[et]=Uudistejälgija
@@ -54,7 +55,6 @@
 Name[ven]=Musengulusi wa Mafhungo
 Name[vi]=Trình kiểm tra news 
 Name[xh]=Umchola-choli weendaba
-Name[xx]=xxNews Tickerxx
 Name[zh_CN]=新闻点点通
 Name[zu]=Umlungiseleli Wezindaba 
 Comment=News Ticker Summary Setup
@@ -62,11 +62,14 @@
 Comment[cs]=Nastavení souhrnu newstickeru
 Comment[da]=Nehedstelegrafs opsætning af opsummering
 Comment[de]=Einstellung der News-übersicht
+Comment[el]=Περίληψη ρύθμισης προβολέα ρυθμίσεων
 Comment[es]=Configuración del resumen del teletipo de noticias
 Comment[et]=Uudistejälgija kokkuvõtte seadistus
+Comment[eu]=Berri markatzailearen laburpenaren konfigurazioa
 Comment[fr]=Configuration du résumé du téléscripteur de nouvelles
 Comment[is]=Uppsetning á yfirliti yfir fréttastrimla
 Comment[it]=Impostazioni sommario ticker notizie
+Comment[ja]=メール Ticker の設定
 Comment[lt]=News Ticker santraukos nustatymai
 Comment[nb]=Oppsett av sammendraget til nyhetstelegrafen
 Comment[nl]=Overzichtsinstellingen nieuwsticker
@@ -79,7 +82,6 @@
 Comment[sr@Latn]=Podešavanje sažetka prikazivanja vesti
 Comment[sv]=Inställning av nyhetsövervakningsöversikt
 Comment[uk]=Налаштування зведення стрічки новин
-Comment[xx]=xxNews Ticker Summary Setupxx
 Comment[zh_CN]=新闻点点通摘要设置
 Keywords=news ticker, configure, settings
 Keywords[bg]=новини, източник, настройки, news ticker, configure, settings
@@ -87,6 +89,7 @@
 Keywords[cs]=novinky,nastavení
 Keywords[da]=nyhedstelegraf, indstil, opsætning
 Keywords[de]=Newsticker,Einrichten,Einstellungen
+Keywords[el]=προβολέας ειδήσεων, ρύθμιση, ρυθμίσεις
 Keywords[es]=teletipo de noticias, configurar, opciones
 Keywords[et]=uudistejälgija, seadistamine, seadistused
 Keywords[eu]=berri markatzaileak, konfiguratu, ezarpenak
@@ -115,5 +118,4 @@
 Keywords[tg]=news ticker, configure, settings, танзимот
 Keywords[tr]=haber izleyici, yapılandırma, yapılandır
 Keywords[uk]=новини, налаштування, установки
-Keywords[xx]=xxnews ticker, configure, settingsxx
 Keywords[zh_CN]=news ticker, configure, settings, 新闻点点通, 配置, 设置
Index: kontact/plugins/newsticker/newstickerplugin.desktop
===================================================================
--- kontact/plugins/newsticker/newstickerplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/plugins/newsticker/newstickerplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -21,6 +21,7 @@
 Comment[cs]=Modul NewsTicker pro aplikaci Kontact
 Comment[da]=Kontact plugin for nyhedstelegraf
 Comment[de]=Newsticker-Modul für Kontact
+Comment[el]=Πρόσθετο προβολέα ειδήσεων του Kontact
 Comment[es]=Extensión de teletipo de noticias para Kontact
 Comment[et]=Kontacti uudistejälgija plugin
 Comment[eu]=Kontact-en NewsTicker plugin-a
@@ -49,12 +50,12 @@
 Comment[tg]=Тамос гирифтан бо NewsTicker Plugin
 Comment[tr]=Kontact Haberİzleyici Eklentisi
 Comment[uk]=Втулок стрічки новин Kontact
-Comment[xx]=xxKontact NewsTicker Pluginxx
 Comment[zh_CN]=Kontact 新闻点点通插件
 Name=NewsTicker
 Name[ca]=Teletip de notícies
 Name[da]=Nyhedstelegraf
 Name[de]=Newsticker
+Name[el]=Προβολέας ειδήσεων
 Name[es]=Teletipo de noticias
 Name[et]=Uudistejälgija
 Name[fi]=Uutisnäyttäjä
@@ -74,5 +75,4 @@
 Name[sv]=Nyhetsövervakare
 Name[ta]=செய்திகள் குறிப்பான்
 Name[tr]=Haberİzleyici
-Name[xx]=xxNewsTickerxx
 Name[zh_CN]=新闻点点通
Index: kontact/interfaces/kontactplugin.desktop
===================================================================
--- kontact/interfaces/kontactplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/interfaces/kontactplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -43,7 +43,6 @@
 Name[tr]=Kontact Eklentisi
 Name[uk]=Втулок Kontact
 Name[uz]=Kontact учун плагин
-Name[xx]=xxKontact Pluginxx
 Name[zh_CN]=Kontact 插件
 
 [PropertyDef::X-KDE-KontactPluginVersion]
Index: kontact/src/kontact.setdlg
===================================================================
--- kontact/src/kontact.setdlg	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/src/kontact.setdlg	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -41,7 +41,6 @@
 Name[tr]=Özet
 Name[uk]=Зведення
 Name[uz]=Ҳисобот
-Name[xx]=xxSummaryxx
 Name[zh_CN]=概览
 Comment=Summary View
 Comment[bg]=Обобщение
@@ -58,6 +57,7 @@
 Comment[hu]=Áttekintő nézet
 Comment[is]=Yfirlitssýn
 Comment[it]=Vista sommario
+Comment[ja]=サマリビュー
 Comment[lt]=Santraukos vaizdas
 Comment[nb]=Sammendragsvisning
 Comment[nl]=Overzichtsweergave
@@ -73,7 +73,6 @@
 Comment[ta]=சுருக்கக் காட்சி
 Comment[tr]=Özet Görünüm
 Comment[uk]=Вигляд короткого підсумку
-Comment[xx]=xxSummary Viewxx
 Comment[zh_CN]=摘要视图
 Weight=100
 Icon=kontact_summary
@@ -122,7 +121,6 @@
 Name[tr]=Posta
 Name[uk]=Пошта
 Name[uz]=Хат-хабар
-Name[xx]=xxMailxx
 Name[zh_CN]=邮件
 Comment=Mail Component
 Comment[be]=Кампанэнт "Пошта"
@@ -141,6 +139,7 @@
 Comment[hu]=Levelezőkomponens
 Comment[is]=Pósthluti
 Comment[it]=Componente posta
+Comment[ja]=メールコンポーネント
 Comment[lt]=Pašto komponentas
 Comment[nb]=E-postkomponent
 Comment[nl]=E-mailcomponent
@@ -156,7 +155,6 @@
 Comment[ta]=அஞ்சல் பகுதி
 Comment[tr]=E-posta Bileşeni
 Comment[uk]=Компонент пошти
-Comment[xx]=xxMail Componentxx
 Comment[zh_CN]=邮件组件
 Weight=200
 Icon=kontact_mail
@@ -205,7 +203,6 @@
 Name[tr]=Bağlantılar
 Name[uk]=Контакти
 Name[uz]=Алоқалар
-Name[xx]=xxContactsxx
 Name[zh_CN]=联系人
 Comment=Address Book Component
 Comment[be]=Кампанэнт "Адрасная кніга"
@@ -223,6 +220,7 @@
 Comment[hu]=Címjegyzék-komponens
 Comment[is]=Vistfangahluti
 Comment[it]=Componente rubrica indirizzi
+Comment[ja]=アドレス帳コンポーネント
 Comment[lt]=Adresų knygelės komponentas
 Comment[nb]=Adressebok-komponent
 Comment[nl]=Adresboekcomponent
@@ -238,7 +236,6 @@
 Comment[ta]=முகவரிப்புத்தக பகுதி
 Comment[tr]=Adres Defteri Bileşeni
 Comment[uk]=Компонент адресної книги
-Comment[xx]=xxAddress Book Componentxx
 Comment[zh_CN]=地址簿组件
 Weight=300
 Icon=kontact_contacts
@@ -258,6 +255,7 @@
 Name[hu]=A fontos dátumok áttekintője
 Name[is]=Yfirlit sérstakra daga
 Name[it]=Sommario date speciali
+Name[ja]=特別な日の要約
 Name[lt]=Ypatingų dienų santrauka
 Name[nb]=Sammendrag av spesielle datoer
 Name[nl]=Overzicht voor speciale data
@@ -273,7 +271,6 @@
 Name[ta]=விசேஷ செய்திகளின் சுருக்கம்
 Name[tr]=Özel Tarihler Özeti
 Name[uk]=Короткий підсумок особливих дат
-Name[xx]=xxSpecial Dates Summaryxx
 Name[zh_CN]=特殊日期摘要
 Comment=Special Dates Summary Component
 Comment[bg]=Модул за обобщение на специалните случаи
@@ -289,6 +286,7 @@
 Comment[hu]=A fontos dátumok áttekintő komponense
 Comment[is]=Yfirlitshluti sérstakra daga
 Comment[it]=Componente sommario per le date speciali
+Comment[ja]=特別な日の要約コンポーネント
 Comment[lt]=Ypatingų dienų santraukos komponentas
 Comment[nb]=Komponent for sammendrag av spesielle datoer
 Comment[nl]=Component voor overzicht van speciale data
@@ -304,7 +302,6 @@
 Comment[ta]=விசேஷ தேதிகள் சுருக்கப் பகுதி
 Comment[tr]=Özel Tarihler Özeti Bileşeni
 Comment[uk]=Компонент короткого підсумку особливих дат
-Comment[xx]=xxSpecial Dates Summary Componentxx
 Comment[zh_CN]=特殊日期摘要组件
 Weight=310
 Icon=cookie
@@ -353,7 +350,6 @@
 Name[tr]=Takvim
 Name[uk]=Календар
 Name[uz]=Календар
-Name[xx]=xxCalendarxx
 Name[zh_CN]=日历
 Comment=Calendar Component
 Comment[be]=Кампанэнт "Календар"
@@ -370,6 +366,7 @@
 Comment[hu]=Naptárkezelő komponens
 Comment[is]=Dagatalshluti
 Comment[it]=Componente calendario
+Comment[ja]=カレンダーコンポーネント
 Comment[lt]=Kalendoriaus komponentas
 Comment[nb]=Calendar-komponent
 Comment[nl]=Agendacomponent
@@ -385,7 +382,6 @@
 Comment[ta]=நாள்காட்டி பகுதி
 Comment[tr]=Takvim Bileşeni
 Comment[uk]=Компонент календаря
-Comment[xx]=xxCalendar Componentxx
 Comment[zh_CN]=日历组件
 Weight=400
 Icon=kontact_date
@@ -433,7 +429,6 @@
 Name[tr]=Haberler
 Name[uk]=Новини
 Name[uz]=Янгиликлар
-Name[xx]=xxNewsxx
 Name[zh_CN]=新闻
 Comment=News Component
 Comment[be]=Кампанэнт "Навіны"
@@ -450,6 +445,7 @@
 Comment[hu]=Hírkezelő komponens
 Comment[is]=Fréttahluti
 Comment[it]=Componente news
+Comment[ja]=ニュースコンポーネント
 Comment[lt]=Naujienų komponentas
 Comment[nb]=Njus-komponent
 Comment[nl]=Nieuwscomponent
@@ -465,7 +461,6 @@
 Comment[ta]=செய்திகள் பகுதி
 Comment[tr]=Haber Grubu Bileşeni
 Comment[uk]=Компонент новин
-Comment[xx]=xxNews Componentxx
 Comment[zh_CN]=新闻组件
 Weight=500
 Icon=kontact_news
@@ -513,7 +508,6 @@
 Name[tr]=Hava Durumu
 Name[uk]=Погода
 Name[uz]=Об-ҳаво
-Name[xx]=xxWeatherxx
 Name[zh_CN]=天气
 Comment=Weather Information
 Comment[be]=Інфармацыя пра надвор’е
@@ -533,6 +527,7 @@
 Comment[hu]=Időjárási adatok
 Comment[is]=Veðurupplýsingar
 Comment[it]=Informazioni meteorologiche
+Comment[ja]=気象情報
 Comment[lt]=Orų informacija
 Comment[nb]=Værinformasjon
 Comment[nl]=Het weer
@@ -548,7 +543,6 @@
 Comment[ta]=தட்பவெப்பநிலை தகவல்
 Comment[tr]=Hava Durumu Bilgisi
 Comment[uk]=Інформація про погоду
-Comment[xx]=xxWeather Informationxx
 Comment[zh_CN]=天气信息
 Weight=1000
 Icon=kweather
@@ -561,6 +555,7 @@
 Name[cy]=Ticer Newyddion
 Name[da]=Nyhedstelegraf
 Name[de]=Newsticker
+Name[el]=Προβολέας ειδήσεων
 Name[eo]=Novaĵprezentilo
 Name[es]=Teletipo de noticias
 Name[et]=Uudistejälgija
@@ -597,7 +592,6 @@
 Name[ven]=Musengulusi wa Mafhungo
 Name[vi]=Trình kiểm tra news 
 Name[xh]=Umchola-choli weendaba
-Name[xx]=xxNews Tickerxx
 Name[zh_CN]=新闻点点通
 Name[zu]=Umlungiseleli Wezindaba 
 Comment=News Ticker Component
@@ -606,6 +600,7 @@
 Comment[cs]=Komponenta zdrojů novinek
 Comment[da]=Nyhedstelegraf-komponent
 Comment[de]=Newsticker-Komponente
+Comment[el]=Συστατικό προβολέα ειδήσεων
 Comment[es]=Componente de teletipo de noticias
 Comment[et]=Uudistejälgija komponent
 Comment[eu]=Berri markatzaile osagaia
@@ -613,6 +608,7 @@
 Comment[hu]=Hírmegjelenítő komponens
 Comment[is]=Fréttastrimilshluti
 Comment[it]=Ticker notizie
+Comment[ja]=ニュース ティッカー コンポーネント
 Comment[lt]=Naujienų pranešėjo komponentas
 Comment[nb]=Komponent for Nyhetstelegraf
 Comment[nl]=Newstickercomponent
@@ -628,7 +624,6 @@
 Comment[ta]=செய்தி எடுக்கும் பகுதி
 Comment[tr]=Haber İzleyici Bileşeni
 Comment[uk]=Компонент смужки новин
-Comment[xx]=xxNews Ticker Componentxx
 Comment[zh_CN]=新闻点点通组件
 Weight=1100
 Icon=knode
Index: kontact/src/kontactconfig.desktop
===================================================================
--- kontact/src/kontactconfig.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/src/kontactconfig.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -18,7 +18,6 @@
 Name[hi]=कॉन्टेक्ट
 Name[sv]=Kontakt
 Name[ta]=தொடர்பு கொள்
-Name[xx]=xxKontactxx
 Comment=KDE Kontact
 Comment[be]=Кантакт KDE
 Comment[bg]=Управление на личната информация
@@ -32,7 +31,6 @@
 Comment[pt_BR]=Kontact do KDE
 Comment[ro]=Contact KDE
 Comment[ta]=கேடிஇ தொடர்புகொள்
-Comment[xx]=xxKDE Kontactxx
 Keywords=kontact
 Keywords[be]=кантакт,kontact
 Keywords[bg]=контакти, връзка, информация, личен, поща, бизнес, планиране, kontact
@@ -45,4 +43,3 @@
 Keywords[sv]=kontakt
 Keywords[ta]=தொடர்புகொள்
 Keywords[tr]=bağlantı
-Keywords[xx]=xxkontactxx
Index: kontact/src/Kontact.desktop
===================================================================
--- kontact/src/Kontact.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kontact/src/Kontact.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -5,7 +5,6 @@
 Name[hi]=कॉन्टेक्ट
 Name[sv]=Kontakt
 Name[ta]=தொடர்பு கொள்
-Name[xx]=xxKontactxx
 Exec=kontact
 Type=Application
 Icon=kontact
@@ -51,7 +50,6 @@
 GenericName[tr]=Kişisel Bilgi Yöneticisi
 GenericName[uk]=Менеджер особистої інформації
 GenericName[uz]=Шахсий маълумот бошқарувчиси
-GenericName[xx]=xxPersonal Information Managerxx
 GenericName[zh_CN]=个人信息管理器
 Terminal=false
 X-KDE-StartupNotify=true
Index: kandy/src/kandy.desktop
===================================================================
--- kandy/src/kandy.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kandy/src/kandy.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -4,7 +4,6 @@
 Name[eo]=Poŝtelefonilo
 Name[hi]=केंडी
 Name[ta]=Kஅன்டி
-Name[xx]=xxKandyxx
 Comment=Tool for syncing address book data with mobile phones
 Comment[bg]=Инструмент за синхронизиране на адресника с мобилни телефони
 Comment[bs]=Alat za sinhroniziranje podataka između adresara i mobilnih telefona
@@ -39,7 +38,6 @@
 Comment[tg]=Барномаи синхронизатсияи китоби адресӣ бо телефони мобилӣ
 Comment[tr]=Cep telefonları ile adres defteri paylaşımı için araç
 Comment[uk]=Інструмент для синхронізації даних адресної книги з мобільним телефоном
-Comment[xx]=xxTool for syncing address book data with mobile phonesxx
 Comment[zh_CN]=将地址簿数据与移动电话同步的工具
 Exec=kandy %i %m -caption "%c"
 Icon=kandy
@@ -96,7 +94,6 @@
 GenericName[ven]=Tshishumiswa tsha lutingo thendeleki
 GenericName[vi]=Công cụ điện thoại di động 
 GenericName[xh]=Isixhobo Semfono-mfono Ekuhanjwa nayo
-GenericName[xx]=xxMobile Phone Toolxx
 GenericName[zh_CN]=移动电话工具
 GenericName[zh_TW]=行動電話工具
 GenericName[zu]=Ithuluzi Lamakhala ekhukhwini
Index: ktnef/gui/ktnef.desktop
===================================================================
--- ktnef/gui/ktnef.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ ktnef/gui/ktnef.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -1,7 +1,6 @@
 [Desktop Entry]
 Name=KTnef
 Name[sv]=Ktnef
-Name[xx]=xxKTnefxx
 GenericName=TNEF File Viewer
 GenericName[bg]=Преглед на файлове TNEF
 GenericName[ca]=Visor de fitxers TNEF
@@ -33,7 +32,6 @@
 GenericName[ta]=TNEF  கோப்பு காட்சியாளன்
 GenericName[tr]=TNEF Dosya Göstericisi
 GenericName[uk]=Переглядач файлів TNEF
-GenericName[xx]=xxTNEF File Viewerxx
 GenericName[zh_CN]=TNEF 文件查看器
 Exec=ktnef %i %m -caption "%c"
 Icon=ktnef
@@ -77,7 +75,6 @@
 Comment[tg]=Намоиш ва боз кардани файлҳои TNEF
 Comment[tr]=TNEF dosyaları için gösterici/çıkarıcı
 Comment[uk]=Переглядач/розпаковувач файлів TNEF
-Comment[xx]=xxA viewer/extractor for TNEF filesxx
 Comment[zh_CN]=TNEF 文件的查看/提取器
 Terminal=false
 MimeType=application/ms-tnef;
Index: ktnef/gui/ms-tnef.desktop
===================================================================
--- ktnef/gui/ms-tnef.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ ktnef/gui/ms-tnef.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -45,5 +45,4 @@
 Comment[tr]=TNEF Dosyası
 Comment[uk]=Файл TNEF
 Comment[uz]=TNEF-файли
-Comment[xx]=xxTNEF Filexx
 Comment[zh_CN]=TNEF 文件
Index: kfile-plugins/rfc822/kfile_rfc822.desktop
===================================================================
--- kfile-plugins/rfc822/kfile_rfc822.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kfile-plugins/rfc822/kfile_rfc822.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -44,7 +44,6 @@
 Name[tg]=Иттилоот дар бораи почтаи электронӣ
 Name[tr]=E-Posta Bilgisi
 Name[uk]=Інформація про повідомлення ел. пошти
-Name[xx]=xxEmail Infoxx
 Name[zh_CN]=电子邮件信息
 ServiceTypes=KFilePlugin
 X-KDE-Library=kfile_rfc822
Index: kfile-plugins/ics/kfile_ics.desktop
===================================================================
--- kfile-plugins/ics/kfile_ics.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kfile-plugins/ics/kfile_ics.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -19,6 +19,7 @@
 Name[hu]=ICS-jellemzők
 Name[is]=ICS upplýsingar
 Name[it]=Informazioni ICS
+Name[ja]=ICS 情報
 Name[lt]=ICS informacija
 Name[nb]=ICS-informasjon
 Name[nl]=ICS-informatie
@@ -35,7 +36,6 @@
 Name[ta]=ICS தகவல்
 Name[tr]=ICS bilgisi
 Name[uk]=Інформація про ICS
-Name[xx]=xxICS informationxx
 Name[zh_CN]=ICS 信息
 ServiceTypes=KFilePlugin
 X-KDE-Library=kfile_ics
Index: kfile-plugins/palm-databases/kfile_palm.desktop
===================================================================
--- kfile-plugins/palm-databases/kfile_palm.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kfile-plugins/palm-databases/kfile_palm.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -39,7 +39,6 @@
 Name[tg]=Иттилоот дар бораи бонки додаҳои PalmOS
 Name[tr]=PalmOS Veritabanı Bilgisi
 Name[uk]=Інформація про базу даних PalmOS
-Name[xx]=xxPalmOS Database Infoxx
 Name[zh_CN]=PalmOS 数据库信息
 ServiceTypes=KFilePlugin
 X-KDE-Library=kfile_palm
Index: kfile-plugins/vcf/kfile_vcf.desktop
===================================================================
--- kfile-plugins/vcf/kfile_vcf.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ kfile-plugins/vcf/kfile_vcf.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -48,7 +48,6 @@
 Name[uk]=Інформація про vCard
 Name[ven]=Mafhungo a vCard
 Name[xh]=Inkcukacha ye vCard
-Name[xx]=xxvCard Infoxx
 Name[zh_CN]=vCard 信息
 Name[zh_TW]=vCard 資訊
 Name[zu]=Ulwazi lwe-vCard
Index: korganizer/korganizer_configfonts.desktop
===================================================================
--- korganizer/korganizer_configfonts.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/korganizer_configfonts.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -64,7 +64,6 @@
 Name[ven]=Fontu
 Name[vi]=Phông 
 Name[xh]=Ubungakanani bamagama
-Name[xx]=xxFontsxx
 Name[zh_CN]=字体
 Comment=KOrganizer Fonts Configuration
 Comment[ar]=إعداد خطوط KOrganizer
@@ -107,7 +106,6 @@
 Comment[tg]=Танзимотҳои ҳуруфҳои органайзери KDE
 Comment[tr]=KOrganizer Yazıtipi Yapılandırması
 Comment[uk]=Налаштування шрифтів у KOrganizer
-Comment[xx]=xxKOrganizer Fonts Configurationxx
 Comment[zh_CN]=KOrganizer 字体配置
 Keywords=korganizer,fonts
 Keywords[be]=K Арганізатар,шрыфты,korganizer,fonts
@@ -150,5 +148,4 @@
 Keywords[tr]=korganizer,yazıtipleri
 Keywords[uk]=korganizer,шрифти
 Keywords[uz]=korganizer,органайзер,шрифтлар
-Keywords[xx]=xxkorganizer,fontsxx
 Keywords[zh_CN]=korganizer,fonts,字体
Index: korganizer/korganizer_configplugins.desktop
===================================================================
--- korganizer/korganizer_configplugins.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/korganizer_configplugins.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -29,6 +29,7 @@
 Name[ga]=Breiseáin
 Name[hu]=Bővítőmodulok
 Name[is]=Íforrit
+Name[ja]=プラグイン
 Name[lt]=Priedai
 Name[nb]=Programtillegg
 Name[nn]=Programtillegg
@@ -43,7 +44,6 @@
 Name[ta]=சொருகுப்பொருள்கள்
 Name[tr]=Eklentiler
 Name[uk]=Втулки
-Name[xx]=xxPluginsxx
 Name[zh_CN]=插件
 Comment=KOrganizer Plugin Configuration
 Comment[be]=Канфігурацыя дапаўненьняў "K Арганізатара"
@@ -61,6 +61,7 @@
 Comment[hu]=A KOrganizer bővítőmodul beállításai
 Comment[is]=Stillingar KOrganizer íforrita
 Comment[it]=Configurazione plugin KOrganizer
+Comment[ja]=KOrganizer プラグイン設定
 Comment[lt]=KOrganizer priedų konfigūravimas
 Comment[nb]=KOrganizer oppsett for programtillegg
 Comment[nl]=KOrganizer plugininstellingen
@@ -76,7 +77,6 @@
 Comment[ta]=கேஅமைப்பாளர் சொருகுப்பொருள் வடிவமைப்பு
 Comment[tr]=KOrganizer Eklenti Yapılandırması
 Comment[uk]=Втулок налаштування KOrganizer
-Comment[xx]=xxKOrganizer Plugin Configurationxx
 Comment[zh_CN]=KOrganizer 插件配置
 Keywords=korganizer,plugin,module
 Keywords[be]=K Арганізатар,дапаўненьне,модуль,korganizer,plugin,module
@@ -94,6 +94,7 @@
 Keywords[hu]=korganizer,bővítőmodul,modul
 Keywords[is]=korganizer,íforrit,eining
 Keywords[it]=korganizer,plugin,modulo
+Keywords[ja]=korganizer,プラグイン,モジュール
 Keywords[lt]=korganizer,plugin,module,modulis,priedas
 Keywords[nb]=korganizer,programtillegg,modul
 Keywords[nn]=korganizer,programtillegg,modul
@@ -108,5 +109,4 @@
 Keywords[ta]=கேஅமைப்பாளர்,சொருகுப்பொருள்,பகுதி
 Keywords[tr]=korganizer,eklenti,modül
 Keywords[uk]=korganizer,plugin,module,втулок,модуль
-Keywords[xx]=xxkorganizer,plugin,modulexx
 Keywords[zh_CN]=korganizer,plugin,module,插件,模块
Index: korganizer/korganizer_configtime.desktop
===================================================================
--- korganizer/korganizer_configtime.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/korganizer_configtime.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -56,7 +56,6 @@
 Name[tr]=Saat & Tarih
 Name[uk]=Час та дата
 Name[uz]=Сана ва вақт
-Name[xx]=xxTime & Datexx
 Name[zh_CN]=时间和日期
 Comment=KOrganizer Time Configuration
 Comment[ar]=إعداد وقت KOrganizer
@@ -98,7 +97,6 @@
 Comment[tg]=Танзимоти вақти органайзери KDE
 Comment[tr]=KOrganizer Zaman Yapılandırması
 Comment[uk]=Налаштування часу та дати в KOrganizer
-Comment[xx]=xxKOrganizer Time Configurationxx
 Comment[zh_CN]=KOrganizer 时间配置
 Keywords=korganizer,time
 Keywords[be]=K Арганізатар,час,korganizer,time
@@ -142,5 +140,4 @@
 Keywords[tr]=korganizer,zaman
 Keywords[uk]=korganizer,час,дата
 Keywords[uz]=korganizer,органайзер,сана,вақт
-Keywords[xx]=xxkorganizer,timexx
 Keywords[zh_CN]=korganizer,time,时间
Index: korganizer/koprefs.h
===================================================================
--- korganizer/koprefs.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/koprefs.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -88,7 +88,7 @@
 
     void setResourceColor ( const QString &, const QColor & );
     QColor* resourceColor( const QString & );
-    
+
     QString mHtmlExportFile;
 
     // Groupware passwords
@@ -102,6 +102,7 @@
     QDict<QColor> mResourceColors;
     QColor mDefaultResourceColor;
 
+    QFont mDefaultTimeBarFont;
     QFont mDefaultMonthViewFont;
 
   public: // Do not use - except in KOPrefsDialogMain
Index: korganizer/exportwebdialog.cpp
===================================================================
--- korganizer/exportwebdialog.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/exportwebdialog.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -64,9 +64,9 @@
 #include "exportwebdialog.moc"
 
 
-// FIXME: The basic structure of this dialog has been copied from KPrefsDialog, 
-//        because we want custom buttons, a Tabbed dialog, and a different 
-//        headline... Maybe we should try to achieve the same without code 
+// FIXME: The basic structure of this dialog has been copied from KPrefsDialog,
+//        because we want custom buttons, a Tabbed dialog, and a different
+//        headline... Maybe we should try to achieve the same without code
 //        duplication.
 ExportWebDialog::ExportWebDialog( HTMLExportSettings *settings, QWidget *parent,
                                   const char *name)
@@ -83,7 +83,7 @@
 
   connect( this, SIGNAL( user1Clicked() ), SLOT( slotOk() ) );
   connect( this, SIGNAL( cancelClicked() ), SLOT( reject() ) );
-  
+
   readConfig();
 }
 
@@ -157,9 +157,9 @@
 
   QGroupBox *destGroup = new QVGroupBox(i18n("Destination"), mGeneralPage );
   topLayout->addWidget(destGroup);
-  KPrefsWidPath *pathWid = addWidPath( mSettings->outputFileItem(), 
+  KPrefsWidPath *pathWid = addWidPath( mSettings->outputFileItem(),
                                        destGroup, "text/html", KFile::File );
-  connect( pathWid->urlRequester(), SIGNAL( textChanged( const QString & ) ), 
+  connect( pathWid->urlRequester(), SIGNAL( textChanged( const QString & ) ),
            SLOT( slotTextChanged( const QString & ) ) );
 
   topLayout->addStretch( 1 );
@@ -174,7 +174,7 @@
 {
   mTodoPage = addPage(i18n("To-dos"));
   QVBoxLayout *topLayout = new QVBoxLayout( mTodoPage, 10 );
-  
+
   QHBox *hbox = new QHBox( mTodoPage );
   topLayout->addWidget( hbox );
   addWidString( mSettings->todoListTitleItem(), hbox );
@@ -182,6 +182,7 @@
   QVBox *vbox = new QVBox( mTodoPage );
   topLayout->addWidget( vbox );
   addWidBool( mSettings->taskDueDateItem(), vbox );
+  addWidBool( mSettings->taskLocationItem(), vbox );
   addWidBool( mSettings->taskCategoriesItem(), vbox );
   addWidBool( mSettings->taskAttendeesItem(), vbox );
 //  addWidBool( mSettings->taskExcludePrivateItem(), vbox );
@@ -201,6 +202,7 @@
 
   QVBox *vbox = new QVBox( mEventPage );
   topLayout->addWidget( vbox );
+  addWidBool( mSettings->eventLocationItem(), vbox );
   addWidBool( mSettings->eventCategoriesItem(), vbox );
   addWidBool( mSettings->eventAttendeesItem(), vbox );
 //  addWidBool( mSettings->eventExcludePrivateItem(), vbox );
Index: korganizer/korganizer_configgroupscheduling.desktop
===================================================================
--- korganizer/korganizer_configgroupscheduling.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/korganizer_configgroupscheduling.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -52,7 +52,6 @@
 Name[tg]=Ҷадвали гурӯҳҳо
 Name[tr]=Group Zamanlama
 Name[uk]=Розклад груп
-Name[xx]=xxGroup Schedulingxx
 Name[zh_CN]=组日程安排
 Comment=KOrganizer Group Scheduling Configuration
 Comment[ar]=إعداد جدولة مجموعة KOrganizer
@@ -93,7 +92,6 @@
 Comment[tg]=Танзимоти ҷадвали гурӯҳҳои органайзер-KDE
 Comment[tr]=KOrganizer Grup Zamanlama Yapılandırması
 Comment[uk]=Налаштування групового розкладу в KOrganizer
-Comment[xx]=xxKOrganizer Group Scheduling Configurationxx
 Comment[zh_CN]=Korganizer 组日程安排配置
 Keywords=korganizer,group,scheduling
 Keywords[bg]=организатор, разписание, настройки, korganizer, group, scheduling
@@ -132,5 +130,4 @@
 Keywords[tg]=korganizer,group,scheduling,ҷадвалигурӯҳҳо,органайзер
 Keywords[tr]=korganizer,grup,zamanlama
 Keywords[uk]=korganizer,груп,розклад
-Keywords[xx]=xxkorganizer,group,schedulingxx
 Keywords[zh_CN]=korganizer,group,scheduling,组,日程安排
Index: korganizer/actionmanager.cpp
===================================================================
--- korganizer/actionmanager.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/actionmanager.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -490,7 +490,7 @@
   connect( mCalendarView,SIGNAL( groupEventsSelected( bool ) ),
            action,SLOT( setEnabled( bool ) ) );
 
-  action = new KAction( i18n("Send &Cancellation to Attendees"), 0,
+  action = new KAction( i18n("Send &Cancelation to Attendees"), 0,
                         mCalendarView, SLOT( schedule_cancel() ),
                         mACollection, "schedule_cancel" );
   action->setEnabled( false );
Index: korganizer/korgac/korgac.desktop
===================================================================
--- korganizer/korgac/korgac.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/korgac/korgac.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -6,10 +6,14 @@
 Name[cs]=Klient upomínek KOrganizeru
 Name[da]=KOrganizer-påmindelsesklient
 Name[de]=KOrganizer Erinnerungsfunktion
+Name[el]=Πελάτης υπενθύμισης του KOrganizer
 Name[es]=Cliente de recordatorio para KOrganizer
+Name[et]=KOrganizeri meeldetuletuse klientprogramm
+Name[eu]=KOrganizer-en oroigarrien bezeroa
 Name[fr]=Client d'alarme de KOrganizer
 Name[is]=Áminningarforrit fyrir KOrganizer
 Name[it]=Client degli avvisi di KOrganizer
+Name[ja]=KOrganizer リマインダクライアント
 Name[lt]=KOrganizer priminimų klientas
 Name[nb]=KOrganizer klient for påminning
 Name[nl]=KOrganizer herinneringsdaemon
@@ -22,7 +26,6 @@
 Name[sr@Latn]=Klijent podsetnika KOrganizer-a
 Name[sv]=Korganizer-påminnelseklient
 Name[uk]=Клієнт нагадувань KOrganizer
-Name[xx]=xxKOrganizer Reminder Clientxx
 Name[zh_CN]=KOrganizer 定时器客户端程序
 Exec=korgac --miniicon korganizer
 Icon=korganizer
@@ -32,10 +35,14 @@
 GenericName[cs]=Klient démona přípomínek KOrganizeru
 GenericName[da]=KOrganizer-påmindelsesklient
 GenericName[de]=Hintergrund-Erinnerungsfunktion für KOrganizer
+GenericName[el]=Δαίμονας πελάτη υπενθύμισης του KOrganizer
 GenericName[es]=Cliente del daemon de recordatorio para KOrganizer
+GenericName[et]=KOrganizeri meeldetuletusdeemoni klientprogramm
+GenericName[eu]=KOrganizer-en oroigarrien deabruaren bezeroa
 GenericName[fr]=Client pour le démon d'alarme de KOrganizer
 GenericName[is]=Áminningarpúki fyrir KOrganizer
 GenericName[it]=Client del demone degli avvisi di KOrganizer
+GenericName[ja]=KOrganizer リマインダデーモンクライアント
 GenericName[lt]=KOrganizer priminimų tarnybos klientas
 GenericName[nb]=KOrganizer klient for påminningstjenesten
 GenericName[nl]=KOrganizer herinneringsdaemon
@@ -46,9 +53,8 @@
 GenericName[ru]=Клиент службы уведомлений KOrganizer
 GenericName[sr]=Клијент демона подсетника KOrganizer-а
 GenericName[sr@Latn]=Klijent demona podsetnika KOrganizer-a
-GenericName[sv]=Korganizer-påminnelsedemonklient
+GenericName[sv]=Korganizer-alarmdemonklient
 GenericName[uk]=Даемон клієнта нагадування для KOrganizer
-GenericName[xx]=xxKOrganizer Reminder Daemon Clientxx
 GenericName[zh_CN]=KOrganizer 定时守护进程的客户端程序
 Terminal=false
 X-KDE-autostart-after=panel
Index: korganizer/interfaces/calendar/calendarplugin.desktop
===================================================================
--- korganizer/interfaces/calendar/calendarplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/interfaces/calendar/calendarplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -59,7 +59,6 @@
 Comment[ven]=U pulaga ha khalenda
 Comment[vi]=Plugin lịch
 Comment[xh]=Ikhalenda ye Plugin
-Comment[xx]=xxCalendar Pluginxx
 Comment[zh_CN]=日历插件
 Comment[zh_TW]=Calendar 外掛程式
 Comment[zu]=Iplagi Yekhalanda
Index: korganizer/interfaces/calendar/calendardecoration.desktop
===================================================================
--- korganizer/interfaces/calendar/calendardecoration.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/interfaces/calendar/calendardecoration.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -55,7 +55,6 @@
 Comment[ven]=Pulagini yo khavhisiwaho ya khalenda
 Comment[vi]=Plugin phối trí lịch 
 Comment[xh]=Ikhalenda Yohombiso lwe Plugin
-Comment[xx]=xxCalendar Decoration Pluginxx
 Comment[zh_CN]=日历装饰插件
 Comment[zh_TW]=Calendar 文字裝飾外掛程式
 Comment[zu]=Ikhalenda Yeplagi Yokuhlobisa
Index: korganizer/interfaces/korganizer/korgprintplugin.desktop
===================================================================
--- korganizer/interfaces/korganizer/korgprintplugin.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/interfaces/korganizer/korgprintplugin.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -49,7 +49,6 @@
 Comment[uk]=Складова KOrganizer
 Comment[ven]=Tshipida tsha mudzudzanyi wa K
 Comment[xh]=Indawana yeKOrganizer
-Comment[xx]=xxKOrganizer Partxx
 Comment[zh_CN]=KOrganizer 部件
 Comment[zh_TW]=KOrganizer 組件
 Comment[zu]=KUmgqugquzeleli Wengxenye
Index: korganizer/interfaces/korganizer/korganizerpart.desktop
===================================================================
--- korganizer/interfaces/korganizer/korganizerpart.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/interfaces/korganizer/korganizerpart.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -49,7 +49,6 @@
 Comment[uk]=Складова KOrganizer
 Comment[ven]=Tshipida tsha mudzudzanyi wa K
 Comment[xh]=Indawana yeKOrganizer
-Comment[xx]=xxKOrganizer Partxx
 Comment[zh_CN]=KOrganizer 部件
 Comment[zh_TW]=KOrganizer 組件
 Comment[zu]=KUmgqugquzeleli Wengxenye
Index: korganizer/koagenda.cpp
===================================================================
--- korganizer/koagenda.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/koagenda.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -903,7 +903,7 @@
     if ( !mItemMoved ) {
       if ( !mChanger || !mChanger->beginChange( mActionItem->incidence() ) ) {
         KMessageBox::information( this, i18n("Unable to lock item for "
-                             "modification. You cannot change make any changes."),
+                             "modification. You cannot make any changes."),
                              i18n("Locking Failed"), "AgendaLockingFailed" );
         mScrollUpTimer.stop();
         mScrollDownTimer.stop();
Index: korganizer/komonthview.cpp
===================================================================
--- korganizer/komonthview.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/komonthview.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -437,7 +437,7 @@
       public IncidenceBase::Visitor
 {
   public:
-    CreateItemVisitor() : mItem(0) {}
+    CreateItemVisitor() : mItem(0) { emails = KOPrefs::instance()->allEmails(); }
 
     bool act( IncidenceBase *incidence, QDate date, QPalette stdPal )
     {
@@ -447,6 +447,7 @@
       return incidence->accept( *this );
     }
     MonthViewItem *item() const { return mItem; }
+    QStringList emails;
 
   protected:
     bool visit( Event *event ) {
@@ -487,7 +488,7 @@
         mItem->setPalette( mStandardPalette );
       }
 
-      Attendee *me = event->attendeeByMails( KOPrefs::instance()->allEmails() );
+      Attendee *me = event->attendeeByMails( emails );
       if ( me != 0 ) {
         mItem->setReply( me->status() == Attendee::NeedsAction && me->RSVP() );
       } else
@@ -524,10 +525,8 @@
 };
 
 
-void MonthViewCell::addIncidence( Incidence *incidence )
+void MonthViewCell::addIncidence( Incidence *incidence, CreateItemVisitor& v)
 {
-  CreateItemVisitor v;
-
   if ( v.act( incidence, mDate, mStandardPalette ) ) {
     MonthViewItem *item = v.item();
     if ( item ) {
@@ -933,7 +932,7 @@
     QDate mDate;
 };
 
-void KOMonthView::changeIncidenceDisplayAdded( Incidence *incidence )
+void KOMonthView::changeIncidenceDisplayAdded( Incidence *incidence, MonthViewCell::CreateItemVisitor& v)
 {
   MonthViewCell *mvc;
   Event *event = 0;
@@ -955,31 +954,32 @@
 // FIXME: This breaks with recurring multi-day events!
      for ( uint i = 0; i < mCells.count(); i++ ) {
        if ( incidence->recursOn( mCells[i]->date() ) ) {
-         mCells[i]->addIncidence( incidence );
+         mCells[i]->addIncidence( incidence, v );
        }
      }
   } else if ( event ) {
       for ( QDateTime _date = date;
             _date <= event->dtEnd(); _date = _date.addDays( 1 ) ) {
         mvc = lookupCellByDate( _date.date() );
-        if ( mvc ) mvc->addIncidence( event );
+        if ( mvc ) mvc->addIncidence( event, v );
       }
     } else if ( todo ) {
         mvc = lookupCellByDate( date );
-        if ( mvc ) mvc->addIncidence( todo );
+        if ( mvc ) mvc->addIncidence( todo, v );
       }
 }
 
 void KOMonthView::changeIncidenceDisplay( Incidence *incidence, int action )
 {
+  MonthViewCell::CreateItemVisitor v;
   switch ( action ) {
     case KOGlobals::INCIDENCEADDED:
-      changeIncidenceDisplayAdded( incidence );
+      changeIncidenceDisplayAdded( incidence, v );
       break;
     case KOGlobals::INCIDENCEEDITED:
       for( uint i = 0; i < mCells.count(); i++ )
         mCells[i]->removeIncidence( incidence );
-      changeIncidenceDisplayAdded( incidence );
+      changeIncidenceDisplayAdded( incidence, v );
       break;
     case KOGlobals::INCIDENCEDELETED:
       for( uint i = 0; i < mCells.count(); i++ )
@@ -999,8 +999,9 @@
   Incidence::List incidences = calendar()->incidences();
   Incidence::List::ConstIterator it;
 
+  MonthViewCell::CreateItemVisitor v;
   for ( it = incidences.begin(); it != incidences.end(); ++it )
-    changeIncidenceDisplayAdded( *it );
+    changeIncidenceDisplayAdded( *it, v );
 
   processSelectionChange();
 }
Index: korganizer/datenavigatorcontainer.cpp
===================================================================
--- korganizer/datenavigatorcontainer.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/datenavigatorcontainer.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -49,7 +49,7 @@
   mNavigatorView = new KDateNavigator( this, name );
   QWhatsThis::add( mNavigatorView,
                    i18n( "<qt><p>Select the dates you want to "
-                         "display in KOrganizer's main view here. Hold the "
+                         "display in KOrganizer's main view here. Hold down the "
                          "mouse button to select more than one day.</p>"
                          "<p>Press the top buttons to browse to the next "
                          "/ previous months or years.</p>"
Index: korganizer/plugins/datenums/datenums.desktop
===================================================================
--- korganizer/plugins/datenums/datenums.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/plugins/datenums/datenums.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -33,7 +33,6 @@
 Name[tg]=Санаҳои тақвим
 Name[tr]=Takvimler için Tarih Rakamları Eklentisi
 Name[uk]=Втулок дат для календарів
-Name[xx]=xxDate Numbers Plugin for Calendarsxx
 Name[zh_CN]=日历的日期数字插件
 Comment=For each day this plugin shows its daynumber of the year at the top of the agenda view. For example, February 1 is day 32 of the year.
 Comment[bg]=Приставката служи за показване на деня от началото на годината. Примерно, 1-ви февруари е 32-ия ден от годината.
@@ -49,6 +48,7 @@
 Comment[hu]=Megjeleníti az év elejétől eltelt napok számát az áttekintő nézet tetején. Például február elseje az év 32. napja.
 Comment[is]=Þetta íforrit sýnir efst í fundarskránni númer hvers dags í árinu. T.d. er 1. febrúar 32. dagurinn í árinu.
 Comment[it]=Per ciascun giorno, questo plugin mostra la data giuliana (numero progressivo a partire dal primo gennaio dell'anno corrente). Per esempio al primo di febbraio corrisponde il numero 32.
+Comment[ja]=各日付について本プラグインはアジェンダビューの先頭にその年の何日目であるかを表示します。例えば、2 月 1 日はその年の 32 日目です。
 Comment[lt]=Kiekvienai dienai šis priedas rodo metų dienos numerį tvarkyklės viršuje. Pvz., Vasario 1 yra32 metų diena.
 Comment[nb]=For hver dag viser dette programtillegget dagens nummer i året øverst på dagsvisningen. 1. februar er f.eks. dag nr. 32 i året.
 Comment[nl]=Deze plugin zorgt ervoor dat het dagnummer boven de agendaweergave wordt geplaatst. Bijvoorbeeld, bij 1 februari hoort dagnummer 32.
@@ -64,7 +64,6 @@
 Comment[ta]=ஒவ்வோரு நாளும் நிகழ்ச்சி நிரல் காட்சியின் மேற்புறத்தில் வருடத்தின் நாளின் எண்ணை இந்த சொருகுப்பொருள் காட்டுகிறது. உதாரணமாக, பிப்ரவரி 1 வருடத்தின் 32வது நாள்
 Comment[tr]=Bu eklenti, her gün için tarih bilgisini gün sayısı olarak ajanda görünümünün yukarısında gösterir. Örneğin, 1 Şubat yılın 32. günüdür.
 Comment[uk]=Цей втулок показує зверху перегляду щоденника номер для кожного дня року. Наприклад, 1-го лютого - це 32 день року.
-Comment[xx]=xxFor each day this plugin shows its daynumber of the year at the top of the agenda view. For example, February 1 is day 32 of the year.xx
 Comment[zh_CN]=此插件可对每天在议事日程视图中上方显示该日在一年中的序号。例如，2月1日是一年的第32天。
 Type=Service
 ServiceTypes=Calendar/Plugin,Calendar/Decoration
Index: korganizer/plugins/projectview/projectview.desktop
===================================================================
--- korganizer/plugins/projectview/projectview.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/plugins/projectview/projectview.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -52,7 +52,6 @@
 Name[ven]=Plugin ya mbonalelo ya phurodzhekiti ya mudzudzanyi wa K
 Name[vi]=Plugin xem dự án cho KOrganizer
 Name[xh]=Iprojekthi Ijongela KOrganize i Plugin
-Name[xx]=xxProject View Plugin for KOrganizerxx
 Name[zh_CN]=KOrganizer 的项目查看插件
 Name[zh_TW]=KOrganizer 專案檢視外掛程式
 Name[zu]=Project Khombisa Iplagi ye KUmgqugquzeli
@@ -69,6 +68,7 @@
 Comment[hu]=Ezzel a modullal projekttervező nézet alakítható ki a KOrganizerben (például a feladatokhoz vagy a havi nézetekhez). Ha aktiválja ezt a modult, átválthat projektnézetbe, hogy a feladatok projekttervként legyenek megtekinthetők.
 Comment[is]=Þetta íforrit veitir verkskipulagssýn fyrir KOrganizer (svipað og verkþátta eða mánaðarsýn). Ef þú virkjar þetta íforrit, getur þú á einfaldan hátt skipt yfir í verkefnasýn og skoðað verkþáttalistann þinn í skipuleggjara.
 Comment[it]=Questo plugin fornisce una vista di pianificazione progetto per KOrganizer (come la vista delle cose da fare o quella mensile). Se abiliti questo plugin, puoi passare dalla vista progetto alla vista delle cose da fare come in un pianificatore di progetti.
+Comment[ja]=本プラグインは (to-do 又は月ごとのビューのような) KOrganizer 用のプロジェクト計画ビューを供給します。本プラグインを有効にすると、プロジェクトビューに切替え、プロジェクトプランナにあるような to-do リストを閲覧できます。
 Comment[lt]=Šis priedas pateikia KOrganizaer projekto planavimo vaizdą (panašiai kaip darbų ar mėnesio vaizdai). Jei įjungsite šį įskiepį, galėsite peršokti į projekto vaizdą ir peržiūrėti savo darbų sąrašą kaip projektą.
 Comment[nb]=Dette tilleggsprogrammet lager en prosjektplan-visning for KOrganizer (som i gjørelister og månedsvisninger). Slår du på dette tilleggsprogrammet kan du bytte til prosjektvisning og se på gjørelista som i en prosjektplan.
 Comment[nl]=Deze plugin biedt een projectweergave voor KOrganizer (net zoals een takenlijst of maandweergave). Wanneer u deze plugin aanzet, kunt u deze weergave aanzetten om uw takenlijst te bekijken als een projectplanner.
@@ -84,7 +84,6 @@
 Comment[ta]=இந்த சொருகுப்பொருள் KOrganizer-க்கான ஒரு திட்டப்பணி செய்யும் காட்சியை வழங்குகிறது. (செய்யவேண்டியது அல்லது மாத காட்சிகள் போன்ற). இது செயலில் இருந்தால், நீங்கள் திட்டக்காட்சிக்கு செல்லலாம் திட்ட அமைப்பான் போன்ற திட்டக் காட்சிக்கும் செல்லலாம்.
 Comment[tr]=Bu eklenti, KOrganizer için bir proje planı görünümü sağlar (yapılacaklar ve aylık görünüm gibi). Eğer bu eklentiyi aktif hale getirirseniz, proje görünümüne geçebilir ve yapılacaklar listenizi proje planlayıcısı şeklinde görüntüleyebilirsiniz.
 Comment[uk]=Цей втулок показує вигляд планування проектів у KOrganizer (подібно до виглядів завдань або місячного). Якщо увімкнути цей втулок, то можна переглядати ваш список завдань у вигляді плановика проектів.
-Comment[xx]=xxThis plugin provides a project planning view for KOrganizer (like the to-do or month views). If you enable this plugin, you can switch to the project view and view your to-do list like in a project planner.xx
 Comment[zh_CN]=此插件为 KOrganizer 提供了项目规划视图(类似于待办或月视图)。如果您启用了此插件，您可以像项目规划程序那样切换到项目视图并查看您的待办清单。
 Type=Service
 ServiceTypes=KOrganizer/Part
Index: korganizer/plugins/exchange/exchange.desktop
===================================================================
--- korganizer/plugins/exchange/exchange.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/plugins/exchange/exchange.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -37,7 +37,6 @@
 Name[tg]=Дастрасӣ ба Microsoft Exchange 2000
 Name[tr]=KOrganizer için Microsoft Exchange 2000 Eklentisi
 Name[uk]=Втулок Microsoft Exchange 2000 для KOrganizer
-Name[xx]=xxMicrosoft Exchange 2000 Plugin for KOrganizerxx
 Name[zh_CN]=KOrganizer 的 Microsoft Exchange 2000 插件
 Comment=This plugin allows korganizer users to work with Microsoft Exchange 2000 groupware servers.
 Comment[bg]=Приставката служи за връзка на Korganizer със сървъра Microsoft Exchange 2000 groupware.
@@ -53,6 +52,7 @@
 Comment[hu]=Ez a modul lehetővé teszi KOrganizer-felhasználóknak Microsoft Exchange 2000-kiszolgálón tárolt csoportmunka-adatok elérését.
 Comment[is]=Þetta íforrit gerir KOrganizer kleyft að vinna með Microsoft Exchange 2000 hópvinnuþjónum.
 Comment[it]=Questo plugin pemette agli utenti di korganizer di lavorare con i server groupware Microsoft Exchange 2000.
+Comment[ja]=本プラグインにより、korganizer のユーザは Microsoft Exchange 2000 グループウェアサーバとの同期が可能となります。
 Comment[lt]=Šis priedas leidžia korganizer dirbti su Microsoft Exchange 2000 groupware serveriais.
 Comment[nb]=Med dette programtillegget kan korganizer-brukere arbeide med gruppevare-tjenere fra Microsoft Exchange 2000.i
 Comment[nl]=Deze plugin maakt het mogelijk om Microsoft Exchange 2000 te gebruiken in KOrganizer.
@@ -68,7 +68,6 @@
 Comment[ta]=இந்த சொருகுப்பொருள் korganizer பயனர்களை மைக்ரோசாப்ட் எக்ஸ்சேஞ்ச் 2000 குழுவாரி சேவகன்களில் பணி செய்ய அனுமதிக்கிறது.
 Comment[tr]=Bu eklenti KOrganizer kullanıcılarının Microsoft Exchange 2000 sunucuları ile çalışabilmelerini sağlar.
 Comment[uk]=Цей втулок дозволяє користувачам korganizer працювати з серверами групової роботи Microsoft Exchange 2000.
-Comment[xx]=xxThis plugin allows korganizer users to work with Microsoft Exchange 2000 groupware servers.xx
 Comment[zh_CN]=此插件允许 KOrganizer 用户与 Microsoft Exchange 2000 群件服务器协同工作。
 Type=Service
 ServiceTypes=KOrganizer/Part
Index: korganizer/plugins/printing/whatsnext/whatsnextprint.desktop
===================================================================
--- korganizer/plugins/printing/whatsnext/whatsnextprint.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/plugins/printing/whatsnext/whatsnextprint.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -13,6 +13,7 @@
 Name[hu]=A közeljövő eseményeinek kinyomtatása
 Name[is]=Hvað er næst prentstíll
 Name[it]=Stile di stampa "cosa viene dopo"
+Name[ja]=次の印刷スタイル
 Name[lt]=Ateinančių įvykių spausdinimo stilius
 Name[nb]=Utskriftsstil for Hva Nå
 Name[nl]=Printstijl voor Wat komt er nu
@@ -28,7 +29,6 @@
 Name[ta]=அடுத்டு என்ன அச்சுப் பாணி
 Name[tr]=Sıradaki Nedir Yazdırma Tarzı
 Name[uk]=Стиль друку "Що далі?"
-Name[xx]=xxWhat's Next Print Stylexx
 Name[zh_CN]=下步安排打印样式
 Comment=This plugin allows you to print out a list of all upcoming events and to-dos.
 Comment[bg]=Приставката служи за печат на бъдещи събития и задачи в списъчна форма.
@@ -43,6 +43,7 @@
 Comment[hu]=Ezzel a modullal kinyomtathatók a rövidesen aktuálissá váló feladatok és események.
 Comment[is]=Þetta íforrit gerir þér kleyft að prenta út lista yfir alla væntanlega atburði og verkþætti.
 Comment[it]=Questo plugin vi permette di stampare una lista dei prossimi eventi e cose da fare.
+Comment[ja]=本プラグインにより、将来の全てのイベントや to-do のリストを印刷できるようになります。
 Comment[lt]=Šis priedas leidžia spausdinti sąrašą visų artėjančių įvykių ir darbų.
 Comment[nb]=Med dette tilleggsprogrammet kan du skrive ut en liste over kommende hendelser og ting som skal gjøres.
 Comment[nl]=Deze plugin maakt het mogelijk om een lijst van alle komende evenementen en taken uit te printen.
@@ -58,7 +59,6 @@
 Comment[ta]=இந்த சொருகுப்பொருள் ஒரு வரப்போகும் நிகழ்வுகளின் பட்டியல் மற்றும் செய்யவேண்டியவைகளை அச்சிட உங்களை அனுமதிக்கிறது.
 Comment[tr]=Bu eklenti, sıradaki olayları ve yapılacaklar listesini bir liste biçiminde yazdırmanızı sağlar.
 Comment[uk]=Цей втулок дозволяє друкувати список всіх майбутніх подій та завдань.
-Comment[xx]=xxThis plugin allows you to print out a list of all upcoming events and to-dos.xx
 Comment[zh_CN]=此插件允许您打印所有即将到达的事件和代办事宜。
 Type=Service
 ServiceTypes=Calendar/Plugin,KOrganizer/PrintPlugin
Index: korganizer/plugins/printing/journal/journalprint.desktop
===================================================================
--- korganizer/plugins/printing/journal/journalprint.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/plugins/printing/journal/journalprint.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -13,6 +13,7 @@
 Name[hu]=Naplónyomtatási stílus
 Name[is]=Dagbókarprentstíll
 Name[it]=Stile di stampa a diario
+Name[ja]=Journal 印刷スタイル
 Name[lt]=Dienyno spausdinimo stilius
 Name[nb]=Utskriftsstil for dagbok
 Name[nl]=Printstijl voor journaals
@@ -28,7 +29,6 @@
 Name[ta]=செய்தி அச்சுப்பாணி
 Name[tr]=Günlük Yazdırma Tarzı
 Name[uk]=Стиль друку журналом
-Name[xx]=xxJournal Print Stylexx
 Name[zh_CN]=日记打印样式
 Comment=This plugin allows you to print out journal entries (diary entries).
 Comment[bg]=Приставката служи за печат на дневника.
@@ -43,6 +43,7 @@
 Comment[hu]=Ez a modul naplóbejegyzések kinyomtatását teszi lehetővé.
 Comment[is]=Þetta íforrit gerir þér kleyft að prenta út dagbókarfærslur.
 Comment[it]=Questo plugin ti permette di stampare le registrazioni del diario.
+Comment[ja]=本プラグインにより Journal のエントリ (日記のエントリ)を印刷可能となります。
 Comment[lt]=Šis priedas leidžia spausdinti dienyno įrašus.
 Comment[nb]=Med dette tilleggsprogrammet kan du skrive ut oppføringer i dagboka.
 Comment[nl]=Deze plugin maakt het mogelijk om journalen uit te printen (dagboekitems).
@@ -58,7 +59,6 @@
 Comment[ta]=இந்த சொருகுப்பொருள் இதழ் உள்ளீடுகளை அச்சிட உங்களை அனுமதிக்கிறது (நாள் குறிப்பேடு உள்ளீடுகள்).
 Comment[tr]=Bu eklenti, günlük girişlerinizi yazıcıdan çıkartmanızı sağlar.
 Comment[uk]=Цей журнал надає можливість друкувати записи журналу (записи щоденника).
-Comment[xx]=xxThis plugin allows you to print out journal entries (diary entries).xx
 Comment[zh_CN]=此插件允许您打印日记项目。
 Type=Service
 ServiceTypes=Calendar/Plugin,KOrganizer/PrintPlugin
Index: korganizer/plugins/printing/list/listprint.desktop
===================================================================
--- korganizer/plugins/printing/list/listprint.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/plugins/printing/list/listprint.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -14,6 +14,7 @@
 Name[hu]=Eseménylista kinyomtatása
 Name[is]=Listaprentstíll
 Name[it]=Stile di stampa ad elenco
+Name[ja]=印刷スタイルのリスト
 Name[lt]=Sąrašo spausdinimo stilius
 Name[nb]=Utskriftsstil for liste
 Name[nl]=Printstijl voor lijsten
@@ -29,7 +30,6 @@
 Name[ta]=அச்சு பாணியை பட்டியலிடு
 Name[tr]=Liste Yazdırma Tarzı
 Name[uk]=Стиль друку списком
-Name[xx]=xxList Print Stylexx
 Name[zh_CN]=列表打印样式
 Comment=This plugin allows you to print out events and to-dos in list form.
 Comment[bg]=Приставката служи за печат на събитията и задачите в списъчна форма.
@@ -45,6 +45,7 @@
 Comment[hu]=Ezzel a modullal listaként kinyomtathatók a feladatok és események.
 Comment[is]=Þetta íforrit gerir þér kleyft að prenta út lista með atburðum og verkþáttum.
 Comment[it]=Questo plugin ti permette di stampare eventi e cose da fare in modalità elenco.
+Comment[ja]=本プラグインにより、リストフォーム内のイベントや to-do を印刷できるようになります。
 Comment[lt]=Šis priedas leidžia spausdinti įvykius ir darbus sąrašo forma.
 Comment[nb]=Med dette tilleggsprogrammet kan du skrive ut hendelser og gjørelister på liste-form.
 Comment[nl]=Deze plugin maakt het mogelijk om evenementen en taken in lijstvorm uit te printen.
@@ -60,7 +61,6 @@
 Comment[ta]=இந்த சொருகுப்பொருள் பட்டியல் படிவத்தில் உள்ள செய்திகள் மற்றும் செய்யவேண்டியவைகளை அச்சிட உங்களை அனுமதிக்கிறது.
 Comment[tr]=Bu eklenti, olayları ve yapılacaklar listesini bir liste biçiminde yazdırmanızı sağlar.
 Comment[uk]=Цей втулок дозволяє друкувати події і завдання у вигляді списку.
-Comment[xx]=xxThis plugin allows you to print out events and to-dos in list form.xx
 Comment[zh_CN]=此插件允许您以列表格式打印事件和待办事宜。
 Type=Service
 ServiceTypes=Calendar/Plugin,KOrganizer/PrintPlugin
Index: korganizer/plugins/timespanview/timespanview.desktop
===================================================================
--- korganizer/plugins/timespanview/timespanview.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/plugins/timespanview/timespanview.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -5,6 +5,7 @@
 Name[cs]=Modul časového pohledu pro KOrganizer
 Name[da]=Timespan-visning-plugin for KOrganizer
 Name[de]=Zeitspannenansicht-Modul für KOrganizer
+Name[el]=Πρόσθετο προβολής εργασιών του KOrganizer
 Name[es]=Extensión de visor de Timespan para KOrganizer
 Name[et]=KOrganizeri perioodivaate plugin
 Name[eu]=KOrganizer-rako denbora-barruti ukuspegi plugin-a
@@ -12,6 +13,7 @@
 Name[hu]=Időszakáttekintő bővítőmodul a KOrganizerhez
 Name[is]=Tímabilsskoðunar íforrit fyrir KOrganizer
 Name[it]=Plugin vista intervalli temporali per KOrganizer
+Name[ja]=KOrganizer 用 Timespan View プラグイン
 Name[lt]=Laiko tarpsnio vaizdo KOrganizer priedas
 Name[nb]=Programtilllegg for periodevisning i KOrganizer
 Name[nl]=Tijdspanneplugin voor KOrganizer
@@ -27,13 +29,13 @@
 Name[ta]=கேஅமைப்பாளருக்கான திட்டக் காட்சி சொருகுப்பொருள்
 Name[tr]=KOrganizer için Zaman Dilimi Görünümü Eklentisi
 Name[uk]=Втулок перегляду періоду часу для KOrganizer
-Name[xx]=xxTimespan View Plugin for KOrganizerxx
 Name[zh_CN]=KOrganizer 的时间跨度查看插件
 Comment=This plugin provides a timespan view for korganizer (like the to-do or month views). If you enable this plugin, you can switch to the timespan view and view your events like in a Gantt diagram.
 Comment[bg]=Приставката служи за преглед на събитията и задачите в зададен период от време.
 Comment[cs]=Tento modul umožňuje časový pohled pro korganizer (podobně jako úkoly nebo měsíční pohled). Pokud ho povolíte, můžete se přepnout na časový pohled a prohlížet si události v Ganttově diagramu.
 Comment[da]=Pluginnet sørger for en tidsintervalsvisning i Korganizer (som ligner gøremål eller månedsvisning). Hvis du aktiverer dette plugin kan du skifte til tidsintervalvisning og vise dine begivenheder som i et Gantt-diagram.
 Comment[de]=Mit diesem Modul wird KOrganizer um eine Zeitspannenansicht (ähnlich der Aufgaben- und Monatsansicht) erweitert. Wenn Sie es einschalten, können Sie zur Zeitspannenansicht wechseln und sich Ihre Ereignisse wie in einem Gantt-Diagramm ansehen.
+Comment[el]=Αυτό το πρόσθετο παρέχει μία προβολή 'ανοίγματος' χρόνου για το korganizer (όπως οι μηνιαίες προβολές των προς υλοποίηση εργασιών). Αν το ενεργοποιήσετε, μπορείτε να αλλάξετε σε προβολή 'ανοίγματος' χρόνου και να δείτε τα γεγονότα σας όπως ένα διάγραμμα του Gantt.
 Comment[es]=Esta extensión proporciona una vista de timespan para korganizer (como la vista de tareas pendientes o la mensual). Si activa esta extensión, puede pasar a la vista de timespan y ver sus eventos como un diagrama de Gantt.
 Comment[et]=See plugin lisab KOrganizerile perioodivaate (nagu ülesannete või kuuvaade). Selle lubamisel saab lülituda perioodivaatele ning näha oma sündmusi Gantti diagrammina.
 Comment[eu]=Plugin honek KOrganizer-entzat denbora barruti ikuspegi bat eskeintzen du. Plugin hau gaitzen baduzu denbora-barruti ikuspegira alda zaitezke gertaerak Gantt diagrama batean bezala ikusi.
@@ -41,6 +43,7 @@
 Comment[hu]=Ezzel modullal egy időszakot lehet áttekinteni a KOrganizerben (például a feladatokat vagy a havi nézeteket). Ha aktiválja ezt a modult, átválthat időszakos nézetbe, hogy az események Gantt-diagramon legyenek megtekinthetők.
 Comment[is]=Þetta íforrit veitir tímabilssýn fyrir KOrganizer (svipað og verkþátta eða mánaðarsýn). Ef þú virkjar þetta íforrit getur þú skipt yfir í tímabilssýn og skoðað atburðina þína eins og á Gantt skýringarmynd.
 Comment[it]=Questo plugin fornisce una vista a intervalli temporali. Se abiliti questo plugin, potrai passare alla vista a intervalli temporali e vedere i tuoi eventi come in un diagramma di Gantt.
+Comment[ja]=本プラグインは (to-do や month view のような) korganizer 用の timespan view を供給します。本プラグインを有効にすると、ガントチャートのように timespan view を切替え、イベントを表示できます。
 Comment[lt]=Šis priedas korganizer programoje sudaro galimybę apžvelgti laiko tarpą (pvz., darbų arba mėnesio peržiūra). Įgalinus šį priedą galėsite persijungti į laiko tarpo peržiūrą ir žiūrėti įvykius tarsi Gantt diagramoje.
 Comment[nb]=Dette tilleggsprogrammet lager en periodevisning for korganizer (slik som gjøreliste og månedsvisning). Hvis du slår på dette tilleggsprogrammet kan du bytte til periodevisning og se hendelser som i et Gantt-diagram.
 Comment[nl]=Deze plugin biedt een weergave voor KOrganizer (zoals de takenlijst en de maandweergave). Wanneer u deze plugin inschakelt kunt u kiezen voor een weergave waarin u uw evenementen in een Gantt-diagram kunt bekijken.
@@ -55,7 +58,6 @@
 Comment[ta]=இந்த சொருகுப்பொருள் korganizerக்கான ஒரு குறுகிய நேரத்தை வழங்குகிறது. lசெய்யவேண்டியவை அல்ல்து மாதக் காட்சிகள் போன்ற). இந்த சொருகுப்பொருள் செயலில் இருந்தால், நீங்கள் குறுகிய நேரக் காட்சி மற்ரும் Gantt விளக்க வரைபடத்தில் உள்ளது போன்ற நிகழ்வுகளை பார்க்கலாம்.
 Comment[tr]=Bu eklenti, KOrganizer için zaman dilimi görünümü sağlar (yapılacaklar listesi ya da aylık görünüm gibi). Eğer bu eklentiyi aktif hale getirirseniz, zaman dilimi görünümüne geçebilir ve olayları Gantt diyagramı şeklinde görüntüleyebilirsiniz.
 Comment[uk]=Цей втулок показує вигляд діаграми Ганта для korganizer (подібно до вигляду завдань та місячного). Якщо увімкнути цей втулок, то можна переглядати ваші події у вигляді діаграми Ганта.
-Comment[xx]=xxThis plugin provides a timespan view for korganizer (like the to-do or month views). If you enable this plugin, you can switch to the timespan view and view your events like in a Gantt diagram.xx
 Comment[zh_CN]=此插件为 KOrganizer 提供了时间跨度视图(类似于待办或月视图)。如果您启用了此插件，您可以像甘特图程序那样切换到时间跨度视图并查看您的事件。
 Type=Service
 ServiceTypes=KOrganizer/Part
Index: korganizer/plugins/hebrew/hebrew.desktop
===================================================================
--- korganizer/plugins/hebrew/hebrew.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/plugins/hebrew/hebrew.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -36,7 +36,6 @@
 Name[tg]=Тақвимоти яҳудӣ
 Name[tr]=İbrani Takvimi Eklentisi
 Name[uk]=Втулок єврейського календаря
-Name[xx]=xxJewish Calendar Pluginxx
 Name[zh_CN]=犹太教日历插件
 Comment=Shows all dates in korganizer also in the Jewish calendar system.
 Comment[bg]=Приставката служи за показване на датите според еврейския календар.
@@ -52,6 +51,7 @@
 Comment[hu]=A KOrganizer dátumait kiírja a hagyományos zsidó naptár szerint is.
 Comment[is]=Sýna alla dagsetningar í KOrganizer sem eru einnig í dagatali gyðinga.
 Comment[it]=Mostra tutte le date in korganizer secondo il calendario ebraico.
+Comment[ja]=korganizer の全ての日付をユダヤ暦でも表示する。
 Comment[lt]=Rodo visas dienas kalendoriuje taip pat ir žydų kalendoriaus sistema.
 Comment[nb]=Viser alle datoer i korganizer også i det jødiske kalendersystemet. 
 Comment[nl]=Toont alle data in KOrganizer ook in het Joodse kalendersysteem.
@@ -67,7 +67,6 @@
 Comment[ta]=korganizer மற்றும் ஜேவிஷ் நாட்காட்டி அமைப்பில் ல் உள்ள எல்லா தேதிகளையும் காட்டுகிறது.
 Comment[tr]=KOrganizer'da tüm tarihleri İbrani takvimine göre gösterir.
 Comment[uk]=Показує всі дати в korganizer також і в системі єврейського календаря.
-Comment[xx]=xxShows all dates in korganizer also in the Jewish calendar system.xx
 Comment[zh_CN]=在 KOrganizer 中显示犹太教日历系统的全部日期。
 Type=Service
 ServiceTypes=Calendar/Plugin,Calendar/Decoration
Index: korganizer/korganizer.kcfg
===================================================================
--- korganizer/korganizer.kcfg	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/korganizer.kcfg	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -82,7 +82,7 @@
       <choices>
         <choice name="standardDestination">
           <label>Be added to the standard resource</label>
-          <whatsthis>Select this option to always record a new events, to-dos and journal entries using the standard resource.</whatsthis>
+          <whatsthis>Select this option to always record new events, to-dos and journal entries using the standard resource.</whatsthis>
         </choice>
         <choice name="askDestination">
           <label>Be asked which resource to use</label>
@@ -106,7 +106,7 @@
     </entry>
     <entry type="String" key="user_name" name="UserName">
       <label>Full &amp;name</label>
-      <whatsthis>Enter here your full name. This name will be displayed as "Organizer" in to-dos and events you create.</whatsthis>
+      <whatsthis>Enter your full name here. This name will be displayed as "Organizer" in to-dos and events you create.</whatsthis>
       <default code="true">i18n(&quot;Anonymous&quot;)</default>
     </entry>
     <entry type="String" key="user_email" name="UserEmail">
@@ -366,7 +366,6 @@
     <entry type="Font" key="TimeBar Font">
       <label>Time bar</label>
       <whatsthis>Press this button to configure the time bar font. The time bar is the widget that shows the hours in the agenda view. This button will open the &quot;Select Font&quot; dialog, allowing you to choose the hour font for the time bar.</whatsthis>
-      <default code="true">QFont(QString::null, 16)</default>
     </entry>
     <entry type="Font" key="AgendaView Font">
       <label>Agenda view</label>
Index: korganizer/komonthview.h
===================================================================
--- korganizer/komonthview.h	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/komonthview.h	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -127,6 +127,7 @@
 {
     Q_OBJECT
   public:
+    class CreateItemVisitor;
     MonthViewCell( KOMonthView * );
 
     /** Sets the date of the cell */
@@ -160,7 +161,7 @@
     /** Adds an incidence to the cell.
         Sets the right text and icons for this incidence.
     */
-    void addIncidence( Incidence * );
+    void addIncidence( Incidence *, MonthViewCell::CreateItemVisitor& );
     /** Removes an incidence from the cell.
         @return True if successful, false if deletion failed
        (e.g. when given incidence doesn't exist in the cell.
@@ -198,7 +199,6 @@
     void contextMenu( QListBoxItem * );
 
   private:
-    class CreateItemVisitor;
     KOMonthView *mMonthView;
   // We need the calendar for paint the ResourceColor
     Calendar *mCalendar;
@@ -253,7 +253,7 @@
     virtual void showIncidences( const Incidence::List &incidenceList );
 
     void changeIncidenceDisplay(Incidence *, int);
-    void changeIncidenceDisplayAdded(Incidence *);
+    void changeIncidenceDisplayAdded(Incidence *, MonthViewCell::CreateItemVisitor&);
 
     void clearSelection();
 
Index: korganizer/journalentry.cpp
===================================================================
--- korganizer/journalentry.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/journalentry.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -204,7 +204,7 @@
   QWhatsThis::add( mTimeCheck, i18n("Determines whether this journal entry has "
                                     "a time associated with it") );
   QWhatsThis::add( mTimeEdit, i18n( "Sets the time associated with this journal "
-                                    " entry" ) );
+                                    "entry" ) );
 
   mDeleteButton = new QToolButton( this, "deleteButton" );
   QPixmap pix = KOGlobals::self()->smallIcon( "editdelete" );
Index: korganizer/korganizer_configfreebusy.desktop
===================================================================
--- korganizer/korganizer_configfreebusy.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/korganizer_configfreebusy.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -50,7 +50,6 @@
 Name[tr]=Boş/Meşgul
 Name[uk]=Вільний/зайнятий час
 Name[uz]=Бўш/Банд
-Name[xx]=xxFree/Busyxx
 Name[zh_CN]=忙/闲
 Comment=KOrganizer Free/Busy Configuration
 Comment[bg]=Настройки на свободно/заето за KOrganizer
@@ -60,6 +59,7 @@
 Comment[cy]=Ffurfweddiad Rhydd/Prysur KTrefnydd
 Comment[da]=KOrganizer Fri/Optaget-indstilling
 Comment[de]=Frei/Beschäftigt-Festlegung für KOrganizer
+Comment[el]=Ρυθμίσεις KOrganizer Free/Busy
 Comment[es]=Configuración de libre/ocupado de KOrganizer
 Comment[et]=KOrganizeri vaba/hõivatuse seadistused
 Comment[eu]=KOrganizer-en Libre/Lanpetuta konfigurazioa
@@ -88,7 +88,6 @@
 Comment[tg]=Танзимоти вақти озоди органайзери KDE
 Comment[tr]=KOrganizer Boş/Meşgul Yapılandırması
 Comment[uk]=Налаштування вільного/зайнятого часу в KOrganizer
-Comment[xx]=xxKOrganizer Free/Busy Configurationxx
 Comment[zh_CN]=KOrganizer 空闲/忙碌配置
 Keywords=korganizer,freebusy,scheduling
 Keywords[bg]=организатор, свободно, заето, настройки, korganizer, freebusy, scheduling
@@ -98,6 +97,7 @@
 Keywords[cy]=korganizer,ktrefnydd,rhydd,prysur,trefnlennu
 Keywords[da]=korganizer,fri/optaget,skemalægning
 Keywords[de]=KOrganizer,Frei/Beschäftigt,Ablaufplanung
+Keywords[el]=korganizer,freebusy,προγραμματισμός
 Keywords[es]=korganizer,libreocupado,planificación
 Keywords[et]=korganizer,vaba,hõivatud,ajakava
 Keywords[eu]=korganizer,libre, lanpetuta,antolaketa
@@ -125,5 +125,4 @@
 Keywords[tg]=korganizer,freebusy,scheduling,органайзер, вақти холӣ,ҷадвал
 Keywords[tr]=korganizer,boş/meşgul,zamanlama
 Keywords[uk]=korganizer,вільно,зайнято,час,розклад
-Keywords[xx]=xxkorganizer,freebusy,schedulingxx
 Keywords[zh_CN]=korganizer,freebusy,scheduling,空闲,忙碌,日程安排
Index: korganizer/korganizer.desktop
===================================================================
--- korganizer/korganizer.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/korganizer.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -54,7 +54,6 @@
 Comment[ven]=Khalenda na mbekanyamushumo ya u shedula
 Comment[vi]=Chương trình lịch và kế hoạch
 Comment[xh]=Ikhalenda no Dweliso lwenkqubo Yokucwangcisa
-Comment[xx]=xxCalendar and Scheduling Programxx
 Comment[zh_CN]=日历和日程安排程序
 Comment[zh_TW]=日曆與行程管理程式
 Comment[zu]=Ikhalenda kanye Neprogramu Yokugcina isikhathi
@@ -78,7 +77,6 @@
 Name[sv]=Korganizer
 Name[ta]=கேஅமைப்பாளர்
 Name[ven]=Mulugisi wa K
-Name[xx]=xxKOrganizerxx
 GenericName=Personal Organizer
 GenericName[be]=Пэрсанальны арганізатар
 GenericName[bg]=Организатор
@@ -120,7 +118,6 @@
 GenericName[tr]=Kişisel Bilgi Yöneticisi
 GenericName[uk]=Персональний тижневик
 GenericName[uz]=Шахсий органайзер
-GenericName[xx]=xxPersonal Organizerxx
 GenericName[zh_CN]=个人日程安排
 ServiceTypes=Browser/View,DCOP/Organizer
 X-KDE-Library=libkorganizerpart
Index: korganizer/calendarview.cpp
===================================================================
--- korganizer/calendarview.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/calendarview.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -705,7 +705,7 @@
       Todo *todo = static_cast<Todo *>(newIncidence);
       if ( todo->isCompleted() ) {
         QString timeStr = KGlobal::locale()->formatTime( QTime::currentTime() );
-        QString description = i18n( "Todo completed: %1 (%2)" ).arg(
+        QString description = i18n( "To-do completed: %1 (%2)" ).arg(
           newIncidence->summary() ).arg( timeStr );
 
         Journal::List journals = calendar()->journals( QDate::currentDate() );
@@ -2229,7 +2229,7 @@
 void CalendarView::moveIncidenceTo( Incidence *incmove, const QDate &dt )
 {
   if ( !incmove || !mChanger ) {
-    KMessageBox::sorry( this, i18n("Unable to move the item to  %1.")
+    KMessageBox::sorry( this, i18n("Unable to move the item to %1.")
                         .arg( dt.toString() ), i18n("Moving Failed") );
     return;
   }
Index: korganizer/dcopcalendar.desktop
===================================================================
--- korganizer/dcopcalendar.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/dcopcalendar.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -43,5 +43,4 @@
 Comment[tg]=Органайзер бо интерфейси DCOP
 Comment[tr]=DCOP arayüzü ile Organizer
 Comment[uk]=Тижневик з інтерфейсом DCOP
-Comment[xx]=xxOrganizer with a DCOP interfacexx
 Comment[zh_CN]=具有 DCOP 接口的 PDA
Index: korganizer/koprefs.cpp
===================================================================
--- korganizer/koprefs.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/koprefs.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -62,22 +62,28 @@
 KOPrefs::KOPrefs() :
   KOPrefsBase()
 {
-  mCategoryColors.setAutoDelete(true);
-  mResourceColors.setAutoDelete(true);
+  mCategoryColors.setAutoDelete( true );
+  mResourceColors.setAutoDelete( true );
 
-  mDefaultCategoryColor = QColor(151, 235, 121);
+  mDefaultCategoryColor = QColor( 151, 235, 121 );
 
   mDefaultResourceColor = QColor();//Default is a color invalid
 
+  mDefaultTimeBarFont = KGlobalSettings::generalFont();
+  // make a large default time bar font, at least 16 points.
+  mDefaultTimeBarFont.setPointSize(
+    QMAX( mDefaultTimeBarFont.pointSize() + 4, 16 ) );
+
   mDefaultMonthViewFont = KGlobalSettings::generalFont();
   // make it a bit smaller
-  mDefaultMonthViewFont.setPointSize(mDefaultMonthViewFont.pointSize()-2);
+  mDefaultMonthViewFont.setPointSize( mDefaultMonthViewFont.pointSize() - 2 );
 
-  KConfigSkeleton::setCurrentGroup("General");
+  KConfigSkeleton::setCurrentGroup( "General" );
 
-  addItemPath("Html Export File",mHtmlExportFile,
-      QDir::homeDirPath() + "/" + i18n("Default export file", "calendar.html"));
+  addItemPath( "Html Export File", mHtmlExportFile,
+   QDir::homeDirPath() + "/" + i18n( "Default export file", "calendar.html" ) );
 
+  timeBarFontItem()->setDefaultValue( mDefaultTimeBarFont );
   monthViewFontItem()->setDefaultValue( mDefaultMonthViewFont );
   eventColorItem()->setDefaultValue( mDefaultCategoryColor );
 }
@@ -111,6 +117,7 @@
   if ( !tmp.isEmpty() ) setUserEmail( tmp );
   fillMailDefaults();
 
+  mTimeBarFont = mDefaultTimeBarFont;
   mMonthViewFont = mDefaultMonthViewFont;
 
   setTimeZoneIdDefault();
@@ -320,7 +327,7 @@
   // Add emails configured in korganizer
   lst += mAdditionalMails;
   // Add emails from the user's kaddressbook entry
-  lst += KABC::StdAddressBook::self( true )->whoAmI().emails();
+  lst += KABC::StdAddressBook::self()->whoAmI().emails();
   // Add the email entered as the userEmail here
   lst += email();
 
@@ -348,7 +355,7 @@
     fullEmails << QString("%1 <%2>").arg( fullName() ).arg( *it );
   }
   // Add emails from the user's kaddressbook entry
-  KABC::Addressee me = KABC::StdAddressBook::self( true )->whoAmI();
+  KABC::Addressee me = KABC::StdAddressBook::self()->whoAmI();
   lst = me.emails();
   for ( it = lst.begin(); it != lst.end(); ++it ) {
     fullEmails << me.fullEmail( *it );
@@ -366,7 +373,7 @@
   QString email = KPIM::getEmailAddress( _email );
   if ( mAdditionalMails.find( email ) != mAdditionalMails.end() )
     return true;
-  QStringList lst = KABC::StdAddressBook::self( true )->whoAmI().emails();
+  QStringList lst = KABC::StdAddressBook::self()->whoAmI().emails();
   if ( lst.find( email ) != lst.end() )
     return true;
   return false;
Index: korganizer/korganizer_configcolors.desktop
===================================================================
--- korganizer/korganizer_configcolors.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/korganizer_configcolors.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -67,7 +67,6 @@
 Name[ven]=Mivhala
 Name[vi]=Màu 
 Name[xh]=Imibala
-Name[xx]=xxColorsxx
 Name[zh_CN]=颜色
 Name[zu]=Imibala
 Comment=KOrganizer Colors Configuration
@@ -112,7 +111,6 @@
 Comment[tg]=Танзимотҳои ранги органайзери KDE
 Comment[tr]=KOrganizer Renk Yapılandırması
 Comment[uk]=Налаштування кольорів у KOrganizer
-Comment[xx]=xxKOrganizer Colors Configurationxx
 Comment[zh_CN]=KOrganizer 颜色配置
 Keywords=korganizer,colors
 Keywords[be]=K Арганізатар,колеры,korganizer,colors
@@ -156,5 +154,4 @@
 Keywords[tr]=korganizer,renkler
 Keywords[uk]=korganizer,кольори
 Keywords[uz]=korganizer,органайзер,ранглар
-Keywords[xx]=xxkorganizer,colorsxx
 Keywords[zh_CN]=korganizer,colors,颜色
Index: korganizer/resourceview.cpp
===================================================================
--- korganizer/resourceview.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/resourceview.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -291,11 +291,11 @@
   for( it = manager->begin(); it != manager->end(); ++it ) {
     addResourceItem( *it );
   }
-  manager->writeConfig();
 }
 
 void ResourceView::emitResourcesChanged()
 {
+  mCalendar->resourceManager()->writeConfig();
   emit resourcesChanged();
 }
 
@@ -338,7 +338,7 @@
     delete resource;
     resource = 0;
   }
-  emit resourcesChanged();
+  emitResourcesChanged();
 }
 
 void ResourceView::addResourceItem( ResourceCalendar *resource )
@@ -384,7 +384,7 @@
 
   ResourceItem *item = static_cast<ResourceItem *>( i );
   ( void )new ResourceItem( calendar, resource, label, this, item );
-  emit resourcesChanged();
+  emitResourcesChanged();
 }
 
 // Remove an entry
@@ -462,7 +462,7 @@
 
     mCalendar->resourceManager()->change( resource );
   }
-  emit resourcesChanged();
+  emitResourcesChanged();
 }
 
 void ResourceView::currentChanged( QListViewItem *item )
@@ -475,7 +475,6 @@
      mDeleteButton->setEnabled( true );
      mEditButton->setEnabled( true );
    }
-   mCalendar->resourceManager()->writeConfig();
 }
 
 ResourceItem *ResourceView::findItem( ResourceCalendar *r )
@@ -565,7 +564,7 @@
     KOPrefs::instance()->setResourceColor( identifier, myColor );
     item->setResourceColor( myColor );
     item->update();
-    emit resourcesChanged();
+    emitResourcesChanged();
   }
 }
 
@@ -582,7 +581,7 @@
   KOPrefs::instance()->setResourceColor( identifier, colorInvalid );
   item->setResourceColor( colorInvalid );
   item->update();
-  emit resourcesChanged();
+  emitResourcesChanged();
 }
 void ResourceView::showInfo()
 {
Index: korganizer/korganizer_configdesignerfields.desktop
===================================================================
--- korganizer/korganizer_configdesignerfields.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/korganizer_configdesignerfields.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -40,7 +40,7 @@
 Name[pl]=Własne strony
 Name[pt]=Páginas Personalizadas
 Name[pt_BR]=Páginas personalizadas
-Name[ru]=Пользовательские вкладки
+Name[ru]=Дополнительные поля
 Name[se]=Iežat siiddut
 Name[sk]=Vlastné stránky
 Name[sl]=Prilagojene strani
@@ -51,7 +51,6 @@
 Name[tg]=Варақаҳои замимавии истифодашаванда
 Name[tr]=Özel Sayfa
 Name[uk]=Нетипові сторінки
-Name[xx]=xxCustom Pagesxx
 Name[zh_CN]=定制页
 Comment=Configure the Custom Pages
 Comment[bg]=Настройки на потребителските полета
@@ -92,7 +91,6 @@
 Comment[tg]=Танзимоти варақаҳои замимавии истифодашаванда
 Comment[tr]=Özel Sayfaları Yapılandır
 Comment[uk]=Налаштування нетипових сторінок
-Comment[xx]=xxConfigure the Custom Pagesxx
 Comment[zh_CN]=配置定制页
 Keywords=korganizer, configure, settings, custom fields
 Keywords[bg]=организатор, настройки, korganizer, configure, settings, custom fields
@@ -110,6 +108,7 @@
 Keywords[hu]=korganizer,beállítás,beállítások,egyéni mezők
 Keywords[is]=korganizer, stillingar, stilla, sérsniðnir reitir
 Keywords[it]=korganizer, configura, impostazioni, campi personalizzati
+Keywords[ja]=korganizer、設定、設定,カスタムフィールド
 Keywords[lt]=korganizer, configure, settings, custom fields, konfigūruoti, nustatymai, pasirinkti laukai
 Keywords[nb]=kaddressbook, sette opp, innstillinger, tilpassede felter
 Keywords[nl]=korganizer, configuratie, instellingen, aangepaste velden
@@ -125,5 +124,4 @@
 Keywords[ta]=கேஅமைப்பாளர், வடிவமைப்பு,  அமைப்புகள், தனிபயன் புலங்கள்
 Keywords[tr]=korganizer, yapılandır, yapılandırma, özel alanlar
 Keywords[uk]=korganizer, configure, settings, custom fields, налаштування, параметри, нетипові поля
-Keywords[xx]=xxkorganizer, configure, settings, custom fieldsxx
 Keywords[zh_CN]=korganizer, configure, settings, custom fields, 配置, 设置, 定制项
Index: korganizer/korganizer_configgroupautomation.desktop
===================================================================
--- korganizer/korganizer_configgroupautomation.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/korganizer_configgroupautomation.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -51,7 +51,6 @@
 Name[tg]=Кори гурӯҳӣ
 Name[tr]=Grup Otomasyonu
 Name[uk]=Автоматизація груп
-Name[xx]=xxGroup Automationxx
 Name[zh_CN]=组自动化
 Comment=KOrganizer Group Automation Configuration
 Comment[bg]=Настройки на организация за KOrganizer
@@ -91,7 +90,6 @@
 Comment[tg]=Танзимоти кори гурӯҳӣ дар органайзер-KDE
 Comment[tr]=KOrganizer Grup Otomasyon Yapılandırması
 Comment[uk]=Налаштування автоматизації груп у KOrganizer
-Comment[xx]=xxKOrganizer Group Automation Configurationxx
 Comment[zh_CN]=KOrganizer 组自动化配置
 Keywords=korganizer,group,automation
 Keywords[bg]=организатор, организация, настройки, korganizer, group, automation
@@ -131,5 +129,4 @@
 Keywords[tg]=korganizer,group,automation,кори гурӯҳӣ, органайзер
 Keywords[tr]=korganizer,grup,otomasyon
 Keywords[uk]=korganizer,група,автоматизація
-Keywords[xx]=xxkorganizer,group,automationxx
 Keywords[zh_CN]=korganizer,group,automation,组,自动化
Index: korganizer/korganizer_configviews.desktop
===================================================================
--- korganizer/korganizer_configviews.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/korganizer_configviews.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -56,7 +56,6 @@
 Name[tr]=Görünümler
 Name[uk]=Перегляди
 Name[uz]=Кўринишлар
-Name[xx]=xxViewsxx
 Name[zh_CN]=视图
 Comment=KOrganizer View Configuration
 Comment[be]=Канфігурацыя выгляду "K Арганізатара"
@@ -96,7 +95,6 @@
 Comment[tg]=Танзимоти намудҳои органайзери KDE
 Comment[tr]=KOrganizer Görünüm Yapılandırması
 Comment[uk]=Налаштування переглядів у KOrganizer
-Comment[xx]=xxKOrganizer View Configurationxx
 Comment[zh_CN]=KOrganizer 视图配置
 Keywords=korganizer,view
 Keywords[be]=K Арганізатар,выгляд,korganizer,view
@@ -139,5 +137,4 @@
 Keywords[tr]=korganizer,görünüm
 Keywords[uk]=korganizer,перегляд
 Keywords[uz]=korganizer,органайзер,кўриниш
-Keywords[xx]=xxkorganizer,viewxx
 Keywords[zh_CN]=korganizer,view,视图
Index: korganizer/korganizer-import.desktop
===================================================================
--- korganizer/korganizer-import.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/korganizer-import.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -25,6 +25,7 @@
 Name[hu]=Naptár importálása
 Name[is]=Flytja inn dagatal
 Name[it]=Importa calendario
+Name[ja]=カレンダーをインポート
 Name[lt]=Importuoti kalendorių
 Name[nb]=Importer kalender
 Name[nl]=Agenda importeren
@@ -40,7 +41,6 @@
 Name[ta]=இறக்கும் நாட்காட்டி
 Name[tr]=Takvim Aktar
 Name[uk]=Імпорт календаря
-Name[xx]=xxImport Calendarxx
 Name[zh_CN]=导入日历
 ServiceTypes=Browser/View,DCOP/Organizer
 X-KDE-Library=libkorganizerpart
Index: korganizer/korganizer_configmain.desktop
===================================================================
--- korganizer/korganizer_configmain.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ korganizer/korganizer_configmain.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -53,7 +53,6 @@
 Name[tr]=Kişisel
 Name[uk]=Особисті
 Name[uz]=Шахсий
-Name[xx]=xxPersonalxx
 Name[zh_CN]=个人
 Comment=KOrganizer Main Configuration
 Comment[bg]=Главни настройки за KOrganizer
@@ -95,7 +94,6 @@
 Comment[tg]=Танзимотҳои умумии органайзер-KDE
 Comment[tr]=KOrganizer Temel Yapılandırması
 Comment[uk]=Налаштування особистих даних у KOrganizer
-Comment[xx]=xxKOrganizer Main Configurationxx
 Comment[zh_CN]=KOrganizer 主要配置
 Keywords=korganizer,main,personal
 Keywords[bg]=организатор, главни, персонални, настройки, korganizer, main, personal
@@ -136,5 +134,4 @@
 Keywords[tr]=korganizer,temel,kişisel
 Keywords[uk]=korganizer,особистий,Персональний
 Keywords[uz]=korganizer,органайзер,асосий,шахсий
-Keywords[xx]=xxkorganizer,main,personalxx
 Keywords[zh_CN]=korganizer,main,personal,主要,个人
Index: konsolekalendar/konsolekalendar.desktop
===================================================================
--- konsolekalendar/konsolekalendar.desktop	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ konsolekalendar/konsolekalendar.desktop	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -14,7 +14,6 @@
 Name[sr@Latn]=Konzolni kalendar
 Name[ta]=கான்சோல் நாள்காட்டி
 Name[uk]=Календар для консолі
-Name[xx]=xxKonsoleKalendarxx
 Exec=kdialog --sorry "konsolekalendar is a command-line only program.  Please read the handbook at help:/konsolekalendar for more info."
 Icon=konsolekalendar
 Type=Application
Index: konsolekalendar/konsolekalendar.cpp
===================================================================
--- konsolekalendar/konsolekalendar.cpp	(.../tags/KDE/3.5.0/kdepim)	(revision 492936)
+++ konsolekalendar/konsolekalendar.cpp	(.../branches/KDE/3.5/kdepim)	(revision 492936)
@@ -61,7 +61,6 @@
 KonsoleKalendar::KonsoleKalendar( KonsoleKalendarVariables *variables )
 {
   m_variables = variables;
-  // m_Calendar =  new ResourceCalendar;
 }
 
 KonsoleKalendar::~KonsoleKalendar()
@@ -111,7 +110,6 @@
   bool status = true;
   QFile f;
   QString title;
-  Event::List *eventList;
   Event *event;
 
   if ( m_variables->isDryRun() ) {
@@ -160,21 +158,21 @@
 
 	  Event::List sortedList =
             m_variables->getCalendar()->events( EventSortStartDate );
-			if( sortedList.count()>0)
-			{
-          QDate dt, firstdate, lastdate;
-          firstdate = sortedList.first()->dtStart().date();
-          lastdate = sortedList.last()->dtStart().date();
-          for ( dt = firstdate;
-                dt <= lastdate && status != false;
-                dt = dt.addDays(1) ) {
-            Event::List events =
-              m_variables->getCalendar()->events( dt,
-                                                  EventSortStartDate,
-                                                  SortDirectionAscending );
-            status = printEventList( &ts, &events, dt );
+          if( sortedList.count() > 0 )
+          {
+            QDate dt, firstdate, lastdate;
+            firstdate = sortedList.first()->dtStart().date();
+            lastdate = sortedList.last()->dtStart().date();
+            for ( dt = firstdate;
+                  dt <= lastdate && status != false;
+                  dt = dt.addDays(1) ) {
+              Event::List events =
+                m_variables->getCalendar()->events( dt,
+                                                    EventSortStartDate,
+                                                    SortDirectionAscending );
+              status = printEventList( &ts, &events, dt );
+            }
           }
-			}
 
 	} else if ( m_variables->isUID() ) {
 	  kdDebug() << "konsolekalendar.cpp::showInstance() | "
@@ -231,16 +229,17 @@
       } else {
 	QDate firstdate, lastdate;
 	if ( m_variables->getAll() ) {
-          // TODO: this is broken since the date on last() may not be last date
-          // (this is the case for me)
 	  kdDebug() << "konsolekalendar.cpp::showInstance() | "
                     << "HTML view all events sorted list"
                     << endl;
-          eventList =
-            new Event::List ( m_variables->getCalendar()->rawEvents() );
-	  firstdate = eventList->first()->dtStart().date();
-	  lastdate = eventList->last()->dtStart().date();
-          delete eventList;
+          // sort the events for this date by start date
+          // in order to determine the date range.
+          Event::List *events =
+            new Event::List ( m_variables->getCalendar()->rawEvents(
+                                EventSortStartDate,
+                                SortDirectionAscending ) );
+	  firstdate = events->first()->dtStart().date();
+	  lastdate = events->last()->dtStart().date();
 	} else if ( m_variables->isUID() ) {
 	  // TODO
 	  kdDebug() << "konsolekalendar.cpp::showInstance() | "

Property changes on: .
___________________________________________________________________
Name: svn:externals
   + admin https://svn.kde.org/home/kde/branches/KDE/3.5/kde-common/admin


